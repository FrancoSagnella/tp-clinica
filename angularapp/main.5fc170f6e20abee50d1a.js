(self.webpackChunktp_clinica=self.webpackChunktp_clinica||[]).push([[179],{8255:et=>{function Ae(V){return Promise.resolve().then(()=>{var d=new Error("Cannot find module '"+V+"'");throw d.code="MODULE_NOT_FOUND",d})}Ae.keys=()=>[],Ae.resolve=Ae,Ae.id=8255,et.exports=Ae},3018:(et,Ae,V)=>{"use strict";V.d(Ae,{deG:()=>va,tb:()=>jT,AFp:()=>LT,ip1:()=>Rb,CZH:()=>Sf,hGG:()=>px,z2F:()=>zg,sBO:()=>SC,Sil:()=>Gg,_Vd:()=>sf,EJc:()=>xb,SBq:()=>ls,qLn:()=>Ee,vpe:()=>ja,gxx:()=>ed,tBr:()=>Dl,XFs:()=>xe,OlP:()=>bn,zs3:()=>Pn,ZZ4:()=>h_,aQg:()=>mg,soG:()=>Zu,YKP:()=>Bu,v3s:()=>Yg,h0i:()=>Sr,PXZ:()=>JR,R0b:()=>ds,FiY:()=>ki,Lbi:()=>BT,g9A:()=>UT,Qsj:()=>_C,FYo:()=>fg,JOm:()=>Da,Tiy:()=>N0,q3G:()=>yn,tp0:()=>Ca,EAV:()=>aD,Rgc:()=>Vi,dDg:()=>JT,DyG:()=>Il,q4F:()=>c_,GfV:()=>af,s_b:()=>g_,ifc:()=>gn,eFA:()=>q_,G48:()=>KR,Gpc:()=>de,X6Q:()=>Rf,_c5:()=>lx,VLi:()=>Wu,c2e:()=>$T,zSh:()=>Mp,wAp:()=>ot,vHH:()=>he,EiD:()=>cp,mCW:()=>vu,qzn:()=>pi,JVY:()=>Dm,pB0:()=>Sm,eBb:()=>ap,L6k:()=>Am,LAX:()=>Rl,cg1:()=>fr,Tjo:()=>sx,kL8:()=>Lu,yhl:()=>Ta,dqk:()=>j,sIi:()=>Hn,CqO:()=>Py,QGY:()=>Oy,F4k:()=>OI,RDi:()=>Gi,AaK:()=>Y,z3N:()=>Fi,qOj:()=>Lp,TTD:()=>Ic,_Bn:()=>mr,xp6:()=>ey,uIk:()=>Bp,ekj:()=>cd,Suo:()=>cT,Xpm:()=>Ko,lG2:()=>Hf,Yz7:()=>un,cJS:()=>Ai,oAB:()=>Wa,Yjl:()=>Xu,Y36:()=>Kp,_UZ:()=>Pu,qZA:()=>ad,TgZ:()=>$E,EpF:()=>MI,n5z:()=>bl,Ikx:()=>Zy,LFG:()=>Bn,$8M:()=>Qi,NdJ:()=>ky,CRH:()=>dT,oxw:()=>PI,ALo:()=>ab,lcZ:()=>D_,Q6J:()=>BE,DdM:()=>xg,iGM:()=>x_,MAs:()=>$p,CHM:()=>Tc,LSH:()=>ns,kYT:()=>zs,YNc:()=>zl,W1O:()=>fb,_uU:()=>ZI,Oqu:()=>Hy,hij:()=>qy});var d=V(9765),ee=V(5319),F=V(7574),le=V(6682),te=V(2441);var ce=V(1307);function z(){return new d.xQ}function L(i){for(let s in i)if(i[s]===L)return s;throw Error("Could not find renamed property on target object.")}function J(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function Y(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Y).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function re(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Ie=L({__forward_ref__:L});function de(i){return i.__forward_ref__=de,i.toString=function(){return Y(this())},i}function G(i){return _e(i)?i():i}function _e(i){return"function"==typeof i&&i.hasOwnProperty(Ie)&&i.__forward_ref__===de}class he extends Error{constructor(s,o){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,o)),this.code=s}}function Ve(i){return"string"==typeof i?i:null==i?"":String(i)}function vt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Ve(i)}function oe(i,s){const o=s?` in ${s}`:"";throw new he("201",`No provider for ${vt(i)} found${o}`)}function fn(i,s){null==i&&function(i,s,o,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${o} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function un(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Ai(i){return{providers:i.providers||[],imports:i.imports||[]}}function Nr(i){return ai(i,Cn)||ai(i,mo)}function ai(i,s){return i.hasOwnProperty(s)?i[s]:null}function ui(i){return i&&(i.hasOwnProperty(Er)||i.hasOwnProperty(it))?i[Er]:null}const Cn=L({\u0275prov:L}),Er=L({\u0275inj:L}),mo=L({ngInjectableDef:L}),it=L({ngInjectorDef:L});var xe=(()=>((xe=xe||{})[xe.Default=0]="Default",xe[xe.Host=1]="Host",xe[xe.Self=2]="Self",xe[xe.SkipSelf=4]="SkipSelf",xe[xe.Optional=8]="Optional",xe))();let zt;function pn(i){const s=zt;return zt=i,s}function Bt(i,s,o){const u=Nr(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&xe.Optional?null:void 0!==s?s:void oe(Y(i),"Injector")}function Qe(i){return{toString:i}.toString()}var vn=(()=>((vn=vn||{})[vn.OnPush=0]="OnPush",vn[vn.Default=1]="Default",vn))(),gn=(()=>((gn=gn||{})[gn.Emulated=0]="Emulated",gn[gn.None=2]="None",gn[gn.ShadowDom=3]="ShadowDom",gn))();const Mr="undefined"!=typeof globalThis&&globalThis,yo="undefined"!=typeof window&&window,$="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j=Mr||"undefined"!=typeof global&&global||yo||$,Ze={},$e=[],jt=L({\u0275cmp:L}),rn=L({\u0275dir:L}),tn=L({\u0275pipe:L}),qr=L({\u0275mod:L}),St=L({\u0275loc:L}),sn=L({\u0275fac:L}),ir=L({__NG_ELEMENT_ID__:L});let Qu=0;function Ko(i){return Qe(()=>{const o={},u={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===vn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||$e,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||gn.Emulated,id:"c",styles:i.styles||$e,_:null,setInput:null,schemas:i.schemas||null,tView:null},l=i.directives,h=i.features,m=i.pipes;return u.id+=Qu++,u.inputs=Ri(i.inputs,o),u.outputs=Ri(i.outputs),h&&h.forEach(y=>y(u)),u.directiveDefs=l?()=>("function"==typeof l?l():l).map(za):null,u.pipeDefs=m?()=>("function"==typeof m?m():m).map(Ju):null,u})}function za(i){return sr(i)||function(i){return i[rn]||null}(i)}function Ju(i){return function(i){return i[tn]||null}(i)}const Zs={};function Wa(i){return Qe(()=>{const s={type:i.type,bootstrap:i.bootstrap||$e,declarations:i.declarations||$e,imports:i.imports||$e,exports:i.exports||$e,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Zs[i.id]=i.type),s})}function zs(i,s){return Qe(()=>{const o=zn(i,!0);o.declarations=s.declarations||$e,o.imports=s.imports||$e,o.exports=s.exports||$e})}function Ri(i,s){if(null==i)return Ze;const o={};for(const u in i)if(i.hasOwnProperty(u)){let l=i[u],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),o[l]=u,s&&(s[l]=h)}return o}const Hf=Ko;function Xu(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function sr(i){return i[jt]||null}function zn(i,s){const o=i[qr]||null;if(!o&&!0===s)throw new Error(`Type ${Y(i)} does not have '\u0275mod' property.`);return o}function zr(i){return Array.isArray(i)&&"object"==typeof i[1]}function Kt(i){return Array.isArray(i)&&!0===i[1]}function Qa(i){return 0!=(8&i.flags)}function tl(i){return 2==(2&i.flags)}function Wr(i){return 1==(1&i.flags)}function xi(i){return null!==i.template}function nl(i){return 0!=(512&i[2])}function Or(i,s){return i.hasOwnProperty(sn)?i[sn]:null}class Ni{constructor(s,o,u){this.previousValue=s,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Ic(){return Io}function Io(i){return i.type.prototype.ngOnChanges&&(i.setInput=Wd),Mi}function Mi(){const i=Co(this),s=null==i?void 0:i.current;if(s){const o=i.previous;if(o===Ze)i.previous=s;else for(let u in s)o[u]=s[u];i.current=null,this.ngOnChanges(s)}}function Wd(i,s,o,u){const l=Co(i)||function(i,s){return i[qf]=s}(i,{previous:Ze,current:null}),h=l.current||(l.current={}),m=l.previous,y=this.declaredInputs[o],E=m[y];h[y]=new Ni(E&&E.currentValue,s,m===Ze),i[u]=s}Ic.ngInherit=!0;const qf="__ngSimpleChanges__";function Co(i){return i[qf]||null}let Qs;function Gi(i){Qs=i}function ln(i){return!!i.listen}const ia={createRenderer:(i,s)=>void 0!==Qs?Qs:"undefined"!=typeof document?document:void 0};function Tt(i){for(;Array.isArray(i);)i=i[0];return i}function eu(i,s){return Tt(s[i])}function wr(i,s){return Tt(s[i.index])}function Zi(i,s){return i.data[s]}function Do(i,s){return i[s]}function Yn(i,s){const o=s[i];return zr(o)?o:o[0]}function Ao(i){return 4==(4&i[2])}function sa(i){return 128==(128&i[2])}function Js(i,s){return null==s?null:i[s]}function oa(i){i[18]=0}function ll(i,s){i[5]+=s;let o=i,u=i[3];for(;null!==u&&(1===s&&1===o[5]||-1===s&&0===o[5]);)u[5]+=s,o=u,u=u[3]}const ut={lFrame:fl(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Cc(){return ut.bindingsEnabled}function Re(){return ut.lFrame.lView}function Rt(){return ut.lFrame.tView}function Tc(i){return ut.lFrame.contextLView=i,i[8]}function En(){let i=Jd();for(;null!==i&&64===i.type;)i=i.parent;return i}function Jd(){return ut.lFrame.currentTNode}function ci(i,s){const o=ut.lFrame;o.currentTNode=i,o.isParent=s}function nu(){return ut.lFrame.isParent}function la(){return ut.isInCheckNoChangesMode}function zi(i){ut.isInCheckNoChangesMode=i}function Pr(){const i=ut.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Wi(){return ut.lFrame.bindingIndex++}function Dc(i,s){const o=ut.lFrame;o.bindingIndex=o.bindingRootIndex=i,ca(s)}function ca(i){ut.lFrame.currentDirectiveIndex=i}function Ro(){return ut.lFrame.currentQueryIndex}function Ac(i){ut.lFrame.currentQueryIndex=i}function Zf(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function th(i,s,o){if(o&xe.SkipSelf){let l=s,h=i;for(;!(l=l.parent,null!==l||o&xe.Host||(l=Zf(h),null===l||(h=h[15],10&l.type))););if(null===l)return!1;s=l,i=h}const u=ut.lFrame=nh();return u.currentTNode=s,u.lView=i,!0}function xo(i){const s=nh(),o=i[1];ut.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function nh(){const i=ut.lFrame,s=null===i?null:i.child;return null===s?fl(i):s}function fl(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function rh(){const i=ut.lFrame;return ut.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const fv=rh;function zf(){const i=rh();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Kr(){return ut.lFrame.selectedIndex}function Ki(i){ut.lFrame.selectedIndex=i}function cn(){const i=ut.lFrame;return Zi(i.tView,i.selectedIndex)}function da(i,s){for(let o=s.directiveStart,u=s.directiveEnd;o<u;o++){const h=i.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:y,ngAfterViewInit:E,ngAfterViewChecked:C,ngOnDestroy:D}=h;m&&(i.contentHooks||(i.contentHooks=[])).push(-o,m),y&&((i.contentHooks||(i.contentHooks=[])).push(o,y),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,y)),E&&(i.viewHooks||(i.viewHooks=[])).push(-o,E),C&&((i.viewHooks||(i.viewHooks=[])).push(o,C),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,C)),null!=D&&(i.destroyHooks||(i.destroyHooks=[])).push(o,D)}}function ha(i,s,o){Nc(i,s,3,o)}function xc(i,s,o,u){(3&i[2])===o&&Nc(i,s,o,u)}function No(i,s){let o=i[2];(3&o)===s&&(o&=2047,o+=1,i[2]=o)}function Nc(i,s,o,u){const h=null!=u?u:-1,m=s.length-1;let y=0;for(let E=void 0!==u?65535&i[18]:0;E<m;E++)if("number"==typeof s[E+1]){if(y=s[E],null!=u&&y>=u)break}else s[E]<0&&(i[18]+=65536),(y<h||-1==h)&&(Mc(i,o,s,E),i[18]=(4294901760&i[18])+E+2),E++}function Mc(i,s,o,u){const l=o[u]<0,h=o[u+1],y=i[l?-o[u]:o[u]];if(l){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{h.call(y)}finally{}}}else try{h.call(y)}finally{}}class su{constructor(s,o,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function dn(i,s,o){const u=ln(i);let l=0;for(;l<o.length;){const h=o[l];if("number"==typeof h){if(0!==h)break;l++;const m=o[l++],y=o[l++],E=o[l++];u?i.setAttribute(s,y,E,m):s.setAttributeNS(m,y,E)}else{const m=h,y=o[++l];gl(m)?u&&i.setProperty(s,m,y):u?i.setAttribute(s,m,y):s.setAttribute(m,y),l++}}return l}function au(i){return 3===i||4===i||6===i}function gl(i){return 64===i.charCodeAt(0)}function uu(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let u=0;u<s.length;u++){const l=s[u];"number"==typeof l?o=l:0===o||ml(i,o,l,null,-1===o||2===o?s[++u]:null)}}return i}function ml(i,s,o,u,l){let h=0,m=i.length;if(-1===s)m=-1;else for(;h<i.length;){const y=i[h++];if("number"==typeof y){if(y===s){m=-1;break}if(y>s){m=h-1;break}}}for(;h<i.length;){const y=i[h];if("number"==typeof y)break;if(y===o){if(null===u)return void(null!==l&&(i[h+1]=l));if(u===i[h+1])return void(i[h+2]=l)}h++,null!==u&&h++,null!==l&&h++}-1!==m&&(i.splice(m,0,s),h=m+1),i.splice(h++,0,o),null!==u&&i.splice(h++,0,u),null!==l&&i.splice(h++,0,l)}function yl(i){return-1!==i}function lu(i){return 32767&i}function cu(i,s){let o=function(i){return i>>16}(i),u=s;for(;o>0;)u=u[15],o--;return u}let du=!0;function fa(i){const s=du;return du=i,s}let Je=0;function Ss(i,s){const o=Mo(i,s);if(-1!==o)return o;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,ur(u.data,i),ur(s,null),ur(u.blueprint,null));const l=no(i,s),h=i.injectorIndex;if(yl(l)){const m=lu(l),y=cu(l,s),E=y[1].data;for(let C=0;C<8;C++)s[h+C]=y[m+C]|E[m+C]}return s[h+8]=l,h}function ur(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Mo(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function no(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,u=null,l=s;for(;null!==l;){const h=l[1],m=h.type;if(u=2===m?h.declTNode:1===m?l[6]:null,null===u)return-1;if(o++,l=l[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function Vn(i,s,o){!function(i,s,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(ir)&&(u=o[ir]),null==u&&(u=o[ir]=Je++);const l=255&u;s.data[i+(l>>5)]|=1<<l}(i,s,o)}function ym(i,s,o){if(o&xe.Optional)return i;oe(s,"NodeInjector")}function ga(i,s,o,u){if(o&xe.Optional&&void 0===u&&(u=null),0==(o&(xe.Self|xe.Host))){const l=i[9],h=pn(void 0);try{return l?l.get(s,u,o&xe.Optional):Bt(s,u,o&xe.Optional)}finally{pn(h)}}return ym(u,s,o)}function Yr(i,s,o,u=xe.Default,l){if(null!==i){const h=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(ir)?i[ir]:void 0;return"number"==typeof s?s>=0?255&s:Pc:s}(o);if("function"==typeof h){if(!th(s,i,u))return u&xe.Host?ym(l,o,u):ga(s,o,u,l);try{const m=h(u);if(null!=m||u&xe.Optional)return m;oe(o)}finally{fv()}}else if("number"==typeof h){let m=null,y=Mo(i,s),E=-1,C=u&xe.Host?s[16][6]:null;for((-1===y||u&xe.SkipSelf)&&(E=-1===y?no(i,s):s[y+8],-1!==E&&Oo(u,!1)?(m=s[1],y=lu(E),s=cu(E,s)):y=-1);-1!==y;){const D=s[1];if(Yf(h,y,D.data)){const N=vl(y,s,o,m,u,C);if(N!==ah)return N}E=s[y+8],-1!==E&&Oo(u,s[1].data[y+8]===C)&&Yf(h,y,s)?(m=D,y=lu(E),s=cu(E,s)):y=-1}}}return ga(s,o,u,l)}const ah={};function Pc(){return new di(En(),Re())}function vl(i,s,o,u,l,h){const m=s[1],y=m.data[i+8],D=ma(y,m,o,null==u?tl(y)&&du:u!=m&&0!=(3&y.type),l&xe.Host&&h===y);return null!==D?ya(s,m,D,y):ah}function ma(i,s,o,u,l){const h=i.providerIndexes,m=s.data,y=1048575&h,E=i.directiveStart,D=h>>20,O=l?y+D:i.directiveEnd;for(let B=u?y:y+D;B<O;B++){const Z=m[B];if(B<E&&o===Z||B>=E&&Z.type===o)return B}if(l){const B=m[E];if(B&&xi(B)&&B.type===o)return E}return null}function ya(i,s,o,u){let l=i[o];const h=s.data;if(function(i){return i instanceof su}(l)){const m=l;m.resolving&&function(i,s){throw new he("200",`Circular dependency in DI detected for ${i}`)}(vt(h[o]));const y=fa(m.canSeeViewProviders);m.resolving=!0;const E=m.injectImpl?pn(m.injectImpl):null;th(i,u,xe.Default);try{l=i[o]=m.factory(void 0,h,i,u),s.firstCreatePass&&o>=u.directiveStart&&function(i,s,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:h}=s.type.prototype;if(u){const m=Io(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,m)}l&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,l),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,h))}(o,h[o],s)}finally{null!==E&&pn(E),fa(y),m.resolving=!1,fv()}}return l}function Yf(i,s,o){return!!(o[s+(i>>5)]&1<<i)}function Oo(i,s){return!(i&xe.Self||i&xe.Host&&s)}class di{constructor(s,o){this._tNode=s,this._lView=o}get(s,o){return Yr(this._tNode,this._lView,s,void 0,o)}}function bl(i){return Qe(()=>{const s=i.prototype.constructor,o=s[sn]||wl(s),u=Object.prototype;let l=Object.getPrototypeOf(i.prototype).constructor;for(;l&&l!==u;){const h=l[sn]||wl(l);if(h&&h!==o)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function wl(i){return _e(i)?()=>{const s=wl(G(i));return s&&s()}:Or(i)}function Qi(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const h=o[l];if(au(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(h===s)return o[l+1];l+=2}}}return null}(En(),i)}const ro="__parameters__";function _a(i,s,o){return Qe(()=>{const u=function(i){return function(...o){if(i){const u=i(...o);for(const l in u)this[l]=u[l]}}}(s);function l(...h){if(this instanceof l)return u.apply(this,h),this;const m=new l(...h);return y.annotation=m,y;function y(E,C,D){const N=E.hasOwnProperty(ro)?E[ro]:Object.defineProperty(E,ro,{value:[]})[ro];for(;N.length<=D;)N.push(null);return(N[D]=N[D]||[]).push(m),E}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=i,l.annotationCls=l,l})}class bn{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=un({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const va=new bn("AnalyzeForEntryComponents"),Il=Function;function hi(i,s){void 0===s&&(s=i);for(let o=0;o<i.length;o++){let u=i[o];Array.isArray(u)?(s===i&&(s=i.slice(0,o)),hi(u,s)):s!==i&&s.push(u)}return s}function Qr(i,s){i.forEach(o=>Array.isArray(o)?Qr(o,s):s(o))}function Xi(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function Ns(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function I(i,s,o){let u=R(i,s);return u>=0?i[1|u]=o:(u=~u,function(i,s,o,u){let l=i.length;if(l==s)i.push(o,u);else if(1===l)i.push(u,i[0]),i[0]=o;else{for(l--,i.push(i[l-1],i[l]);l>s;)i[l]=i[l-2],l--;i[s]=o,i[s+1]=u}}(i,u,s,o)),u}function T(i,s){const o=R(i,s);if(o>=0)return i[1|o]}function R(i,s){return function(i,s,o){let u=0,l=i.length>>o;for(;l!==u;){const h=u+(l-u>>1),m=i[h<<o];if(s===m)return h<<o;m>s?l=h:u=h+1}return~(l<<o)}(i,s,1)}const es={},fu="__NG_DI_FLAG__",fi="ngTempTokenPath",Os=/\n/gm,Uc="__source",jc=L({provide:String,useValue:L});let wa;function pu(i){const s=wa;return wa=i,s}function gv(i,s=xe.Default){if(void 0===wa)throw new Error("inject() must be called from an injection context");return null===wa?Bt(i,void 0,s):wa.get(i,s&xe.Optional?null:void 0,s)}function Bn(i,s=xe.Default){return(zt||gv)(G(i),s)}function Ia(i){const s=[];for(let o=0;o<i.length;o++){const u=G(i[o]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let l,h=xe.Default;for(let m=0;m<u.length;m++){const y=u[m],E=Em(y);"number"==typeof E?-1===E?l=y.token:h|=E:l=y}s.push(Bn(l,h))}else s.push(Bn(u))}return s}function Tl(i,s){return i[fu]=s,i.prototype[fu]=s,i}function Em(i){return i[fu]}function cr(i,s,o,u){const l=i[fi];throw s[Uc]&&l.unshift(s[Uc]),i.message=function(i,s,o,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let l=Y(s);if(Array.isArray(s))l=s.map(Y).join(" -> ");else if("object"==typeof s){let h=[];for(let m in s)if(s.hasOwnProperty(m)){let y=s[m];h.push(m+":"+("string"==typeof y?JSON.stringify(y):Y(y)))}l=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${i.replace(Os,"\n  ")}`}("\n"+i.message,l,o,u),i.ngTokenPath=l,i[fi]=null,i}const Dl=Tl(_a("Inject",i=>({token:i})),-1),ki=Tl(_a("Optional"),8),Ca=Tl(_a("SkipSelf"),4);let Fo;function oo(i){var s;return(null===(s=function(){if(void 0===Fo&&(Fo=null,j.trustedTypes))try{Fo=j.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Fo}())||void 0===s?void 0:s.createHTML(i))||i}class yu{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class vv extends yu{getTypeName(){return"HTML"}}class yw extends yu{getTypeName(){return"Style"}}class _u extends yu{getTypeName(){return"Script"}}class Tm extends yu{getTypeName(){return"URL"}}class op extends yu{getTypeName(){return"ResourceURL"}}function Fi(i){return i instanceof yu?i.changingThisBreaksApplicationSecurity:i}function pi(i,s){const o=Ta(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}function Ta(i){return i instanceof yu&&i.getTypeName()||null}function Dm(i){return new vv(i)}function Am(i){return new yw(i)}function ap(i){return new _u(i)}function Rl(i){return new Tm(i)}function Sm(i){return new op(i)}class yh{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(oo(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class Rm{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(s){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=oo(s),o;const u=this.inertDocument.createElement("body");return u.innerHTML=oo(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const o=s.attributes;for(let l=o.length-1;0<l;l--){const m=o.item(l).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&s.removeAttribute(m)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const xm=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,_h=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function vu(i){return(i=String(i)).match(xm)||i.match(_h)?i:"unsafe:"+i}function ks(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function Eu(...i){const s={};for(const o of i)for(const u in o)o.hasOwnProperty(u)&&(s[u]=!0);return s}const vh=ks("area,br,col,hr,img,wbr"),Mm=ks("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wc=ks("rp,rt"),Eh=Eu(vh,Eu(Mm,ks("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Eu(Wc,ks("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Eu(Wc,Mm)),bh=ks("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Kc=ks("srcset"),Pm=Eu(bh,Kc,ks("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ks("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Yc=ks("script,style,template");class wh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let l=this.checkClobberedElement(o,o.nextSibling);if(l){o=l;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!Eh.hasOwnProperty(o))return this.sanitizedSomething=!0,!Yc.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=s.attributes;for(let l=0;l<u.length;l++){const h=u.item(l),m=h.name,y=m.toLowerCase();if(!Pm.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let E=h.value;bh[y]&&(E=vu(E)),Kc[y]&&(i=E,E=(i=String(i)).split(",").map(s=>vu(s.trim())).join(", ")),this.buf.push(" ",m,'="',Fm(E),'"')}var i;return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();Eh.hasOwnProperty(o)&&!vh.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(Fm(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const km=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lp=/([^\#-~ |!])/g;function Fm(i){return i.replace(/&/g,"&amp;").replace(km,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(lp,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Qc;function cp(i,s){let o=null;try{Qc=Qc||function(i){const s=new Rm(i);return function(){try{return!!(new window.DOMParser).parseFromString(oo(""),"text/html")}catch(i){return!1}}()?new yh(s):s}(i);let u=s?String(s):"";o=Qc.getInertBodyElement(u);let l=5,h=u;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,u=h,h=o.innerHTML,o=Qc.getInertBodyElement(u)}while(u!==h);return oo((new wh).sanitizeChildren(Ih(o)||o))}finally{if(o){const u=Ih(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Ih(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var yn=(()=>((yn=yn||{})[yn.NONE=0]="NONE",yn[yn.HTML=1]="HTML",yn[yn.STYLE=2]="STYLE",yn[yn.SCRIPT=3]="SCRIPT",yn[yn.URL=4]="URL",yn[yn.RESOURCE_URL=5]="RESOURCE_URL",yn))();function ns(i){const s=function(){const i=Re();return i&&i[12]}();return s?s.sanitize(yn.URL,i)||"":pi(i,"URL")?Fi(i):vu(Ve(i))}const Dh="__ngContext__";function an(i,s){i[Dh]=s}function Tr(i){const s=function(i){return i[Dh]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function A(i){return i.ngOriginalError}function W(i,...s){i.error(...s)}class Ee{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s),u=this._findContext(s),l=(i=s)&&i.ngErrorLogger||W;var i;l(this._console,"ERROR",s),o&&l(this._console,"ORIGINAL ERROR",o),u&&l(this._console,"ERROR CONTEXT",u)}_findContext(s){return s?s.ngDebugContext||this._findContext(A(s)):null}_findOriginalError(s){let o=s&&A(s);for(;o&&A(o);)o=A(o);return o||null}}const vp=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(j))();function rs(i){return i instanceof Function?i():i}var Da=(()=>((Da=Da||{})[Da.Important=1]="Important",Da[Da.DashCase=2]="DashCase",Da))();function Iv(i,s){return undefined(i,s)}function Sh(i){const s=i[3];return Kt(s)?s[3]:s}function Zm(i){return Iw(i[13])}function Dv(i){return Iw(i[4])}function Iw(i){for(;null!==i&&!Kt(i);)i=i[4];return i}function Rh(i,s,o,u,l){if(null!=u){let h,m=!1;Kt(u)?h=u:zr(u)&&(m=!0,u=u[0]);const y=Tt(u);0===i&&null!==o?null==l?Km(s,o,y):Aa(s,o,y,l||null,!0):1===i&&null!==o?Aa(s,o,y,l||null,!0):2===i?function(i,s,o){const u=Ym(i,s);u&&function(i,s,o,u){ln(i)?i.removeChild(s,o,u):s.removeChild(o)}(i,u,s,o)}(s,y,m):3===i&&s.destroyNode(y),null!=h&&function(i,s,o,u,l){const h=o[7];h!==Tt(o)&&Rh(s,i,u,h,l);for(let y=10;y<o.length;y++){const E=o[y];Ip(E[1],E,i,s,u,h)}}(s,i,h,o,l)}}function Sv(i,s,o){return ln(i)?i.createElement(s,o):null===o?i.createElement(s):i.createElementNS(o,s)}function Tw(i,s){const o=i[9],u=o.indexOf(s),l=s[3];1024&s[2]&&(s[2]&=-1025,ll(l,-1)),o.splice(u,1)}function xv(i,s){if(i.length<=10)return;const o=10+s,u=i[o];if(u){const l=u[17];null!==l&&l!==i&&Tw(l,u),s>0&&(i[o-1][4]=u[4]);const h=Ns(i,10+s);!function(i,s){Ip(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const m=h[19];null!==m&&m.detachView(h[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Dw(i,s){if(!(256&s[2])){const o=s[11];ln(o)&&o.destroyNode&&Ip(i,s,o,3,null,null),function(i){let s=i[13];if(!s)return Wm(i[1],i);for(;s;){let o=null;if(zr(s))o=s[13];else{const u=s[10];u&&(o=u)}if(!o){for(;s&&!s[4]&&s!==i;)zr(s)&&Wm(s[1],s),s=s[3];null===s&&(s=i),zr(s)&&Wm(s[1],s),o=s&&s[4]}s=o}}(s)}}function Wm(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let u=0;u<o.length;u+=2){const l=s[o[u]];if(!(l instanceof su)){const h=o[u+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const y=l[h[m]],E=h[m+1];try{E.call(y)}finally{}}else try{h.call(l)}finally{}}}}(i,s),function(i,s){const o=i.cleanup,u=s[7];let l=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+1],y="function"==typeof m?m(s):Tt(s[m]),E=u[l=o[h+2]],C=o[h+3];"boolean"==typeof C?y.removeEventListener(o[h],E,C):C>=0?u[l=C]():u[l=-C].unsubscribe(),h+=2}else{const m=u[l=o[h+1]];o[h].call(m)}if(null!==u){for(let h=l+1;h<u.length;h++)u[h]();s[7]=null}}(i,s),1===s[1].type&&ln(s[11])&&s[11].destroy();const o=s[17];if(null!==o&&Kt(s[3])){o!==s[3]&&Tw(o,s);const u=s[19];null!==u&&u.detachView(i)}}}function tr(i,s,o){return function(i,s,o){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return o[0];if(2&u.flags){const l=i.data[u.directiveStart].encapsulation;if(l===gn.None||l===gn.Emulated)return null}return wr(u,o)}(i,s.parent,o)}function Aa(i,s,o,u,l){ln(i)?i.insertBefore(s,o,u,l):s.insertBefore(o,u,l)}function Km(i,s,o){ln(i)?i.appendChild(s,o):s.appendChild(o)}function bp(i,s,o,u,l){null!==u?Aa(i,s,o,u,l):Km(i,s,o)}function Ym(i,s){return ln(i)?i.parentNode(s):s.parentNode}let Nv=function(i,s,o){return 40&i.type?wr(i,o):null};function wp(i,s,o,u){const l=tr(i,u,s),h=s[11],y=function(i,s,o){return Nv(i,s,o)}(u.parent||s[6],u,s);if(null!=l)if(Array.isArray(o))for(let E=0;E<o.length;E++)bp(h,l,o[E],y,!1);else bp(h,l,o,y,!1)}function Mh(i,s){if(null!==s){const o=s.type;if(3&o)return wr(s,i);if(4&o)return Iu(-1,i[s.index]);if(8&o){const u=s.child;if(null!==u)return Mh(i,u);{const l=i[s.index];return Kt(l)?Iu(-1,l):Tt(l)}}if(32&o)return Iv(s,i)()||Tt(i[s.index]);{const u=fA(i,s);return null!==u?Array.isArray(u)?u[0]:Mh(Sh(i[16]),u):Mh(i,s.next)}}return null}function fA(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Iu(i,s){const o=10+i+1;if(o<s.length){const u=s[o],l=u[1].firstChild;if(null!==l)return Mh(u,l)}return s[7]}function kv(i,s,o,u,l,h,m){for(;null!=o;){const y=u[o.index],E=o.type;if(m&&0===s&&(y&&an(Tt(y),u),o.flags|=4),64!=(64&o.flags))if(8&E)kv(i,s,o.child,u,l,h,!1),Rh(s,i,l,y,h);else if(32&E){const C=Iv(o,u);let D;for(;D=C();)Rh(s,i,l,D,h);Rh(s,i,l,y,h)}else 16&E?Jm(i,s,u,o,l,h):Rh(s,i,l,y,h);o=m?o.projectionNext:o.next}}function Ip(i,s,o,u,l,h){kv(o,u,i.firstChild,s,l,h,!1)}function Jm(i,s,o,u,l,h){const m=o[16],E=m[6].projection[u.projection];if(Array.isArray(E))for(let C=0;C<E.length;C++)Rh(s,i,l,E[C],h);else kv(i,s,E,m[3],l,h,!0)}function Rw(i,s,o){ln(i)?i.setAttribute(s,"style",o):s.style.cssText=o}function Xm(i,s,o){ln(i)?""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o):s.className=o}function xw(i,s,o){let u=i.length;for(;;){const l=i.indexOf(s,o);if(-1===l)return l;if(0===l||i.charCodeAt(l-1)<=32){const h=s.length;if(l+h===u||i.charCodeAt(l+h)<=32)return l}o=l+1}}const Nw="ng-template";function Fv(i,s,o){let u=0;for(;u<i.length;){let l=i[u++];if(o&&"class"===l){if(l=i[u],-1!==xw(l.toLowerCase(),s,0))return!0}else if(1===l){for(;u<i.length&&"string"==typeof(l=i[u++]);)if(l.toLowerCase()===s)return!0;return!1}}return!1}function Mw(i){return 4===i.type&&i.value!==Nw}function yA(i,s,o){return s===(4!==i.type||o?i.value:Nw)}function Ow(i,s,o){let u=4;const l=i.attrs||[],h=function(i){for(let s=0;s<i.length;s++)if(au(i[s]))return s;return i.length}(l);let m=!1;for(let y=0;y<s.length;y++){const E=s[y];if("number"!=typeof E){if(!m)if(4&u){if(u=2|1&u,""!==E&&!yA(i,E,o)||""===E&&1===s.length){if(Vo(u))return!1;m=!0}}else{const C=8&u?E:s[++y];if(8&u&&null!==i.attrs){if(!Fv(i.attrs,C,o)){if(Vo(u))return!1;m=!0}continue}const N=fN(8&u?"class":E,l,Mw(i),o);if(-1===N){if(Vo(u))return!1;m=!0;continue}if(""!==C){let O;O=N>h?"":l[N+1].toLowerCase();const B=8&u?O:null;if(B&&-1!==xw(B,C,0)||2&u&&C!==O){if(Vo(u))return!1;m=!0}}}}else{if(!m&&!Vo(u)&&!Vo(E))return!1;if(m&&Vo(E))continue;m=!1,u=E|1&u}}return Vo(u)||m}function Vo(i){return 0==(1&i)}function fN(i,s,o,u){if(null===s)return-1;let l=0;if(u||!o){let h=!1;for(;l<s.length;){const m=s[l];if(m===i)return l;if(3===m||6===m)h=!0;else{if(1===m||2===m){let y=s[++l];for(;"string"==typeof y;)y=s[++l];continue}if(4===m)break;if(0===m){l+=4;continue}}l+=h?1:2}return-1}return function(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const u=i[o];if("number"==typeof u)return-1;if(u===s)return o;o++}return-1}(s,i)}function yi(i,s,o=!1){for(let u=0;u<s.length;u++)if(Ow(i,s[u],o))return!0;return!1}function Pw(i,s){return i?":not("+s.trim()+")":s}function bA(i){let s=i[0],o=1,u=2,l="",h=!1;for(;o<i.length;){let m=i[o];if("string"==typeof m)if(2&u){const y=i[++o];l+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&u?l+="."+m:4&u&&(l+=" "+m);else""!==l&&!Vo(m)&&(s+=Pw(h,l),l=""),u=m,h=h||!Vo(u);o++}return""!==l&&(s+=Pw(h,l)),s}const bt={};function ey(i){Dn(Rt(),Re(),Kr()+i,la())}function Dn(i,s,o,u){if(!u)if(3==(3&s[2])){const h=i.preOrderCheckHooks;null!==h&&ha(s,h,o)}else{const h=i.preOrderHooks;null!==h&&xc(s,h,0,o)}Ki(o)}function Tp(i,s){return i<<17|s<<2}function is(i){return i>>17&32767}function Lv(i){return 2|i}function Uo(i){return(131068&i)>>2}function Lw(i,s){return-131069&i|s<<2}function Vv(i){return 1|i}function jw(i,s){const o=i.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const l=o[u],h=o[u+1];if(-1!==h){const m=i.data[h];Ac(l),m.contentQueries(2,s[h],h)}}}function kh(i,s,o,u,l,h,m,y,E,C){const D=s.blueprint.slice();return D[0]=l,D[2]=140|u,oa(D),D[3]=D[15]=i,D[8]=o,D[10]=m||i&&i[10],D[11]=y||i&&i[11],D[12]=E||i&&i[12]||null,D[9]=C||i&&i[9]||null,D[6]=h,D[16]=2==s.type?i[16]:D,D}function Bl(i,s,o,u,l){let h=i.data[s];if(null===h)h=function(i,s,o,u,l){const h=Jd(),m=nu(),E=i.data[s]=function(i,s,o,u,l,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,s,u,l);return null===i.firstChild&&(i.firstChild=E),null!==h&&(m?null==h.child&&null!==E.parent&&(h.child=E):null===h.next&&(h.next=E)),E}(i,s,o,u,l),ut.lFrame.inI18n&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=u,h.attrs=l;const m=function(){const i=ut.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return ci(h,!0),h}function jl(i,s,o,u){if(0===o)return-1;const l=s.length;for(let h=0;h<o;h++)s.push(u),i.blueprint.push(u),i.data.push(null);return l}function Fh(i,s,o){xo(s);try{const u=i.viewQuery;null!==u&&Jw(1,u,o);const l=i.template;null!==l&&iy(i,s,l,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&jw(i,s),i.staticViewQueries&&Jw(2,i.viewQuery,o);const h=i.components;null!==h&&function(i,s){for(let o=0;o<s.length;o++)HA(i,s[o])}(s,h)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,zf()}}function Au(i,s,o,u){const l=s[2];if(256==(256&l))return;xo(s);const h=la();try{oa(s),function(i){ut.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&iy(i,s,o,2,u);const m=3==(3&l);if(!h)if(m){const C=i.preOrderCheckHooks;null!==C&&ha(s,C,null)}else{const C=i.preOrderHooks;null!==C&&xc(s,C,0,null),No(s,0)}if(function(i){for(let s=Zm(i);null!==s;s=Dv(s)){if(!s[2])continue;const o=s[9];for(let u=0;u<o.length;u++){const l=o[u],h=l[3];0==(1024&l[2])&&ll(h,1),l[2]|=1024}}}(s),function(i){for(let s=Zm(i);null!==s;s=Dv(s))for(let o=10;o<s.length;o++){const u=s[o],l=u[1];sa(u)&&Au(l,u,l.template,u[8])}}(s),null!==i.contentQueries&&jw(i,s),!h)if(m){const C=i.contentCheckHooks;null!==C&&ha(s,C)}else{const C=i.contentHooks;null!==C&&xc(s,C,1),No(s,1)}!function(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)Ki(~l);else{const h=l,m=o[++u],y=o[++u];Dc(m,h),y(2,s[h])}}}finally{Ki(-1)}}(i,s);const y=i.components;null!==y&&function(i,s){for(let o=0;o<s.length;o++)sE(i,s[o])}(s,y);const E=i.viewQuery;if(null!==E&&Jw(2,E,u),!h)if(m){const C=i.viewCheckHooks;null!==C&&ha(s,C)}else{const C=i.viewHooks;null!==C&&xc(s,C,2),No(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),h||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,ll(s[3],-1))}finally{zf()}}function OA(i,s,o,u){const l=s[10],h=!la(),m=Ao(s);try{h&&!m&&l.begin&&l.begin(),m&&Fh(i,s,u),Au(i,s,o,u)}finally{h&&!m&&l.end&&l.end()}}function iy(i,s,o,u,l){const h=Kr(),m=2&u;try{Ki(-1),m&&s.length>20&&Dn(i,s,20,la()),o(u,l)}finally{Ki(h)}}function Wv(i,s,o){!Cc()||(function(i,s,o,u){const l=o.directiveStart,h=o.directiveEnd;i.firstCreatePass||Ss(o,s),an(u,s);const m=o.initialInputs;for(let y=l;y<h;y++){const E=i.data[y],C=xi(E);C&&rE(s,o,E);const D=ya(s,i,y,o);an(D,s),null!==m&&Kw(0,y-l,D,E,0,m),C&&(Yn(o.index,s)[8]=D)}}(i,s,o,wr(o,s)),128==(128&o.flags)&&function(i,s,o){const u=o.directiveStart,l=o.directiveEnd,m=o.index,y=ut.lFrame.currentDirectiveIndex;try{Ki(m);for(let E=u;E<l;E++){const C=i.data[E],D=s[E];ca(E),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&zw(C,D)}}finally{Ki(-1),ca(y)}}(i,s,o))}function Ap(i,s,o=wr){const u=s.localNames;if(null!==u){let l=s.index+1;for(let h=0;h<u.length;h+=2){const m=u[h+1],y=-1===m?o(s,i):i[m];i[l++]=y}}}function Kv(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Sp(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Sp(i,s,o,u,l,h,m,y,E,C){const D=20+u,N=D+l,O=function(i,s){const o=[];for(let u=0;u<s;u++)o.push(u<i?null:bt);return o}(D,N),B="function"==typeof C?C():C;return O[1]={type:i,blueprint:O,template:o,queries:null,viewQuery:y,declTNode:s,data:O.slice().fill(null,D),bindingStartIndex:D,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:E,consts:B,incompleteFirstPass:!1}}function Rp(i,s,o,u){const l=Xw(s);null===o?l.push(u):(l.push(o),i.firstCreatePass&&lE(i).push(u,l.length-1))}function Jv(i,s,o){for(let u in i)if(i.hasOwnProperty(u)){const l=i[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(s,l):o[u]=[s,l]}return o}function os(i,s,o,u,l,h,m,y){const E=wr(s,o);let D,C=s.inputs;!y&&null!=C&&(D=C[u])?(hE(i,o,D,u,l),tl(s)&&function(i,s){const o=Yn(s,i);16&o[2]||(o[2]|=64)}(o,s.index)):3&s.type&&(u=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),l=null!=m?m(l,s.value||"",u):l,ln(h)?h.setProperty(E,u,l):gl(u)||(E.setProperty?E.setProperty(u,l):E[u]=l))}function eE(i,s,o,u){let l=!1;if(Cc()){const h=function(i,s,o){const u=i.directiveRegistry;let l=null;if(u)for(let h=0;h<u.length;h++){const m=u[h];yi(o,m.selectors,!1)&&(l||(l=[]),Vn(Ss(o,s),i,m.type),xi(m)?(nE(i,o),l.unshift(m)):l.push(m))}return l}(i,s,o),m=null===u?null:{"":-1};if(null!==h){l=!0,UA(o,i.data.length,h.length);for(let D=0;D<h.length;D++){const N=h[D];N.providersResolver&&N.providersResolver(N)}let y=!1,E=!1,C=jl(i,s,h.length,null);for(let D=0;D<h.length;D++){const N=h[D];o.mergedAttrs=uu(o.mergedAttrs,N.hostAttrs),BA(i,o,s,C,N),VA(C,N,m),null!==N.contentQueries&&(o.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(o.flags|=128);const O=N.type.prototype;!y&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),y=!0),!E&&(O.ngOnChanges||O.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),E=!0),C++}!function(i,s){const u=s.directiveEnd,l=i.data,h=s.attrs,m=[];let y=null,E=null;for(let C=s.directiveStart;C<u;C++){const D=l[C],N=D.inputs,O=null===h||Mw(s)?null:jA(N,h);m.push(O),y=Jv(N,C,y),E=Jv(D.outputs,C,E)}null!==y&&(y.hasOwnProperty("class")&&(s.flags|=16),y.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=m,s.inputs=y,s.outputs=E}(i,o)}m&&function(i,s,o){if(s){const u=i.localNames=[];for(let l=0;l<s.length;l+=2){const h=o[s[l+1]];if(null==h)throw new he("301",`Export of name '${s[l+1]}' not found!`);u.push(s[l],h)}}}(o,u,m)}return o.mergedAttrs=uu(o.mergedAttrs,o.attrs),l}function Gw(i,s,o,u,l,h){const m=h.hostBindings;if(m){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const E=~s.index;(function(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(y)!=E&&y.push(E),y.push(u,l,m)}}function zw(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function nE(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function VA(i,s,o){if(o){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)o[s.exportAs[u]]=i;xi(s)&&(o[""]=i)}}function UA(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}function BA(i,s,o,u,l){i.data[u]=l;const h=l.factory||(l.factory=Or(l.type)),m=new su(h,xi(l),null);i.blueprint[u]=m,o[u]=m,Gw(i,s,0,u,jl(i,o,l.hostVars,bt),l)}function rE(i,s,o){const u=wr(s,i),l=Kv(o),h=i[10],m=ay(i,kh(i,l,null,o.onPush?64:16,u,s,h,h.createRenderer(u,o),null,null));i[s.index]=m}function Su(i,s,o,u,l,h){const m=wr(i,s);!function(i,s,o,u,l,h,m){if(null==h)ln(i)?i.removeAttribute(s,l,o):s.removeAttribute(l);else{const y=null==m?Ve(h):m(h,u||"",l);ln(i)?i.setAttribute(s,l,y,o):o?s.setAttributeNS(o,l,y):s.setAttribute(l,y)}}(s[11],m,h,i.value,o,u,l)}function Kw(i,s,o,u,l,h){const m=h[s];if(null!==m){const y=u.setInput;for(let E=0;E<m.length;){const C=m[E++],D=m[E++],N=m[E++];null!==y?u.setInput(o,N,C,D):o[D]=N}}}function jA(i,s){let o=null,u=0;for(;u<s.length;){const l=s[u];if(0!==l)if(5!==l){if("number"==typeof l)break;i.hasOwnProperty(l)&&(null===o&&(o=[]),o.push(l,i[l],s[u+1])),u+=2}else u+=2;else u+=4}return o}function sy(i,s,o,u){return new Array(i,!0,!1,s,null,0,u,o,null,null)}function sE(i,s){const o=Yn(s,i);if(sa(o)){const u=o[1];80&o[2]?Au(u,o,u.template,o[8]):o[5]>0&&Yw(o)}}function Yw(i){for(let u=Zm(i);null!==u;u=Dv(u))for(let l=10;l<u.length;l++){const h=u[l];if(1024&h[2]){const m=h[1];Au(m,h,m.template,h[8])}else h[5]>0&&Yw(h)}const o=i[1].components;if(null!==o)for(let u=0;u<o.length;u++){const l=Yn(o[u],i);sa(l)&&l[5]>0&&Yw(l)}}function HA(i,s){const o=Yn(s,i),u=o[1];(function(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(u,o),Fh(u,o,o[8])}function ay(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function oE(i){for(;i;){i[2]|=64;const s=Sh(i);if(nl(i)&&!s)return i;i=s}return null}function aE(i,s,o){const u=s[10];u.begin&&u.begin();try{Au(i,s,i.template,o)}catch(l){throw dE(s,l),l}finally{u.end&&u.end()}}function qA(i){!function(i){for(let s=0;s<i.components.length;s++){const o=i.components[s],u=Tr(o),l=u[1];OA(l,u,l.template,o)}}(i[8])}function Jw(i,s,o){Ac(0),s(i,o)}const uE=(()=>Promise.resolve(null))();function Xw(i){return i[7]||(i[7]=[])}function lE(i){return i.cleanup||(i.cleanup=[])}function dE(i,s){const o=i[9],u=o?o.get(Ee,null):null;u&&u.handleError(s)}function hE(i,s,o,u,l){for(let h=0;h<o.length;){const m=o[h++],y=o[h++],E=s[m],C=i.data[m];null!==C.setInput?C.setInput(E,l,u,y):E[y]=l}}function Ra(i,s,o){const u=eu(s,i);!function(i,s,o){ln(i)?i.setValue(s,o):s.textContent=o}(i[11],u,o)}function Np(i,s,o){let u=o?i.styles:null,l=o?i.classes:null,h=0;if(null!==s)for(let m=0;m<s.length;m++){const y=s[m];"number"==typeof y?h=y:1==h?l=re(l,y):2==h&&(u=re(u,y+": "+s[++m]+";"))}o?i.styles=u:i.stylesWithoutHost=u,o?i.classes=l:i.classesWithoutHost=l}const ed=new bn("INJECTOR",-1);class ly{get(s,o=es){if(o===es){const u=new Error(`NullInjectorError: No provider for ${Y(s)}!`);throw u.name="NullInjectorError",u}return o}}const Mp=new bn("Set Injector scope."),Op={},GA={};let fE;function tI(){return void 0===fE&&(fE=new ly),fE}function pE(i,s=null,o=null,u){return new ZA(i,o,s||tI(),u)}class ZA{constructor(s,o,u,l=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];o&&Qr(o,y=>this.processProvider(y,s,o)),Qr([s],y=>this.processInjectorType(y,[],h)),this.records.set(ed,Ru(void 0,this));const m=this.records.get(Mp);this.scope=null!=m?m.value:null,this.source=l||("object"==typeof s?null:Y(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,o=es,u=xe.Default){this.assertNotDestroyed();const l=pu(this),h=pn(void 0);try{if(!(u&xe.SkipSelf)){let y=this.records.get(s);if(void 0===y){const E=("function"==typeof(i=s)||"object"==typeof i&&i instanceof bn)&&Nr(s);y=E&&this.injectableDefInScope(E)?Ru(Bo(s),Op):null,this.records.set(s,y)}if(null!=y)return this.hydrate(s,y)}return(u&xe.Self?tI():this.parent).get(s,o=u&xe.Optional&&o===es?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[fi]=m[fi]||[]).unshift(Y(s)),l)throw m;return cr(m,s,"R3InjectorError",this.source)}throw m}finally{pn(h),pu(l)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,l)=>s.push(Y(l))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,o,u){if(!(s=G(s)))return!1;let l=ui(s);const h=null==l&&s.ngModule||void 0,m=void 0===h?s:h,y=-1!==u.indexOf(m);if(void 0!==h&&(l=ui(h)),null==l)return!1;if(null!=l.imports&&!y){let D;u.push(m);try{Qr(l.imports,N=>{this.processInjectorType(N,o,u)&&(void 0===D&&(D=[]),D.push(N))})}finally{}if(void 0!==D)for(let N=0;N<D.length;N++){const{ngModule:O,providers:B}=D[N];Qr(B,Z=>this.processProvider(Z,O,B||$e))}}this.injectorDefTypes.add(m);const E=Or(m)||(()=>new m);this.records.set(m,Ru(E,Op));const C=l.providers;if(null!=C&&!y){const D=s;Qr(C,N=>this.processProvider(N,D,C))}return void 0!==h&&void 0!==s.providers}processProvider(s,o,u){let l=$l(s=G(s))?s:G(s&&s.provide);const h=cy(i=s)?Ru(void 0,i.useValue):Ru(It(i),Op);var i;if($l(s)||!0!==s.multi)this.records.get(l);else{let m=this.records.get(l);m||(m=Ru(void 0,Op,!0),m.factory=()=>Ia(m.multi),this.records.set(l,m)),l=s,m.multi.push(s)}this.records.set(l,h)}hydrate(s,o){return o.value===Op&&(o.value=GA,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(i=o.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const o=G(s.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Bo(i){const s=Nr(i),o=null!==s?s.factory:Or(i);if(null!==o)return o;if(i instanceof bn)throw new Error(`Token ${Y(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const u=function(i,s){const o=[];for(let u=0;u<i;u++)o.push(s);return o}(s,"?");throw new Error(`Can't resolve all parameters for ${Y(i)}: (${u.join(", ")}).`)}const o=function(i){const s=i&&(i[Cn]||i[mo]);if(s){const o=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new Error("unreachable")}function It(i,s,o){let u;if($l(i)){const l=G(i);return Or(l)||Bo(l)}if(cy(i))u=()=>G(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...Ia(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))u=()=>Bn(G(i.useExisting));else{const l=G(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return Or(l)||Bo(l);u=()=>new l(...Ia(i.deps))}return u}function Ru(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function cy(i){return null!==i&&"object"==typeof i&&jc in i}function $l(i){return"function"==typeof i}const xu=function(i,s,o){return function(i,s=null,o=null,u){const l=pE(i,s,o,u);return l._resolveInjectorDefTypes(),l}({name:o},s,i,o)};let Pn=(()=>{class i{static create(o,u){return Array.isArray(o)?xu(o,u,""):xu(o.providers,o.parent,o.name||"")}}return i.THROW_IF_NOT_FOUND=es,i.NULL=new ly,i.\u0275prov=un({token:i,providedIn:"any",factory:()=>Bn(ed)}),i.__NG_ELEMENT_ID__=-1,i})();function _y(i,s){da(Tr(i)[1],En())}function Lp(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const u=[i];for(;s;){let l;if(xi(i))l=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");l=s.\u0275dir}if(l){if(o){u.push(l);const m=i;m.inputs=Ey(i.inputs),m.declaredInputs=Ey(i.declaredInputs),m.outputs=Ey(i.outputs);const y=l.hostBindings;y&&mI(i,y);const E=l.viewQuery,C=l.contentQueries;if(E&&gI(i,E),C&&XA(i,C),J(i.inputs,l.inputs),J(i.declaredInputs,l.declaredInputs),J(i.outputs,l.outputs),xi(l)&&l.data.animation){const D=i.data;D.animation=(D.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let m=0;m<h.length;m++){const y=h[m];y&&y.ngInherit&&y(i),y===Lp&&(o=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,o=null;for(let u=i.length-1;u>=0;u--){const l=i[u];l.hostVars=s+=l.hostVars,l.hostAttrs=uu(l.hostAttrs,o=uu(o,l.hostAttrs))}}(u)}function Ey(i){return i===Ze?{}:i===$e?[]:i}function gI(i,s){const o=i.viewQuery;i.viewQuery=o?(u,l)=>{s(u,l),o(u,l)}:s}function XA(i,s){const o=i.contentQueries;i.contentQueries=o?(u,l,h)=>{s(u,l,h),o(u,l,h)}:s}function mI(i,s){const o=i.hostBindings;i.hostBindings=o?(u,l)=>{s(u,l),o(u,l)}:s}let by=null;function Hl(){if(!by){const i=j.Symbol;if(i&&i.iterator)by=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const u=s[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(by=u)}}}return by}class Ls{constructor(s){this.wrapped=s}static wrap(s){return new Ls(s)}static unwrap(s){return Ls.isWrapped(s)?s.wrapped:s}static isWrapped(s){return s instanceof Ls}}function Hn(i){return!!Vp(i)&&(Array.isArray(i)||!(i instanceof Map)&&Hl()in i)}function Vp(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Na(i,s,o){return i[s]=o}function ti(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function Bp(i,s,o,u){const l=Re();return ti(l,Wi(),s)&&(Rt(),Su(cn(),l,i,s,o,u)),Bp}function zl(i,s,o,u,l,h,m,y){const E=Re(),C=Rt(),D=i+20,N=C.firstCreatePass?function(i,s,o,u,l,h,m,y,E){const C=s.consts,D=Bl(s,i,4,m||null,Js(C,y));eE(s,o,D,Js(C,E)),da(s,D);const N=D.tViews=Sp(2,D,u,l,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,C);return null!==s.queries&&(s.queries.template(s,D),N.queries=s.queries.embeddedTView(D)),D}(D,C,E,s,o,u,l,h,m):C.data[D];ci(N,!1);const O=E[11].createComment("");wp(C,E,O,N),an(O,E),ay(E,E[D]=sy(O,E,O,N)),Wr(N)&&Wv(C,E,N),null!=m&&Ap(E,N,y)}function $p(i){return Do(ut.lFrame.contextLView,20+i)}function Kp(i,s=xe.Default){const o=Re();return null===o?Bn(i,s):Yr(En(),o,G(i),s)}function BE(i,s,o){const u=Re();return ti(u,Wi(),s)&&os(Rt(),cn(),u,i,s,u[11],o,!1),BE}function jE(i,s,o,u,l){const m=l?"class":"style";hE(i,o,s.inputs[m],m,u)}function $E(i,s,o,u){const l=Re(),h=Rt(),m=20+i,y=l[11],E=l[m]=Sv(y,s,ut.lFrame.currentNamespace),C=h.firstCreatePass?function(i,s,o,u,l,h,m){const y=s.consts,C=Bl(s,i,2,l,Js(y,h));return eE(s,o,C,Js(y,m)),null!==C.attrs&&Np(C,C.attrs,!1),null!==C.mergedAttrs&&Np(C,C.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,C),C}(m,h,l,0,s,o,u):h.data[m];ci(C,!0);const D=C.mergedAttrs;null!==D&&dn(y,E,D);const N=C.classes;null!==N&&Xm(y,E,N);const O=C.styles;null!==O&&Rw(y,E,O),64!=(64&C.flags)&&wp(h,l,E,C),0===ut.lFrame.elementDepthCount&&an(E,l),ut.lFrame.elementDepthCount++,Wr(C)&&(Wv(h,l,C),function(i,s,o){if(Qa(s)){const l=s.directiveEnd;for(let h=s.directiveStart;h<l;h++){const m=i.data[h];m.contentQueries&&m.contentQueries(1,o[h],h)}}}(h,C,l)),null!==u&&Ap(l,C)}function ad(){let i=En();nu()?ut.lFrame.isParent=!1:(i=i.parent,ci(i,!1));const s=i;ut.lFrame.elementDepthCount--;const o=Rt();o.firstCreatePass&&(da(o,i),Qa(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&jE(o,s,Re(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&jE(o,s,Re(),s.stylesWithoutHost,!1)}function Pu(i,s,o,u){$E(i,s,o,u),ad()}function MI(){return Re()}function Oy(i){return!!i&&"function"==typeof i.then}function OI(i){return!!i&&"function"==typeof i.subscribe}const Py=OI;function ky(i,s,o,u){const l=Re(),h=Rt(),m=En();return function(i,s,o,u,l,h,m,y){const E=Wr(u),D=i.firstCreatePass&&lE(i),N=s[8],O=Xw(s);let B=!0;if(3&u.type||y){const X=wr(u,s),ke=y?y(X):X,Ce=O.length,tt=y?ct=>y(Tt(ct[u.index])):u.index;if(ln(o)){let ct=null;if(!y&&E&&(ct=function(i,s,o,u){const l=i.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const m=l[h];if(m===o&&l[h+1]===u){const y=s[7],E=l[h+2];return y.length>E?y[E]:null}"string"==typeof m&&(h+=2)}return null}(i,s,l,u.index)),null!==ct)(ct.__ngLastListenerFn__||ct).__ngNextListenerFn__=h,ct.__ngLastListenerFn__=h,B=!1;else{h=Yp(u,s,N,h,!1);const Ft=o.listen(ke,l,h);O.push(h,Ft),D&&D.push(l,tt,Ce,Ce+1)}}else h=Yp(u,s,N,h,!0),ke.addEventListener(l,h,m),O.push(h),D&&D.push(l,tt,Ce,m)}else h=Yp(u,s,N,h,!1);const Z=u.outputs;let ae;if(B&&null!==Z&&(ae=Z[l])){const X=ae.length;if(X)for(let ke=0;ke<X;ke+=2){const yr=s[ae[ke]][ae[ke+1]].subscribe(h),ms=O.length;O.push(h,yr),D&&D.push(l,u.index,ms,-(ms+1))}}}(h,l,l[11],m,i,s,!!o,u),ky}function ZE(i,s,o,u){try{return!1!==o(u)}catch(l){return dE(i,l),!1}}function Yp(i,s,o,u,l){return function h(m){if(m===Function)return u;const y=2&i.flags?Yn(i.index,s):s;0==(32&s[2])&&oE(y);let E=ZE(s,0,u,m),C=h.__ngNextListenerFn__;for(;C;)E=ZE(s,0,C,m)&&E,C=C.__ngNextListenerFn__;return l&&!1===E&&(m.preventDefault(),m.returnValue=!1),E}}function PI(i=1){return function(i){return(ut.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,ut.lFrame.contextLView))[8]}(i)}function KE(i,s,o,u,l){const h=i[o+1],m=null===s;let y=u?is(h):Uo(h),E=!1;for(;0!==y&&(!1===E||m);){const D=i[y+1];LI(i[y],s)&&(E=!0,i[y+1]=u?Vv(D):Lv(D)),y=u?is(D):Uo(D)}E&&(i[o+1]=u?Lv(h):Vv(h))}function LI(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&R(i,s)>=0}function cd(i,s){return function(i,s,o,u){const l=Re(),h=Rt(),m=function(i){const s=ut.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}(2);h.firstUpdatePass&&function(i,s,o,u){const l=i.data;if(null===l[o+1]){const h=l[Kr()],m=function(i,s){return s>=i.expandoStartIndex}(i,o);(function(i,s){return 0!=(i.flags&(s?16:32))})(h,u)&&null===s&&!m&&(s=!1),s=function(i,s,o,u){const l=function(i){const s=ut.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let h=u?s.residualClasses:s.residualStyles;if(null===l)0===(u?s.classBindings:s.styleBindings)&&(o=Kl(o=jy(null,i,s,o,u),s.attrs,u),h=null);else{const m=s.directiveStylingLast;if(-1===m||i[m]!==l)if(o=jy(l,i,s,o,u),null===h){let E=function(i,s,o){const u=o?s.classBindings:s.styleBindings;if(0!==Uo(u))return i[is(u)]}(i,s,u);void 0!==E&&Array.isArray(E)&&(E=jy(null,i,s,E[1],u),E=Kl(E,s.attrs,u),function(i,s,o,u){i[is(o?s.classBindings:s.styleBindings)]=u}(i,s,u,E))}else h=function(i,s,o){let u;const l=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<l;h++)u=Kl(u,i[h].hostAttrs,o);return Kl(u,s.attrs,o)}(i,s,u)}return void 0!==h&&(u?s.residualClasses=h:s.residualStyles=h),o}(l,h,s,u),function(i,s,o,u,l,h){let m=h?s.classBindings:s.styleBindings,y=is(m),E=Uo(m);i[u]=o;let D,C=!1;if(Array.isArray(o)){const N=o;D=N[1],(null===D||R(N,D)>0)&&(C=!0)}else D=o;if(l)if(0!==E){const O=is(i[y+1]);i[u+1]=Tp(O,y),0!==O&&(i[O+1]=Lw(i[O+1],u)),i[y+1]=function(i,s){return 131071&i|s<<17}(i[y+1],u)}else i[u+1]=Tp(y,0),0!==y&&(i[y+1]=Lw(i[y+1],u)),y=u;else i[u+1]=Tp(E,0),0===y?y=u:i[E+1]=Lw(i[E+1],u),E=u;C&&(i[u+1]=Lv(i[u+1])),KE(i,D,u,!0),KE(i,D,u,!1),function(i,s,o,u,l){const h=l?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof s&&R(h,s)>=0&&(o[u+1]=Vv(o[u+1]))}(s,D,i,u,h),m=Tp(y,E),h?s.classBindings=m:s.styleBindings=m}(l,h,s,o,m,u)}}(h,i,m,u),s!==bt&&ti(l,m,s)&&function(i,s,o,u,l,h,m,y){if(!(3&s.type))return;const E=i.data,C=E[y+1];$y(function(i){return 1==(1&i)}(C)?qI(E,s,o,l,Uo(C),m):void 0)||($y(h)||function(i){return 2==(2&i)}(C)&&(h=qI(E,null,o,l,y,m)),function(i,s,o,u,l){const h=ln(i);if(s)l?h?i.addClass(o,u):o.classList.add(u):h?i.removeClass(o,u):o.classList.remove(u);else{let m=-1===u.indexOf("-")?void 0:Da.DashCase;if(null==l)h?i.removeStyle(o,u,m):o.style.removeProperty(u);else{const y="string"==typeof l&&l.endsWith("!important");y&&(l=l.slice(0,-10),m|=Da.Important),h?i.setStyle(o,u,l,m):o.style.setProperty(u,l,y?"important":"")}}}(u,m,eu(Kr(),o),l,h))}(h,h.data[Kr()],l,l[11],i,l[m+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Y(Fi(i)))),i}(s,o),u,m)}(i,s,null,!0),cd}function jy(i,s,o,u,l){let h=null;const m=o.directiveEnd;let y=o.directiveStylingLast;for(-1===y?y=o.directiveStart:y++;y<m&&(h=s[y],u=Kl(u,h.hostAttrs,l),h!==i);)y++;return null!==i&&(o.directiveStylingLast=y),u}function Kl(i,s,o){const u=o?1:2;let l=-1;if(null!==s)for(let h=0;h<s.length;h++){const m=s[h];"number"==typeof m?l=m:l===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),I(i,m,!!o||s[++h]))}return void 0===i?null:i}function qI(i,s,o,u,l,h){const m=null===s;let y;for(;l>0;){const E=i[l],C=Array.isArray(E),D=C?E[1]:E,N=null===D;let O=o[l+1];O===bt&&(O=N?$e:void 0);let B=N?T(O,u):D===u?O:void 0;if(C&&!$y(B)&&(B=T(E,u)),$y(B)&&(y=B,m))return y;const Z=i[l+1];l=m?is(Z):Uo(Z)}if(null!==s){let E=h?s.residualClasses:s.residualStyles;null!=E&&(y=T(E,u))}return y}function $y(i){return void 0!==i}function ZI(i,s=""){const o=Re(),u=Rt(),l=i+20,h=u.firstCreatePass?Bl(u,l,1,s,null):u.data[l],m=o[l]=function(i,s){return ln(i)?i.createText(s):i.createTextNode(s)}(o[11],s);wp(u,o,m,h),ci(h,!1)}function Hy(i){return qy("",i,""),Hy}function qy(i,s,o){const u=Re(),l=function(i,s,o,u){return ti(i,Wi(),o)?s+Ve(o)+u:bt}(u,i,s,o);return l!==bt&&Ra(u,Kr(),l),qy}function Zy(i,s,o){const u=Re();return ti(u,Wi(),s)&&os(Rt(),cn(),u,i,s,u[11],o,!0),Zy}const kt=void 0;var ni=["en",[["a","p"],["AM","PM"],kt],[["AM","PM"],kt,kt],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],kt,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],kt,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",kt,"{1} 'at' {0}",kt],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),o=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===o?1:5}];let $o={};function fr(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=rr(s);if(o)return o;const u=s.split("-")[0];if(o=rr(u),o)return o;if("en"===u)return ni;throw new Error(`Missing locale data for the locale "${i}".`)}function Lu(i){return fr(i)[ot.PluralCase]}function rr(i){return i in $o||($o[i]=j.ng&&j.ng.common&&j.ng.common.locales&&j.ng.common.locales[i]),$o[i]}var ot=(()=>((ot=ot||{})[ot.LocaleId=0]="LocaleId",ot[ot.DayPeriodsFormat=1]="DayPeriodsFormat",ot[ot.DayPeriodsStandalone=2]="DayPeriodsStandalone",ot[ot.DaysFormat=3]="DaysFormat",ot[ot.DaysStandalone=4]="DaysStandalone",ot[ot.MonthsFormat=5]="MonthsFormat",ot[ot.MonthsStandalone=6]="MonthsStandalone",ot[ot.Eras=7]="Eras",ot[ot.FirstDayOfWeek=8]="FirstDayOfWeek",ot[ot.WeekendRange=9]="WeekendRange",ot[ot.DateFormat=10]="DateFormat",ot[ot.TimeFormat=11]="TimeFormat",ot[ot.DateTimeFormat=12]="DateTimeFormat",ot[ot.NumberSymbols=13]="NumberSymbols",ot[ot.NumberFormats=14]="NumberFormats",ot[ot.CurrencyCode=15]="CurrencyCode",ot[ot.CurrencySymbol=16]="CurrencySymbol",ot[ot.CurrencyName=17]="CurrencyName",ot[ot.Currencies=18]="Currencies",ot[ot.Directionality=19]="Directionality",ot[ot.PluralCase=20]="PluralCase",ot[ot.ExtraData=21]="ExtraData",ot))();const md="en-US";let yd=md;function Wy(i){fn(i,"Expected localeId to be defined"),"string"==typeof i&&(yd=i.toLowerCase().replace(/_/g,"-"))}function o_(i,s,o,u,l){if(i=G(i),Array.isArray(i))for(let h=0;h<i.length;h++)o_(i[h],s,o,u,l);else{const h=Rt(),m=Re();let y=$l(i)?i:G(i.provide),E=It(i);const C=En(),D=1048575&C.providerIndexes,N=C.directiveStart,O=C.providerIndexes>>20;if($l(i)||!i.multi){const B=new su(E,l,Kp),Z=A0(y,s,l?D:D+O,N);-1===Z?(Vn(Ss(C,m),h,y),bd(h,i,s.length),s.push(y),C.directiveStart++,C.directiveEnd++,l&&(C.providerIndexes+=1048576),o.push(B),m.push(B)):(o[Z]=B,m[Z]=B)}else{const B=A0(y,s,D+O,N),Z=A0(y,s,D,D+O),ae=B>=0&&o[B],X=Z>=0&&o[Z];if(l&&!X||!l&&!ae){Vn(Ss(C,m),h,y);const ke=function(i,s,o,u,l){const h=new su(i,o,Kp);return h.multi=[],h.index=s,h.componentProviders=0,a_(h,l,u&&!o),h}(l?Ht:gr,o.length,l,u,E);!l&&X&&(o[Z].providerFactory=ke),bd(h,i,s.length,0),s.push(y),C.directiveStart++,C.directiveEnd++,l&&(C.providerIndexes+=1048576),o.push(ke),m.push(ke)}else bd(h,i,B>-1?B:Z,a_(o[l?Z:B],E,!l&&u));!l&&u&&X&&o[Z].componentProviders++}}}function bd(i,s,o,u){const l=$l(s);if(l||function(i){return!!i.useClass}(s)){const m=(s.useClass||s).prototype.ngOnDestroy;if(m){const y=i.destroyHooks||(i.destroyHooks=[]);if(!l&&s.multi){const E=y.indexOf(o);-1===E?y.push(o,[u,m]):y[E+1].push(u,m)}else y.push(o,m)}}}function a_(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function A0(i,s,o,u){for(let l=o;l<u;l++)if(s[l]===i)return l;return-1}function gr(i,s,o,u){return u_(this.multi,[])}function Ht(i,s,o,u){const l=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,y=ya(o,o[1],this.providerFactory.index,u);h=y.slice(0,m),u_(l,h);for(let E=m;E<y.length;E++)h.push(y[E])}else h=[],u_(l,h);return h}function u_(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function mr(i,s=[]){return o=>{o.providersResolver=(u,l)=>function(i,s,o){const u=Rt();if(u.firstCreatePass){const l=xi(i);o_(o,u.data,u.blueprint,l,!0),o_(s,u.data,u.blueprint,l,!1)}}(u,l?l(i):i,s)}}class Ur{}const S0="ngComponent";class fo{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${Y(i)}. Did you add it to @NgModule.entryComponents?`);return s[S0]=i,s}(s)}}let sf=(()=>{class i{}return i.NULL=new fo,i})();function cg(...i){}function qt(i,s){return new ls(wr(i,s))}const dg=function(){return qt(En(),Re())};let ls=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=dg,i})();function hg(i){return i instanceof ls?i.nativeElement:i}class fg{}let _C=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>vC(),i})();const vC=function(){const i=Re(),o=Yn(En().index,i);return function(i){return i[11]}(zr(o)?o:i)};let N0=(()=>{class i{}return i.\u0275prov=un({token:i,providedIn:"root",factory:()=>null}),i})();class af{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const c_=new af("12.2.10");class EC{constructor(){}supports(s){return Hn(s)}create(s){return new wC(s)}}const Br=(i,s)=>s;class wC{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Br}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,u=this._removalsHead,l=0,h=null;for(;o||u;){const m=!u||o&&o.currentIndex<M0(u,l,h)?o:u,y=M0(m,l,h),E=m.currentIndex;if(m===u)l--,u=u._nextRemoved;else if(o=o._next,null==m.previousIndex)l++;else{h||(h=[]);const C=y-l,D=E-l;if(C!=D){for(let O=0;O<C;O++){const B=O<h.length?h[O]:h[O]=0,Z=B+O;D<=Z&&Z<C&&(h[O]=B+1)}h[m.previousIndex]=D-C}}y!==E&&s(m,y,E)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!Hn(s))throw new Error(`Error trying to diff '${Y(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let l,h,m,o=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let y=0;y<this.length;y++)h=s[y],m=this._trackByFn(y,h),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,h,m,y)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,y),u=!0),o=o._next}else l=0,function(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[Hl()]();let u;for(;!(u=o.next()).done;)s(u.value)}}(s,y=>{m=this._trackByFn(l,y),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,y,m,l)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,m,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,u,l){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,h,l)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,h,l)):s=this._addAfter(new pg(o,u),h,l),s}_verifyReinsertion(s,o,u,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?s=this._reinsertAfter(h,s._prev,l):s.currentIndex!=l&&(s.currentIndex=l,this._addToMoves(s,l)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const l=s._prevRemoved,h=s._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(s,o,u),this._addToMoves(s,u),s}_moveAfter(s,o,u){return this._unlink(s),this._insertAfter(s,o,u),this._addToMoves(s,u),s}_addAfter(s,o,u){return this._insertAfter(s,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,u){const l=null===o?this._itHead:o._next;return s._next=l,s._prev=o,null===l?this._itTail=s:l._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new d_),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,u=s._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new d_),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class pg{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Pa{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const o=s._prevDup,u=s._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class d_{constructor(){this.map=new Map}put(s){const o=s.trackById;let u=this.map.get(o);u||(u=new Pa,this.map.set(o,u)),u.add(s)}get(s,o){const l=this.map.get(s);return l?l.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function M0(i,s,o){const u=i.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+s+l}class uf{constructor(){}supports(s){return s instanceof Map||Vp(s)}create(){return new IC}}class IC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||Vp(s)))throw new Error(`Error trying to diff '${Y(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const u=s._prev;return o._next=s,o._prev=u,s._prev=o,u&&(u._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const l=this._records.get(s);this._maybeAddToChanges(l,o);const h=l._prev,m=l._next;return h&&(h._next=m),m&&(m._prev=h),l._next=null,l._prev=null,l}const u=new CC(s);return this._records.set(s,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(u=>o(s[u],u))}}class CC{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function O0(){return new h_([new EC])}let h_=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||O0()),deps:[[i,new Ca,new ki]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(i){return i.name||typeof i}(o)}'`)}}return i.\u0275prov=un({token:i,providedIn:"root",factory:O0}),i})();function gg(){return new mg([new uf])}let mg=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||gg()),deps:[[i,new Ca,new ki]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return i.\u0275prov=un({token:i,providedIn:"root",factory:gg}),i})();function f_(i,s,o,u,l=!1){for(;null!==o;){const h=s[o.index];if(null!==h&&u.push(Tt(h)),Kt(h))for(let y=10;y<h.length;y++){const E=h[y],C=E[1].firstChild;null!==C&&f_(E[1],E,C,u)}const m=o.type;if(8&m)f_(i,s,o.child,u);else if(32&m){const y=Iv(o,s);let E;for(;E=y();)u.push(E)}else if(16&m){const y=fA(s,o);if(Array.isArray(y))u.push(...y);else{const E=Sh(s[16]);f_(E[1],E,y,u,!0)}}o=l?o.projectionNext:o.next}return u}class lf{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return f_(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Kt(s)){const o=s[8],u=o?o.indexOf(this):-1;u>-1&&(xv(s,u),Ns(o,u))}this._attachedToViewContainer=!1}Dw(this._lView[1],this._lView)}onDestroy(s){Rp(this._lView[1],this._lView,null,s)}markForCheck(){oE(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){aE(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,o){zi(!0);try{aE(i,s,o)}finally{zi(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,Ip(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class TC extends lf{constructor(s){super(s),this._view=s}detectChanges(){qA(this._view)}checkNoChanges(){!function(i){zi(!0);try{qA(i)}finally{zi(!1)}}(this._view)}get context(){return null}}const AC=function(i){return function(i,s,o){if(tl(i)&&!o){const u=Yn(i.index,s);return new lf(u,u)}return 47&i.type?new lf(s[16],s):null}(En(),Re(),16==(16&i))};let SC=(()=>{class i{}return i.__NG_ELEMENT_ID__=AC,i})();const ZS=[new uf],df=new h_([new EC]),zS=new mg(ZS),xC=function(){return p_(En(),Re())};let Vi=(()=>{class i{}return i.__NG_ELEMENT_ID__=xC,i})();const KS=Vi,NC=class extends KS{constructor(s,o,u){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(s){const o=this._declarationTContainer.tViews,u=kh(this._declarationLView,o,s,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(u[19]=h.createEmbeddedView(o)),Fh(o,u,s),new lf(u)}};function p_(i,s){return 4&i.type?new NC(s,i,qt(i,s)):null}class Sr{}class Bu{}const YS=function(){return tc(En(),Re())};let g_=(()=>{class i{}return i.__NG_ELEMENT_ID__=YS,i})();const ka=g_,Bi=class extends ka{constructor(s,o,u){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=u}get element(){return qt(this._hostTNode,this._hostLView)}get injector(){return new di(this._hostTNode,this._hostLView)}get parentInjector(){const s=no(this._hostTNode,this._hostLView);if(yl(s)){const o=cu(s,this._hostLView),u=lu(s);return new di(o[1].data[u+8],o)}return new di(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=jr(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,u){const l=s.createEmbeddedView(o||{});return this.insert(l,u),l}createComponent(s,o,u,l,h){const m=u||this.parentInjector;if(!h&&null==s.ngModule&&m){const E=m.get(Sr,null);E&&(h=E)}const y=s.create(m,l,void 0,h);return this.insert(y.hostView,o),y}insert(s,o){const u=s._lView,l=u[1];if(Kt(u[3])){const D=this.indexOf(s);if(-1!==D)this.detach(D);else{const N=u[3],O=new Bi(N,N[6],N[3]);O.detach(O.indexOf(s))}}const h=this._adjustIndex(o),m=this._lContainer;!function(i,s,o,u){const l=10+u,h=o.length;u>0&&(o[l-1][4]=s),u<h-10?(s[4]=o[l],Xi(o,10+u,s)):(o.push(s),s[4]=null),s[3]=o;const m=s[17];null!==m&&o!==m&&function(i,s){const o=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===o?i[9]=[s]:o.push(s)}(m,s);const y=s[19];null!==y&&y.insertView(i),s[2]|=128}(l,u,m,h);const y=Iu(h,m),E=u[11],C=Ym(E,m[7]);return null!==C&&function(i,s,o,u,l,h){u[0]=l,u[6]=s,Ip(i,u,o,1,l,h)}(l,m[6],E,u,C,y),s.attachToViewContainerRef(),Xi(ji(m),h,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=jr(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),u=xv(this._lContainer,o);u&&(Ns(ji(this._lContainer),o),Dw(u[1],u))}detach(s){const o=this._adjustIndex(s,-1),u=xv(this._lContainer,o);return u&&null!=Ns(ji(this._lContainer),o)?new lf(u):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function jr(i){return i[8]}function ji(i){return i[8]||(i[8]=[])}function tc(i,s){let o;const u=s[i.index];if(Kt(u))o=u;else{let l;if(8&i.type)l=Tt(u);else{const h=s[11];l=h.createComment("");const m=wr(i,s);Aa(h,Ym(h,m),l,function(i,s){return ln(i)?i.nextSibling(s):s.nextSibling}(h,m),!1)}s[i.index]=o=sy(u,s,l,i),ay(s,o)}return new Bi(o,i,s)}const Ba={};class nb extends sf{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=sr(s);return new Ag(o,this.ngModule)}}function JC(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}const yR=new bn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>vp});class Ag extends Ur{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=s.selectors.map(bA).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return JC(this.componentDef.inputs)}get outputs(){return JC(this.componentDef.outputs)}create(s,o,u,l){const h=(l=l||this.ngModule)?function(i,s){return{get:(o,u,l)=>{const h=i.get(o,Ba,l);return h!==Ba||u===Ba?h:s.get(o,u,l)}}}(s,l.injector):s,m=h.get(fg,ia),y=h.get(N0,null),E=m.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",D=u?function(i,s,o){if(ln(i))return i.selectRootElement(s,o===gn.ShadowDom);let u="string"==typeof s?i.querySelector(s):s;return u.textContent="",u}(E,u,this.componentDef.encapsulation):Sv(m.createRenderer(null,this.componentDef),C,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(C)),N=this.componentDef.onPush?576:528,O=function(i,s){return{components:[],scheduler:i||vp,clean:uE,playerHandler:s||null,flags:0}}(),B=Sp(0,null,null,1,0,null,null,null,null,null),Z=kh(null,B,O,N,null,null,m,E,y,h);let ae,X;xo(Z);try{const ke=function(i,s,o,u,l,h){const m=o[1];o[20]=i;const E=Bl(m,20,2,"#host",null),C=E.mergedAttrs=s.hostAttrs;null!==C&&(Np(E,C,!0),null!==i&&(dn(l,i,C),null!==E.classes&&Xm(l,i,E.classes),null!==E.styles&&Rw(l,i,E.styles)));const D=u.createRenderer(i,s),N=kh(o,Kv(s),null,s.onPush?64:16,o[20],E,u,D,h||null,null);return m.firstCreatePass&&(Vn(Ss(E,o),m,s.type),nE(m,E),UA(E,o.length,1)),ay(o,N),o[20]=N}(D,this.componentDef,Z,m,E);if(D)if(u)dn(E,D,["ng-version",c_.full]);else{const{attrs:Ce,classes:tt}=function(i){const s=[],o=[];let u=1,l=2;for(;u<i.length;){let h=i[u];if("string"==typeof h)2===l?""!==h&&s.push(h,i[++u]):8===l&&o.push(h);else{if(!Vo(l))break;l=h}u++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);Ce&&dn(E,D,Ce),tt&&tt.length>0&&Xm(E,D,tt.join(" "))}if(X=Zi(B,20),void 0!==o){const Ce=X.projection=[];for(let tt=0;tt<this.ngContentSelectors.length;tt++){const ct=o[tt];Ce.push(null!=ct?Array.from(ct):null)}}ae=function(i,s,o,u,l){const h=o[1],m=function(i,s,o){const u=En();i.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),BA(i,u,s,jl(i,s,1,null),o));const l=ya(s,i,u.directiveStart,u);an(l,s);const h=wr(u,s);return h&&an(h,s),l}(h,o,s);if(u.components.push(m),i[8]=m,l&&l.forEach(E=>E(m,s)),s.contentQueries){const E=En();s.contentQueries(1,m,E.directiveStart)}const y=En();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Ki(y.index),Gw(o[1],y,0,y.directiveStart,y.directiveEnd,s),zw(s,m)),m}(ke,this.componentDef,Z,O,[_y]),Fh(B,Z,null)}finally{zf()}return new tT(this.componentType,ae,qt(X,Z),Z,X)}}class tT extends class{}{constructor(s,o,u,l,h){super(),this.location=u,this._rootLView=l,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new TC(l),this.componentType=s}get injector(){return new di(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const wf=new Map;class If extends Sr{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new nb(this);const u=zn(s),l=s[St]||null;l&&Wy(l),this._bootstrapComponents=rs(u.bootstrap),this._r3Injector=pE(s,o,[{provide:Sr,useValue:this},{provide:sf,useValue:this.componentFactoryResolver}],Y(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,o=Pn.THROW_IF_NOT_FOUND,u=xe.Default){return s===Pn||s===Sr||s===ed?this:this._r3Injector.get(s,o,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Rg extends Bu{constructor(s){super(),this.moduleType=s,null!==zn(s)&&function(i){const s=new Set;!function o(u){const l=zn(u,!0),h=l.id;null!==h&&(function(i,s,o){if(s&&s!==o)throw new Error(`Duplicate module registered for ${i} - ${Y(s)} vs ${Y(s.name)}`)}(h,wf.get(h),u),wf.set(h,u));const m=rs(l.imports);for(const y of m)s.has(y)||(s.add(y),o(y))}(i)}(s)}create(s){return new If(this.moduleType,s)}}function xg(i,s,o){const u=Pr()+i,l=Re();return l[u]===bt?Na(l,u,o?s.call(o):s()):function(i,s){return i[s]}(l,u)}function I_(i,s,o,u,l,h){const m=s+o;return ti(i,m,l)?Na(i,m+1,h?u.call(h,l):u(l)):function(i,s){const o=i[s];return o===bt?void 0:o}(i,m+1)}function ab(i,s){const o=Rt();let u;const l=i+20;o.firstCreatePass?(u=function(i,s){if(s)for(let o=s.length-1;o>=0;o--){const u=s[o];if(i===u.name)return u}throw new he("302",`The pipe '${i}' could not be found!`)}(s,o.pipeRegistry),o.data[l]=u,u.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(l,u.onDestroy)):u=o.data[l];const h=u.factory||(u.factory=Or(u.type)),m=pn(Kp);try{const y=fa(!1),E=h();return fa(y),function(i,s,o,u){o>=i.data.length&&(i.data[o]=null,i.blueprint[o]=null),s[o]=u}(o,Re(),l,E),E}finally{pn(m)}}function D_(i,s,o){const u=i+20,l=Re(),h=Do(l,u);return function(i,s){Ls.isWrapped(s)&&(s=Ls.unwrap(s),i[ut.lFrame.bindingIndex]=bt);return s}(l,function(i,s){return i[1].data[s].pure}(l,u)?I_(l,Pr(),s,h.transform,o,h):h.transform(o))}function kg(i){return s=>{setTimeout(i,void 0,s)}}const ja=class extends d.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,u){var l,h,m;let y=s,E=o||(()=>null),C=u;if(s&&"object"==typeof s){const N=s;y=null===(l=N.next)||void 0===l?void 0:l.bind(N),E=null===(h=N.error)||void 0===h?void 0:h.bind(N),C=null===(m=N.complete)||void 0===m?void 0:m.bind(N)}this.__isAsync&&(E=kg(E),y&&(y=kg(y)),C&&(C=kg(C)));const D=super.subscribe({next:y,error:E,complete:C});return s instanceof ee.w&&s.add(D),D}};function ub(){return this._results[Hl()]()}class A_{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Hl(),u=A_.prototype;u[o]||(u[o]=ub)}get changes(){return this._changes||(this._changes=new ja)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const u=this;u.dirty=!1;const l=hi(s);(this._changesDetected=!function(i,s,o){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let l=i[u],h=s[u];if(o&&(l=o(l),h=o(h)),h!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class ic{constructor(s){this.queryList=s,this.matches=null}clone(){return new ic(this.queryList)}setDirty(){this.queryList.setDirty()}}class $a{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const u=null!==s.contentQueries?s.contentQueries[0]:o.length,l=[];for(let h=0;h<u;h++){const m=o.getByIndex(h);l.push(this.queries[m.indexInDeclarationView].clone())}return new $a(l)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==pT(s,o).matches&&this.queries[o].setDirty()}}class S_{constructor(s,o,u=null){this.predicate=s,this.flags=o,this.read=u}}class sc{constructor(s=[]){this.queries=s}elementStart(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(s,l);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new sc(o):null}template(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class oc{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new oc(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const h=u[l];this.matchTNodeWithReadOption(s,o,lT(o,h)),this.matchTNodeWithReadOption(s,o,ma(o,s,h,!1,!1))}else u===Vi?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,ma(o,s,u,!1,!1))}matchTNodeWithReadOption(s,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===ls||l===g_||l===Vi&&4&o.type)this.addMatch(o.index,-2);else{const h=ma(o,s,l,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function lT(i,s){const o=i.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===s)return o[u+1];return null}function CR(i,s,o,u){return-1===o?function(i,s){return 11&i.type?qt(i,s):4&i.type?p_(i,s):null}(s,i):-2===o?function(i,s,o){return o===ls?qt(s,i):o===Vi?p_(s,i):o===g_?tc(s,i):void 0}(i,s,u):ya(i,i[1],o,s)}function R_(i,s,o,u){const l=s[19].queries[u];if(null===l.matches){const h=i.data,m=o.matches,y=[];for(let E=0;E<m.length;E+=2){const C=m[E];y.push(C<0?null:CR(s,h[C],m[E+1],o.metadata.read))}l.matches=y}return l.matches}function Fg(i,s,o,u){const l=i.queries.getByIndex(o),h=l.matches;if(null!==h){const m=R_(i,s,l,o);for(let y=0;y<h.length;y+=2){const E=h[y];if(E>0)u.push(m[y/2]);else{const C=h[y+1],D=s[-E];for(let N=10;N<D.length;N++){const O=D[N];O[17]===O[3]&&Fg(O[1],O,C,u)}if(null!==D[9]){const N=D[9];for(let O=0;O<N.length;O++){const B=N[O];Fg(B[1],B,C,u)}}}}}return u}function x_(i){const s=Re(),o=Rt(),u=Ro();Ac(u+1);const l=pT(o,u);if(i.dirty&&Ao(s)===(2==(2&l.metadata.flags))){if(null===l.matches)i.reset([]);else{const h=l.crossesNgTemplate?Fg(o,s,u,[]):R_(o,s,l,u);i.reset(h,hg),i.notifyOnChanges()}return!0}return!1}function cT(i,s,o,u){const l=Rt();if(l.firstCreatePass){const h=En();(function(i,s,o){null===i.queries&&(i.queries=new sc),i.queries.track(new oc(s,o))})(l,new S_(s,o,u),h.index),function(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(l,i),2==(2&o)&&(l.staticContentQueries=!0)}!function(i,s,o){const u=new A_(4==(4&o));Rp(i,s,u,u.destroy),null===s[19]&&(s[19]=new $a),s[19].queries.push(new ic(u))}(l,Re(),o)}function dT(){return i=Re(),s=Ro(),i[19].queries[s].queryList;var i,s}function pT(i,s){return i.queries.getByIndex(s)}function fb(i,s){return p_(i,s)}const Rb=new bn("Application Initializer");let Sf=(()=>{class i{constructor(o){this.appInits=o,this.resolve=cg,this.reject=cg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(Oy(h))o.push(h);else if(Py(h)){const m=new Promise((y,E)=>{h.subscribe({complete:y,error:E})});o.push(m)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(Bn(Rb,8))},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();const LT=new bn("AppId"),jR={provide:LT,useFactory:function(){return`${B_()}${B_()}${B_()}`},deps:[]};function B_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const UT=new bn("Platform Initializer"),BT=new bn("Platform ID"),jT=new bn("appBootstrapListener");let $T=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();const Zu=new bn("LocaleId"),xb=new bn("DefaultCurrencyCode");class GT{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}const Mb=function(i){return new Rg(i)},Rn=Mb,ZT=function(i){return Promise.resolve(Mb(i))},qg=function(i){const s=Mb(i),u=rs(zn(i).declarations).reduce((l,h)=>{const m=sr(h);return m&&l.push(new Ag(m)),l},[]);return new GT(s,u)},zT=qg,Ob=function(i){return Promise.resolve(qg(i))};let Gg=(()=>{class i{constructor(){this.compileModuleSync=Rn,this.compileModuleAsync=ZT,this.compileModuleAndAllComponentsSync=zT,this.compileModuleAndAllComponentsAsync=Ob}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();const o1=(()=>Promise.resolve(0))();function WT(i){"undefined"==typeof Zone?o1.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class ds{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ja(!1),this.onMicrotaskEmpty=new ja(!1),this.onStable=new ja(!1),this.onError=new ja(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){let i=j.requestAnimationFrame,s=j.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(j,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,kb(i),i.isCheckStableRunning=!0,Pb(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),kb(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,h,m,y)=>{try{return YT(i),o.invokeTask(l,h,m,y)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&s(),QT(i)}},onInvoke:(o,u,l,h,m,y,E)=>{try{return YT(i),o.invoke(l,h,m,y,E)}finally{i.shouldCoalesceRunChangeDetection&&s(),QT(i)}},onHasTask:(o,u,l,h)=>{o.hasTask(l,h),u===l&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,kb(i),Pb(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,l,h)=>(o.handleError(l,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ds.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ds.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,o,u){return this._inner.run(s,o,u)}runTask(s,o,u,l){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+l,s,zR,cg,cg);try{return h.runTask(m,o,u)}finally{h.cancelTask(m)}}runGuarded(s,o,u){return this._inner.runGuarded(s,o,u)}runOutsideAngular(s){return this._outer.run(s)}}const zR={};function Pb(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function kb(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function YT(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function QT(i){i._nesting--,Pb(i)}class a1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ja,this.onMicrotaskEmpty=new ja,this.onStable=new ja,this.onError=new ja}run(s,o,u){return s.apply(o,u)}runGuarded(s,o,u){return s.apply(o,u)}runOutsideAngular(s){return s()}runTask(s,o,u,l){return s.apply(o,u)}}let JT=(()=>{class i{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ds.assertNotInAngularZone(),WT(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())WT(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,l){return[]}}return i.\u0275fac=function(o){return new(o||i)(Bn(ds))},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})(),XT=(()=>{class i{constructor(){this._applications=new Map,tD.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return tD.findTestabilityInTree(this,o,u)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();class eD{addToWindow(s){}findTestabilityInTree(s,o,u){return null}}function Wu(i){tD=i}let tD=new eD,qo=!0,ac=!1;function Rf(){return ac=!0,qo}function KR(){if(ac)throw new Error("Cannot enable prod mode after platform setup.");qo=!1}let Go;const rD=new bn("AllowMultipleToken");class JR{constructor(s,o){this.name=s,this.token=o}}function q_(i,s,o=[]){const u=`Platform: ${s}`,l=new bn(u);return(h=[])=>{let m=uc();if(!m||m.injector.get(rD,!1))if(i)i(o.concat(h).concat({provide:l,useValue:!0}));else{const y=o.concat(h).concat({provide:l,useValue:!0},{provide:Mp,useValue:"platform"});!function(i){if(Go&&!Go.destroyed&&!Go.injector.get(rD,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Go=i.get(Vb);const s=i.get(UT,null);s&&s.forEach(o=>o())}(Pn.create({providers:y,name:u}))}return function(i){const s=uc();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(l)}}function uc(){return Go&&!Go.destroyed?Go:null}let Vb=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const y=function(i,s){let o;return o="noop"===i?new a1:("zone.js"===i?void 0:i)||new ds({enableLongStackTrace:Rf(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),E=[{provide:ds,useValue:y}];return y.run(()=>{const C=Pn.create({providers:E,parent:this.injector,name:o.moduleType.name}),D=o.create(C),N=D.injector.get(Ee,null);if(!N)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const O=y.onError.subscribe({next:B=>{N.handleError(B)}});D.onDestroy(()=>{Wg(this._modules,D),O.unsubscribe()})}),function(i,s,o){try{const u=o();return Oy(u)?u.catch(l=>{throw s.runOutsideAngular(()=>i.handleError(l)),l}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(N,y,()=>{const O=D.injector.get(Sf);return O.runInitializers(),O.donePromise.then(()=>(Wy(D.injector.get(Zu,md)||md),this._moduleDoBootstrap(D),D))})})}bootstrapModule(o,u=[]){const l=G_({},u);return function(i,s,o){const u=new Rg(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(o){const u=o.injector.get(zg);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${Y(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(Bn(Pn))},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();function G_(i,s){return Array.isArray(s)?s.reduce(G_,i):Object.assign(Object.assign({},i),s)}let zg=(()=>{class i{constructor(o,u,l,h,m){this._zone=o,this._injector=u,this._exceptionHandler=l,this._componentFactoryResolver=h,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new F.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),E=new F.y(C=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{ds.assertNotInAngularZone(),WT(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{ds.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{D.unsubscribe(),N.unsubscribe()}});this.isStable=(0,le.T)(y,E.pipe(i=>(0,ce.x)()(function(i,s){return function(u){let l;l="function"==typeof i?i:function(){return i};const h=Object.create(u,te.N);return h.source=u,h.subjectFactory=l,h}}(z)(i))))}bootstrap(o,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let l;l=o instanceof Ur?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(l.componentType);const h=function(i){return i.isBoundToModule}(l)?void 0:this._injector.get(Sr),y=l.create(Pn.NULL,[],u||l.selector,h),E=y.location.nativeElement,C=y.injector.get(JT,null),D=C&&y.injector.get(XT);return C&&D&&D.registerApplication(E,C),y.onDestroy(()=>{this.detachView(y.hostView),Wg(this.components,y),D&&D.unregisterApplication(E)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Wg(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(jT,[]).concat(this._bootstrapListeners).forEach(l=>l(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(o){return new(o||i)(Bn(ds),Bn(Pn),Bn(Ee),Bn(sf),Bn(Sf))},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();function Wg(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}class Yg{}class tx{}const oD={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let aD=(()=>{class i{constructor(o,u){this._compiler=o,this._config=u||oD}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[u,l]=o.split("#");return void 0===l&&(l="default"),V(8255)(u).then(h=>h[l]).then(h=>Mf(h,u,l)).then(h=>this._compiler.compileModuleAsync(h))}loadFactory(o){let[u,l]=o.split("#"),h="NgFactory";return void 0===l&&(l="default",h=""),V(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(m=>m[l+h]).then(m=>Mf(m,u,l))}}return i.\u0275fac=function(o){return new(o||i)(Bn(Gg),Bn(tx,8))},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();function Mf(i,s,o){if(!i)throw new Error(`Cannot find '${o}' in '${s}'`);return i}const sx=function(i){return null},lx=q_(null,"core",[{provide:BT,useValue:"unknown"},{provide:Vb,deps:[Pn]},{provide:XT,deps:[]},{provide:$T,deps:[]}]),hx=[{provide:zg,useClass:zg,deps:[ds,Pn,Ee,sf,Sf]},{provide:yR,deps:[ds],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(o){s.push(o)}}},{provide:Sf,useClass:Sf,deps:[[new ki,Rb]]},{provide:Gg,useClass:Gg,deps:[]},jR,{provide:h_,useFactory:function(){return df},deps:[]},{provide:mg,useFactory:function(){return zS},deps:[]},{provide:Zu,useFactory:function(i){return Wy(i=i||"undefined"!=typeof $localize&&$localize.locale||md),i},deps:[[new Dl(Zu),new ki,new Ca]]},{provide:xb,useValue:"USD"}];let px=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(Bn(zg))},i.\u0275mod=Wa({type:i}),i.\u0275inj=Ai({providers:hx}),i})()},8939:(et,Ae,V)=>{"use strict";V.d(Ae,{hO:()=>Y,xv:()=>z,Dh:()=>ce,GT:()=>ie,cc:()=>re,on:()=>k,pX:()=>te});var d=V(3018),ee=V(7841),F=V(6643);et=V.hmd(et);const le=["ngOnDestroy"],te=(_e,be,he,Te={})=>new Proxy(_e,{get:(Le,Ve)=>he.runOutsideAngular(()=>{var vt;if(_e[Ve])return(null===(vt=null==Te?void 0:Te.spy)||void 0===vt?void 0:vt.get)&&Te.spy.get(Ve,_e[Ve]),_e[Ve];if(le.indexOf(Ve)>-1)return()=>{};const ht=be.toPromise().then(De=>{const ne=De&&De[Ve];return"function"==typeof ne?ne.bind(De):ne&&ne.then?ne.then(oe=>he.run(()=>oe)):he.run(()=>ne)});return new Proxy(()=>{},{get:(De,ne)=>ht[ne],apply:(De,ne,oe)=>ht.then(fe=>{var ue;const Pe=fe&&fe(...oe);return(null===(ue=null==Te?void 0:Te.spy)||void 0===ue?void 0:ue.apply)&&Te.spy.apply(Ve,oe,Pe),Pe})})})}),ie=(_e,be)=>{be.forEach(he=>{Object.getOwnPropertyNames(he.prototype||he).forEach(Te=>{Object.defineProperty(_e.prototype,Te,Object.getOwnPropertyDescriptor(he.prototype||he,Te))})})};class we{constructor(be){return be}}const ce=new d.OlP("angularfire2.app.options"),z=new d.OlP("angularfire2.app.name");function k(_e,be,he){const Le="object"==typeof he&&he||{};Le.name=Le.name||"string"==typeof he&&he||"[DEFAULT]";const vt=ee.Z.apps.filter(ht=>ht&&ht.name===Le.name)[0]||be.runOutsideAngular(()=>ee.Z.initializeApp(_e,Le));try{JSON.stringify(_e)!==JSON.stringify(vt.options)&&L("error",`${vt.name} Firebase App already initialized with different options${et.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ht){}return new we(vt)}const L=(_e,...be)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[_e](...be)},J={provide:we,useFactory:k,deps:[ce,d.R0b,[new d.FiY,z]]};let Y=(()=>{class _e{constructor(he){ee.Z.registerVersion("angularfire",F.q4.full,"core"),ee.Z.registerVersion("angularfire",F.q4.full,"app-compat"),ee.Z.registerVersion("angular",d.q4F.full,he.toString())}static initializeApp(he,Te){return{ngModule:_e,providers:[{provide:ce,useValue:he},{provide:z,useValue:Te}]}}}return _e.\u0275fac=function(he){return new(he||_e)(d.LFG(d.Lbi))},_e.\u0275mod=d.oAB({type:_e}),_e.\u0275inj=d.cJS({providers:[J]}),_e})();function re(_e,be,he,Te,Le){const[,Ve,vt]=globalThis.\u0275AngularfireInstanceCache.find(ht=>ht[0]===_e)||[];if(Ve)return function(_e,be){try{return _e.toString()===be.toString()}catch(he){return _e===be}}(Le,vt)||(G("error",`${be} was already initialized on the ${he} Firebase App with different settings.${de?" You may need to reload as Firebase is not HMR aware.":""}`),G("warn",{is:Le,was:vt})),Ve;{const ht=Te();return globalThis.\u0275AngularfireInstanceCache.push([_e,ht,Le]),ht}}const de=!!et.hot,G=(_e,...be)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[_e](...be)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6643:(et,Ae,V)=>{"use strict";V.d(Ae,{q4:()=>vm,iC:()=>Fr,fc:()=>Cl,HU:()=>Qr,vb:()=>ko,JM:()=>Il});var d=V(3018),ee=V(2329),F=V(8239),le=V(5452),te=V(3854),ie=V(6034),we=V(5601),ce=V(6676);const z="@firebase/installations",k="0.5.2",J=`w:${k}`,Y="FIS_v2",be=new te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function he(I){return I instanceof te.ZR&&I.code.includes("request-failed")}function Te({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function Le(I){return{token:I.token,requestStatus:2,expiresIn:fe(I.expiresIn),creationTime:Date.now()}}function Ve(I,T){return vt.apply(this,arguments)}function vt(){return(vt=(0,F.Z)(function*(I,T){const U=(yield T.json()).error;return be.create("request-failed",{requestName:I,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function ht({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function De(I,{refreshToken:T}){const R=ht(I);return R.append("Authorization",function(I){return`${Y} ${I}`}(T)),R}function ne(I){return oe.apply(this,arguments)}function oe(){return(oe=(0,F.Z)(function*(I){const T=yield I();return T.status>=500&&T.status<600?I():T})).apply(this,arguments)}function fe(I){return Number(I.replace("s","000"))}function Pe(I,T){return ge.apply(this,arguments)}function ge(){return(ge=(0,F.Z)(function*(I,{fid:T}){const R=Te(I),pe={method:"POST",headers:ht(I),body:JSON.stringify({fid:T,authVersion:Y,appId:I.appId,sdkVersion:J})},Me=yield ne(()=>fetch(R,pe));if(Me.ok){const ze=yield Me.json();return{fid:ze.fid||T,registrationStatus:2,refreshToken:ze.refreshToken,authToken:Le(ze.authToken)}}throw yield Ve("Create Installation",Me)})).apply(this,arguments)}function nt(I){return new Promise(T=>{setTimeout(T,I)})}const Fn=/^[cdef][\w-]{21}$/;function Yt(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const R=function(I){return function(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Fn.test(R)?R:""}catch(I){return""}}function Qt(I){return`${I.appName}!${I.appId}`}const Zn=new Map;function Hr(I,T){const R=Qt(I);Ot(R,T),function(I,T){const R=(!vr&&"BroadcastChannel"in self&&(vr=new BroadcastChannel("[Firebase] FID Change"),vr.onmessage=I=>{Ot(I.data.key,I.data.fid)}),vr);R&&R.postMessage({key:I,fid:T}),0===Zn.size&&vr&&(vr.close(),vr=null)}(R,T)}function Ot(I,T){const R=Zn.get(I);if(R)for(const U of R)U(T)}let vr=null;const ai="firebase-installations-store";let qi=null;function _s(){return qi||(qi=(0,ce.openDb)("firebase-installations-database",1,I=>{switch(I.oldVersion){case 0:I.createObjectStore(ai)}})),qi}function ui(I,T){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,F.Z)(function*(I,T){const R=Qt(I),Q=(yield _s()).transaction(ai,"readwrite"),pe=Q.objectStore(ai),Me=yield pe.get(R);return yield pe.put(T,R),yield Q.complete,(!Me||Me.fid!==T.fid)&&Hr(I,T.fid),T})).apply(this,arguments)}function Er(I){return mo.apply(this,arguments)}function mo(){return(mo=(0,F.Z)(function*(I){const T=Qt(I),U=(yield _s()).transaction(ai,"readwrite");yield U.objectStore(ai).delete(T),yield U.complete})).apply(this,arguments)}function it(I,T){return xe.apply(this,arguments)}function xe(){return(xe=(0,F.Z)(function*(I,T){const R=Qt(I),Q=(yield _s()).transaction(ai,"readwrite"),pe=Q.objectStore(ai),Me=yield pe.get(R),ze=T(Me);return void 0===ze?yield pe.delete(R):yield pe.put(ze,R),yield Q.complete,ze&&(!Me||Me.fid!==ze.fid)&&Hr(I,ze.fid),ze})).apply(this,arguments)}function zt(I){return nn.apply(this,arguments)}function nn(){return(nn=(0,F.Z)(function*(I){let T;const R=yield it(I,U=>{const Q=pn(U),pe=Bt(I,Q);return T=pe.registrationPromise,pe.installationEntry});return""===R.fid?{installationEntry:yield T}:{installationEntry:R,registrationPromise:T}})).apply(this,arguments)}function pn(I){return gn(I||{fid:Yt(),registrationStatus:0})}function Bt(I,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(be.create("app-offline"))};const R={fid:T.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:R,registrationPromise:function(I,T){return Qe.apply(this,arguments)}(I,R)}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:vn(I)}:{installationEntry:T}}function Qe(){return(Qe=(0,F.Z)(function*(I,T){try{return ui(I,yield Pe(I,T))}catch(R){throw he(R)&&409===R.customData.serverCode?yield Er(I):yield ui(I,{fid:T.fid,registrationStatus:0}),R}})).apply(this,arguments)}function vn(I){return vs.apply(this,arguments)}function vs(){return(vs=(0,F.Z)(function*(I){let T=yield Si(I);for(;1===T.registrationStatus;)yield nt(100),T=yield Si(I);if(0===T.registrationStatus){const{installationEntry:R,registrationPromise:U}=yield zt(I);return U||R}return T})).apply(this,arguments)}function Si(I){return it(I,T=>{if(!T)throw be.create("installation-not-found");return gn(T)})}function gn(I){return function(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function yo(I,T){return $.apply(this,arguments)}function $(){return($=(0,F.Z)(function*({appConfig:I,platformLoggerProvider:T},R){const U=q(I,R),Q=De(I,R),pe=T.getImmediate({optional:!0});pe&&Q.append("x-firebase-client",pe.getPlatformInfoString());const ze={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:J}})},Ge=yield ne(()=>fetch(U,ze));if(Ge.ok)return Le(yield Ge.json());throw yield Ve("Generate Auth Token",Ge)})).apply(this,arguments)}function q(I,{fid:T}){return`${Te(I)}/${T}/authTokens:generate`}function j(I){return Se.apply(this,arguments)}function Se(){return(Se=(0,F.Z)(function*(I,T=!1){let R;const U=yield it(I.appConfig,pe=>{if(!tn(pe))throw be.create("not-registered");const Me=pe.authToken;if(!T&&qr(Me))return pe;if(1===Me.requestStatus)return R=se(I,T),pe;{if(!navigator.onLine)throw be.create("app-offline");const ze=sn(pe);return R=jt(I,ze),ze}});return R?yield R:U.authToken})).apply(this,arguments)}function se(I,T){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,F.Z)(function*(I,T){let R=yield $e(I.appConfig);for(;1===R.authToken.requestStatus;)yield nt(100),R=yield $e(I.appConfig);const U=R.authToken;return 0===U.requestStatus?j(I,T):U})).apply(this,arguments)}function $e(I){return it(I,T=>{if(!tn(T))throw be.create("not-registered");return function(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function jt(I,T){return rn.apply(this,arguments)}function rn(){return(rn=(0,F.Z)(function*(I,T){try{const R=yield yo(I,T),U=Object.assign(Object.assign({},T),{authToken:R});return yield ui(I.appConfig,U),R}catch(R){if(!he(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const U=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield ui(I.appConfig,U)}else yield Er(I.appConfig);throw R}})).apply(this,arguments)}function tn(I){return void 0!==I&&2===I.registrationStatus}function qr(I){return 2===I.requestStatus&&!function(I){const T=Date.now();return T<I.creationTime||I.creationTime+I.expiresIn<T+36e5}(I)}function sn(I){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:T})}function Ko(){return(Ko=(0,F.Z)(function*(I){const T=I,{installationEntry:R,registrationPromise:U}=yield zt(T.appConfig);return U?U.catch(console.error):j(T).catch(console.error),R.fid})).apply(this,arguments)}function za(){return(za=(0,F.Z)(function*(I,T=!1){const R=I;return yield Ju(R.appConfig),(yield j(R,T)).token})).apply(this,arguments)}function Ju(I){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,F.Z)(function*(I){const{registrationPromise:T}=yield zt(I);T&&(yield T)})).apply(this,arguments)}function zn(I){return be.create("missing-app-config-values",{valueName:I})}const Hd="installations";(0,le._registerComponent)(new ie.wA(Hd,I=>{const T=I.getProvider("app").getImmediate();return{app:T,appConfig:function(I){if(!I||!I.options)throw zn("App Configuration");if(!I.name)throw zn("App Name");const T=["projectId","apiKey","appId"];for(const R of T)if(!I.options[R])throw zn(R);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(T),platformLoggerProvider:(0,le._getProvider)(T,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,le._registerComponent)(new ie.wA("installations-internal",I=>{const T=I.getProvider("app").getImmediate(),R=(0,le._getProvider)(T,Hd).getImmediate();return{getId:()=>function(I){return Ko.apply(this,arguments)}(R),getToken:Q=>function(I){return za.apply(this,arguments)}(R,Q)}},"PRIVATE")),(0,le.registerVersion)(z,k),(0,le.registerVersion)(z,k,"esm2017");const br="@firebase/remote-config",Mn=new te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ec{constructor(T,R,U,Q){this.client=T,this.storage=R,this.storageCache=U,this.logger=Q}isCachedDataFresh(T,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-R,Q=U<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${Q}.`),Q}fetch(T){var R=this;return(0,F.Z)(function*(){const[U,Q]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(Q&&R.isCachedDataFresh(T.cacheMaxAgeMillis,U))return Q;T.eTag=Q&&Q.eTag;const pe=yield R.client.fetch(T),Me=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===pe.status&&Me.push(R.storage.setLastSuccessfulFetchResponse(pe)),yield Promise.all(Me),pe})()}}function zr(I=navigator){return I.languages&&I.languages[0]||I.language}class Kt{constructor(T,R,U,Q,pe,Me){this.firebaseInstallations=T,this.sdkVersion=R,this.namespace=U,this.projectId=Q,this.apiKey=pe,this.appId=Me}fetch(T){var R=this;return(0,F.Z)(function*(){const[U,Q]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Ge={sdk_version:R.sdkVersion,app_instance_id:U,app_instance_id_token:Q,app_id:R.appId,language_code:zr()},Vt={method:"POST",headers:ze,body:JSON.stringify(Ge)},$t=fetch(Me,Vt),Jn=new Promise((ts,Os)=>{T.signal.addEventListener(()=>{const Dt=new Error("The operation was aborted.");Dt.name="AbortError",Os(Dt)})});let lr;try{yield Promise.race([$t,Jn]),lr=yield $t}catch(ts){let Os="fetch-client-network";throw"AbortError"===ts.name&&(Os="fetch-timeout"),Mn.create(Os,{originalErrorMessage:ts.message})}let Xn=lr.status;const es=lr.headers.get("ETag")||void 0;let fu,fi;if(200===lr.status){let ts;try{ts=yield lr.json()}catch(Os){throw Mn.create("fetch-client-parse",{originalErrorMessage:Os.message})}fu=ts.entries,fi=ts.state}if("INSTANCE_STATE_UNSPECIFIED"===fi?Xn=500:"NO_CHANGE"===fi?Xn=304:("NO_TEMPLATE"===fi||"EMPTY_CONFIG"===fi)&&(fu={}),304!==Xn&&200!==Xn)throw Mn.create("fetch-status",{httpStatus:Xn});return{status:Xn,eTag:es,config:fu}})()}}class Wr{constructor(T,R){this.client=T,this.storage=R}fetch(T){var R=this;return(0,F.Z)(function*(){const U=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(T,U)})()}attemptFetch(T,{throttleEndTimeMillis:R,backoffCount:U}){var Q=this;return(0,F.Z)(function*(){yield function(I,T){return new Promise((R,U)=>{const Q=Math.max(T-Date.now(),0),pe=setTimeout(R,Q);I.addEventListener(()=>{clearTimeout(pe),U(Mn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,R);try{const pe=yield Q.client.fetch(T);return yield Q.storage.deleteThrottleMetadata(),pe}catch(pe){if(!function(I){if(!(I instanceof te.ZR&&I.customData))return!1;const T=Number(I.customData.httpStatus);return 429===T||500===T||503===T||504===T}(pe))throw pe;const Me={throttleEndTimeMillis:Date.now()+(0,te.$s)(U),backoffCount:U+1};return yield Q.storage.setThrottleMetadata(Me),Q.attemptFetch(T,Me)}})()}}class lm{constructor(T,R,U,Q,pe){this.app=T,this._client=R,this._storageCache=U,this._storage=Q,this._logger=pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Qo(I,T){const R=I.target.error||void 0;return Mn.create(T,{originalErrorMessage:R&&R.message})}const bo="app_namespace_store";class zd{constructor(T,R,U,Q=function(){return new Promise((I,T)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=U=>{T(Qo(U,"storage-open"))},R.onsuccess=U=>{I(U.target.result)},R.onupgradeneeded=U=>{const Q=U.target.result;switch(U.oldVersion){case 0:Q.createObjectStore(bo,{keyPath:"compositeKey"})}}}catch(R){T(Mn.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=T,this.appName=R,this.namespace=U,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var R=this;return(0,F.Z)(function*(){const U=yield R.openDbPromise;return new Promise((Q,pe)=>{const ze=U.transaction([bo],"readonly").objectStore(bo),Ge=R.createCompositeKey(T);try{const Vt=ze.get(Ge);Vt.onerror=$t=>{pe(Qo($t,"storage-get"))},Vt.onsuccess=$t=>{const Jn=$t.target.result;Q(Jn?Jn.value:void 0)}}catch(Vt){pe(Mn.create("storage-get",{originalErrorMessage:Vt&&Vt.message}))}})})()}set(T,R){var U=this;return(0,F.Z)(function*(){const Q=yield U.openDbPromise;return new Promise((pe,Me)=>{const Ge=Q.transaction([bo],"readwrite").objectStore(bo),Vt=U.createCompositeKey(T);try{const $t=Ge.put({compositeKey:Vt,value:R});$t.onerror=Jn=>{Me(Qo(Jn,"storage-set"))},$t.onsuccess=()=>{pe()}}catch($t){Me(Mn.create("storage-set",{originalErrorMessage:$t&&$t.message}))}})})()}delete(T){var R=this;return(0,F.Z)(function*(){const U=yield R.openDbPromise;return new Promise((Q,pe)=>{const ze=U.transaction([bo],"readwrite").objectStore(bo),Ge=R.createCompositeKey(T);try{const Vt=ze.delete(Ge);Vt.onerror=$t=>{pe(Qo($t,"storage-delete"))},Vt.onsuccess=()=>{Q()}}catch(Vt){pe(Mn.create("storage-delete",{originalErrorMessage:Vt&&Vt.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Jo{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,F.Z)(function*(){const R=T.storage.getLastFetchStatus(),U=T.storage.getLastSuccessfulFetchTimestampMillis(),Q=T.storage.getActiveConfig(),pe=yield R;pe&&(T.lastFetchStatus=pe);const Me=yield U;Me&&(T.lastSuccessfulFetchTimestampMillis=Me);const ze=yield Q;ze&&(T.activeConfig=ze)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function fm(){return rl.apply(this,arguments)}function rl(){return(rl=(0,F.Z)(function*(){if(!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(I){return!1}})).apply(this,arguments)}(0,le._registerComponent)(new ie.wA("remote-config",function(T,{instanceIdentifier:R}){const U=T.getProvider("app").getImmediate(),Q=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Mn.create("registration-window");if(!(0,te.hl)())throw Mn.create("indexed-db-unavailable");const{projectId:pe,apiKey:Me,appId:ze}=U.options;if(!pe)throw Mn.create("registration-project-id");if(!Me)throw Mn.create("registration-api-key");if(!ze)throw Mn.create("registration-app-id");const Ge=new zd(ze,U.name,R=R||"firebase"),Vt=new Jo(Ge),$t=new we.Yd(br);$t.logLevel=we.in.ERROR;const Jn=new Kt(Q,le.SDK_VERSION,R,pe,Me,ze),lr=new Wr(Jn,Ge),Xn=new Ec(lr,Ge,Vt,$t),es=new lm(U,Xn,Vt,Ge,$t);return function(I){const T=(0,te.m9)(I);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(es),es},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(br,"0.3.1"),(0,le.registerVersion)(br,"0.3.1","esm2017");const wo="/firebase-messaging-sw.js",Ja="/firebase-cloud-messaging-push-scope",Ys="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",il="google.c.a.c_id",wc="google.c.a.c_l",pm="google.c.a.ts",ea="google.c.a.e";var Or=(()=>{return(I=Or||(Or={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",Or;var I})();function Ni(I){const T=new Uint8Array(I);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ic(I){const R=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(R),Q=new Uint8Array(U.length);for(let pe=0;pe<U.length;++pe)Q[pe]=U.charCodeAt(pe);return Q}const Io="fcm_token_details_db",Wd="fcm_token_object_Store";function qf(I){return Co.apply(this,arguments)}function Co(){return(Co=(0,F.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(pe=>pe.name).includes(Io))return null;let T=null;return(yield(0,ce.openDb)(Io,5,function(){var U=(0,F.Z)(function*(Q){var pe;if(Q.oldVersion<2||!Q.objectStoreNames.contains(Wd))return;const Me=Q.transaction.objectStore(Wd),ze=yield Me.index("fcmSenderId").get(I);if(yield Me.clear(),ze)if(2===Q.oldVersion){const Ge=ze;if(!Ge.auth||!Ge.p256dh||!Ge.endpoint)return;T={token:Ge.fcmToken,createTime:null!==(pe=Ge.createTime)&&void 0!==pe?pe:Date.now(),subscriptionOptions:{auth:Ge.auth,p256dh:Ge.p256dh,endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:"string"==typeof Ge.vapidKey?Ge.vapidKey:Ni(Ge.vapidKey)}}}else if(3===Q.oldVersion){const Ge=ze;T={token:Ge.fcmToken,createTime:Ge.createTime,subscriptionOptions:{auth:Ni(Ge.auth),p256dh:Ni(Ge.p256dh),endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:Ni(Ge.vapidKey)}}}else if(4===Q.oldVersion){const Ge=ze;T={token:Ge.fcmToken,createTime:Ge.createTime,subscriptionOptions:{auth:Ni(Ge.auth),p256dh:Ni(Ge.p256dh),endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:Ni(Ge.vapidKey)}}}});return function(Q){return U.apply(this,arguments)}}())).close(),yield(0,ce.deleteDb)(Io),yield(0,ce.deleteDb)("fcm_vapid_details_db"),yield(0,ce.deleteDb)("undefined"),sl(T)?T:null})).apply(this,arguments)}function sl(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:T}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const Kn="firebase-messaging-store";let ta=null;function na(){return ta||(ta=(0,ce.openDb)("firebase-messaging-database",1,I=>{switch(I.oldVersion){case 0:I.createObjectStore(Kn)}})),ta}function Qs(I){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,F.Z)(function*(I){const T=ia(I),U=yield(yield na()).transaction(Kn).objectStore(Kn).get(T);if(U)return U;{const Q=yield qf(I.appConfig.senderId);if(Q)return yield To(I,Q),Q}})).apply(this,arguments)}function To(I,T){return ra.apply(this,arguments)}function ra(){return(ra=(0,F.Z)(function*(I,T){const R=ia(I),Q=(yield na()).transaction(Kn,"readwrite");return yield Q.objectStore(Kn).put(T,R),yield Q.complete,T})).apply(this,arguments)}function ln(I){return ol.apply(this,arguments)}function ol(){return(ol=(0,F.Z)(function*(I){const T=ia(I),U=(yield na()).transaction(Kn,"readwrite");yield U.objectStore(Kn).delete(T),yield U.complete})).apply(this,arguments)}function ia({appConfig:I}){return I.appId}const Tt=new te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Yd(I,T){return ul.apply(this,arguments)}function ul(){return(ul=(0,F.Z)(function*(I,T){const R=yield Yn(I),U=sa(T),Q={method:"POST",headers:R,body:JSON.stringify(U)};let pe;try{pe=yield(yield fetch(Do(I.appConfig),Q)).json()}catch(Me){throw Tt.create("token-subscribe-failed",{errorInfo:Me})}if(pe.error)throw Tt.create("token-subscribe-failed",{errorInfo:pe.error.message});if(!pe.token)throw Tt.create("token-subscribe-no-token");return pe.token})).apply(this,arguments)}function eu(I,T){return wr.apply(this,arguments)}function wr(){return(wr=(0,F.Z)(function*(I,T){const R=yield Yn(I),U=sa(T.subscriptionOptions),Q={method:"PATCH",headers:R,body:JSON.stringify(U)};let pe;try{pe=yield(yield fetch(`${Do(I.appConfig)}/${T.token}`,Q)).json()}catch(Me){throw Tt.create("token-update-failed",{errorInfo:Me})}if(pe.error)throw Tt.create("token-update-failed",{errorInfo:pe.error.message});if(!pe.token)throw Tt.create("token-update-no-token");return pe.token})).apply(this,arguments)}function Gf(I,T){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,F.Z)(function*(I,T){const U={method:"DELETE",headers:yield Yn(I)};try{const pe=yield(yield fetch(`${Do(I.appConfig)}/${T}`,U)).json();if(pe.error)throw Tt.create("token-unsubscribe-failed",{errorInfo:pe.error.message})}catch(Q){throw Tt.create("token-unsubscribe-failed",{errorInfo:Q})}})).apply(this,arguments)}function Do({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function Yn(I){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,F.Z)(function*({appConfig:I,installations:T}){const R=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function sa({p256dh:I,auth:T,endpoint:R,vapidKey:U}){const Q={web:{endpoint:R,auth:T,p256dh:I}};return U!==Ys&&(Q.web.applicationPubKey=U),Q}const tu=6048e5;function Js(I){return oa.apply(this,arguments)}function oa(){return(oa=(0,F.Z)(function*(I){const T=yield Cc(I.swRegistration,I.vapidKey),R={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:T.endpoint,auth:Ni(T.getKey("auth")),p256dh:Ni(T.getKey("p256dh"))},U=yield Qs(I.firebaseDependencies);if(U){if(Qd(U.subscriptionOptions,R))return Date.now()>=U.createTime+tu?gm(I,{token:U.token,createTime:Date.now(),subscriptionOptions:R}):U.token;try{yield Gf(I.firebaseDependencies,U.token)}catch(Q){console.warn(Q)}return aa(I.firebaseDependencies,R)}return aa(I.firebaseDependencies,R)})).apply(this,arguments)}function ll(I){return ut.apply(this,arguments)}function ut(){return(ut=(0,F.Z)(function*(I){const T=yield Qs(I.firebaseDependencies);T&&(yield Gf(I.firebaseDependencies,T.token),yield ln(I.firebaseDependencies));const R=yield I.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function gm(I,T){return Is.apply(this,arguments)}function Is(){return(Is=(0,F.Z)(function*(I,T){try{const R=yield eu(I.firebaseDependencies,T),U=Object.assign(Object.assign({},T),{token:R,createTime:Date.now()});return yield To(I.firebaseDependencies,U),R}catch(R){throw yield ll(I),R}})).apply(this,arguments)}function aa(I,T){return So.apply(this,arguments)}function So(){return(So=(0,F.Z)(function*(I,T){const U={token:yield Yd(I,T),createTime:Date.now(),subscriptionOptions:T};return yield To(I,U),U.token})).apply(this,arguments)}function Cc(I,T){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,F.Z)(function*(I,T){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ic(T)})})).apply(this,arguments)}function Qd(I,T){return T.vapidKey===I.vapidKey&&T.endpoint===I.endpoint&&T.auth===I.auth&&T.p256dh===I.p256dh}function Re(I){const T={from:I.from,collapseKey:I.collapse_key,messageId:I.fcm_message_id};return function(I,T){if(!T.notification)return;I.notification={};const R=T.notification.title;R&&(I.notification.title=R);const U=T.notification.body;U&&(I.notification.body=U);const Q=T.notification.image;Q&&(I.notification.image=Q)}(T,I),function(I,T){!T.data||(I.data=T.data)}(T,I),function(I,T){if(!T.fcmOptions)return;I.fcmOptions={};const R=T.fcmOptions.link;R&&(I.fcmOptions.link=R);const U=T.fcmOptions.analytics_label;U&&(I.fcmOptions.analyticsLabel=U)}(T,I),T}function Jd(I){return"object"==typeof I&&!!I&&il in I}function ua(I,T){const R=[];for(let U=0;U<I.length;U++)R.push(I.charAt(U)),U<T.length&&R.push(T.charAt(U));return R.join("")}function nu(I){return Tt.create("missing-app-config-values",{valueName:I})}ua("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ua("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Xs{constructor(T,R,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function(I){if(!I||!I.options)throw nu("App Configuration Object");if(!I.name)throw nu("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:R}=I;for(const U of T)if(!R[U])throw nu(U);return{appName:I.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:Q,installations:R,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Xd(I){return cl.apply(this,arguments)}function cl(){return(cl=(0,F.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(wo,{scope:Ja}),I.swRegistration.update().catch(()=>{})}catch(T){throw Tt.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function la(I,T){return zi.apply(this,arguments)}function zi(){return(zi=(0,F.Z)(function*(I,T){if(!T&&!I.swRegistration&&(yield Xd(I)),T||!I.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Tt.create("invalid-sw-registration");I.swRegistration=T}})).apply(this,arguments)}function Pr(I,T){return kr.apply(this,arguments)}function kr(){return(kr=(0,F.Z)(function*(I,T){T?I.vapidKey=T:I.vapidKey||(I.vapidKey=Ys)})).apply(this,arguments)}function Wi(){return(Wi=(0,F.Z)(function*(I,T){if(!navigator)throw Tt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Tt.create("permission-blocked");return yield Pr(I,null==T?void 0:T.vapidKey),yield la(I,null==T?void 0:T.serviceWorkerRegistration),Js(I)})).apply(this,arguments)}function Ts(I,T,R){return ru.apply(this,arguments)}function ru(){return(ru=(0,F.Z)(function*(I,T,R){const U=eh(T);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:R[il],message_name:R[wc],message_time:R[pm],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function eh(I){switch(I){case Or.NOTIFICATION_CLICKED:return"notification_open";case Or.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function iu(){return(iu=(0,F.Z)(function*(I,T){const R=T.data;if(!R.isFirebaseMessaging)return;I.onMessageHandler&&R.messageType===Or.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(Re(R)):I.onMessageHandler.next(Re(R)));const U=R.data;Jd(U)&&"1"===U[ea]&&(yield Ts(I,R.messageType,U))})).apply(this,arguments)}const ca="@firebase/messaging";function th(){return xo.apply(this,arguments)}function xo(){return(xo=(0,F.Z)(function*(){return"undefined"!=typeof window&&(0,te.hl)()&&(yield(0,te.eu)())&&(0,te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,le._registerComponent)(new ie.wA("messaging",I=>{const T=new Xs(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function(I,T){return iu.apply(this,arguments)}(T,R)),T},"PUBLIC")),(0,le._registerComponent)(new ie.wA("messaging-internal",I=>{const T=I.getProvider("messaging").getImmediate();return{getToken:U=>function(I,T){return Wi.apply(this,arguments)}(T,U)}},"PRIVATE")),(0,le.registerVersion)(ca,"0.9.2"),(0,le.registerVersion)(ca,"0.9.2","esm2017");const Ki="analytics",cn="firebase_id",Rc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ih="https://www.googletagmanager.com/gtag/js",Qn=new we.Yd("@firebase/analytics");function sh(I){return Promise.all(I.map(T=>T.catch(R=>R)))}function da(I,T){const R=document.createElement("script");R.src=`${ih}?l=${I}&id=${T}`,R.async=!0,document.head.appendChild(R)}function xc(I,T,R,U,Q,pe){return No.apply(this,arguments)}function No(){return(No=(0,F.Z)(function*(I,T,R,U,Q,pe){const Me=U[Q];try{if(Me)yield T[Me];else{const Ge=(yield sh(R)).find(Vt=>Vt.measurementId===Q);Ge&&(yield T[Ge.appId])}}catch(ze){Qn.error(ze)}I("config",Q,pe)})).apply(this,arguments)}function Nc(I,T,R,U,Q){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,F.Z)(function*(I,T,R,U,Q){try{let pe=[];if(Q&&Q.send_to){let Me=Q.send_to;Array.isArray(Me)||(Me=[Me]);const ze=yield sh(R);for(const Ge of Me){const Vt=ze.find(Jn=>Jn.measurementId===Ge),$t=Vt&&T[Vt.appId];if(!$t){pe=[];break}pe.push($t)}}0===pe.length&&(pe=Object.values(T)),yield Promise.all(pe),I("event",U,Q||{})}catch(pe){Qn.error(pe)}})).apply(this,arguments)}function pv(){const I=window.document.getElementsByTagName("script");for(const T of Object.values(I))if(T.src&&T.src.includes(ih))return T;return null}const Ir=new te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ou=new class{constructor(T={},R=1e3){this.throttleMetadata=T,this.intervalMillis=R}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,R){this.throttleMetadata[T]=R}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function mm(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function dn(I){return au.apply(this,arguments)}function au(){return(au=(0,F.Z)(function*(I){var T;const{appId:R,apiKey:U}=I,Q={method:"GET",headers:mm(U)},pe=Rc.replace("{app-id}",R),Me=yield fetch(pe,Q);if(200!==Me.status&&304!==Me.status){let ze="";try{const Ge=yield Me.json();(null===(T=Ge.error)||void 0===T?void 0:T.message)&&(ze=Ge.error.message)}catch(Ge){}throw Ir.create("config-fetch-failed",{httpStatus:Me.status,responseMessage:ze})}return Me.json()})).apply(this,arguments)}function gl(I){return uu.apply(this,arguments)}function uu(){return(uu=(0,F.Z)(function*(I,T=ou,R){const{appId:U,apiKey:Q,measurementId:pe}=I.options;if(!U)throw Ir.create("no-app-id");if(!Q){if(pe)return{measurementId:pe,appId:U};throw Ir.create("no-api-key")}const Me=T.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ze=new cu;return setTimeout((0,F.Z)(function*(){ze.abort()}),void 0!==R?R:6e4),ml({appId:U,apiKey:Q,measurementId:pe},Me,ze,T)})).apply(this,arguments)}function ml(I,T,R){return yl.apply(this,arguments)}function yl(){return(yl=(0,F.Z)(function*(I,{throttleEndTimeMillis:T,backoffCount:R},U,Q=ou){const{appId:pe,measurementId:Me}=I;try{yield lu(U,T)}catch(ze){if(Me)return Qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${ze.message}]`),{appId:pe,measurementId:Me};throw ze}try{const ze=yield dn(I);return Q.deleteThrottleMetadata(pe),ze}catch(ze){if(!oh(ze)){if(Q.deleteThrottleMetadata(pe),Me)return Qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${ze.message}]`),{appId:pe,measurementId:Me};throw ze}const Ge=503===Number(ze.customData.httpStatus)?(0,te.$s)(R,Q.intervalMillis,30):(0,te.$s)(R,Q.intervalMillis),Vt={throttleEndTimeMillis:Date.now()+Ge,backoffCount:R+1};return Q.setThrottleMetadata(pe,Vt),Qn.debug(`Calling attemptFetch again in ${Ge} millis`),ml(I,Vt,U,Q)}})).apply(this,arguments)}function lu(I,T){return new Promise((R,U)=>{const Q=Math.max(T-Date.now(),0),pe=setTimeout(R,Q);I.addEventListener(()=>{clearTimeout(pe),U(Ir.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function oh(I){if(!(I instanceof te.ZR&&I.customData))return!1;const T=Number(I.customData.httpStatus);return 429===T||500===T||503===T||504===T}class cu{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function du(){return fa.apply(this,arguments)}function fa(){return(fa=(0,F.Z)(function*(){if(!(0,te.hl)())return Qn.warn(Ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,te.eu)()}catch(I){return Qn.warn(Ir.create("indexeddb-unavailable",{errorInfo:I}).message),!1}return!0})).apply(this,arguments)}function pa(){return(pa=(0,F.Z)(function*(I,T,R,U,Q,pe,Me){var ze;const Ge=gl(I);Ge.then(Xn=>{R[Xn.measurementId]=Xn.appId,I.options.measurementId&&Xn.measurementId!==I.options.measurementId&&Qn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Xn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Xn=>Qn.error(Xn)),T.push(Ge);const Vt=du().then(Xn=>{if(Xn)return U.getId()}),[$t,Jn]=yield Promise.all([Ge,Vt]);pv()||da(pe,$t.measurementId),Q("js",new Date);const lr=null!==(ze=null==Me?void 0:Me.config)&&void 0!==ze?ze:{};return lr.origin="firebase",lr.update=!0,null!=Jn&&(lr[cn]=Jn),Q("config",$t.measurementId,lr),$t.measurementId})).apply(this,arguments)}class Xt{constructor(T){this.app=T}_delete(){return delete Je[this.app.options.appId],Promise.resolve()}}let Je={},Yi=[];const Ss={};let no,Vn,ur="dataLayer",Oc=!1;function Yr(I,T,R){!function(){const I=[];if((0,te.ru)()&&I.push("This is a browser extension environment."),(0,te.zI)()||I.push("Cookies are not available."),I.length>0){const T=I.map((U,Q)=>`(${Q+1}) ${U}`).join(" "),R=Ir.create("invalid-analytics-context",{errorInfo:T});Qn.warn(R.message)}}();const U=I.options.appId;if(!U)throw Ir.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Ir.create("no-api-key");Qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Je[U])throw Ir.create("already-exists",{id:U});if(!Oc){!function(I){let T=[];Array.isArray(window[I])?T=window[I]:window[I]=T}(ur);const{wrappedGtag:pe,gtagCore:Me}=function(I,T,R,U,Q){let pe=function(...Me){window[U].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(pe=window[Q]),window[Q]=function(I,T,R,U){function pe(){return(pe=(0,F.Z)(function*(Me,ze,Ge){try{"event"===Me?yield Nc(I,T,R,ze,Ge):"config"===Me?yield xc(I,T,R,U,ze,Ge):I("set",ze)}catch(Vt){Qn.error(Vt)}})).apply(this,arguments)}return function(Me,ze,Ge){return pe.apply(this,arguments)}}(pe,I,T,R),{gtagCore:pe,wrappedGtag:window[Q]}}(Je,Yi,Ss,ur,"gtag");Vn=pe,no=Me,Oc=!0}return Je[U]=function(I,T,R,U,Q,pe,Me){return pa.apply(this,arguments)}(I,Yi,Ss,T,no,ur,R),new Xt(I)}function Pc(){return(Pc=(0,F.Z)(function*(I,T,R,U,Q){if(Q&&Q.global)I("event",R,U);else{const pe=yield T;I("event",R,Object.assign(Object.assign({},U),{send_to:pe}))}})).apply(this,arguments)}function Rs(){return ro.apply(this,arguments)}function ro(){return(ro=(0,F.Z)(function*(){if((0,te.ru)()||!(0,te.zI)()||!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(I){return!1}})).apply(this,arguments)}const _m="@firebase/analytics";(0,le._registerComponent)(new ie.wA(Ki,(T,{options:R})=>Yr(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,le._registerComponent)(new ie.wA("analytics-internal",function(T){try{const R=T.getProvider(Ki).getImmediate();return{logEvent:(U,Q,pe)=>function(I,T,R,U){I=(0,te.m9)(I),function(I,T,R,U,Q){return Pc.apply(this,arguments)}(Vn,Je[I.app.options.appId],T,R,U).catch(Q=>Qn.error(Q))}(R,U,Q,pe)}}catch(R){throw Ir.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,le.registerVersion)(_m,"0.7.2"),(0,le.registerVersion)(_m,"0.7.2","esm2017");var Fc=V(7771),bn=V(3637),va=V(3342),Po=V(309),lh=V(3101);const vm=new d.GfV("7.1.1"),hu="__angularfire_symbol__analyticsIsSupported",io="__angularfire_symbol__remoteConfigIsSupported",Ea="__angularfire_symbol__messagingIsSupported";function Il(I,T,R){if(T){if(1===T.length)return T[0];const pe=T.filter(Me=>Me.app===R);if(1===pe.length)return pe[0]}return R.container.getProvider(I).getImmediate({optional:!0})}globalThis[hu]||(globalThis[hu]=Rs().then(I=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=I)),globalThis[Ea]||(globalThis[Ea]=th().then(I=>globalThis.__angularfire_symbol__messagingIsSupportedValue=I)),globalThis[io]||(globalThis[io]=fm().then(I=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=I));const ko=(I,T)=>{const R=T?[T]:(0,ee.C6)(),U=[];return R.forEach(Q=>{Q.container.getProvider(I).instances.forEach(Me=>{U.includes(Me)||U.push(Me)})}),U};function ba(){}class ch{constructor(T,R=Fc.N){this.zone=T,this.delegate=R}now(){return this.delegate.now()}schedule(T,R,U){const Q=this.zone;return this.delegate.schedule(function(Me){Q.runGuarded(()=>{T.apply(this,[Me])})},R,U)}}class hi{constructor(T){this.zone=T,this.task=null}call(T,R){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ba,{},ba,ba)),R.pipe((0,va.b)({next:U,complete:U,error:U})).subscribe(T).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Qr=(()=>{class I{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new ch(Zone.current)),this.insideAngular=R.run(()=>new ch(Zone.current,bn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(R){return new(R||I)(d.LFG(d.R0b))},I.\u0275prov=d.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Xi(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Cl(I){return I.pipe((0,Po.QV)(Xi().outsideAngular))}function Fr(I){return Xi(),function(I){return function(R){return(R=R.lift(new hi(I.ngZone))).pipe((0,lh.R)(I.outsideAngular),(0,Po.QV)(I.insideAngular))}}(Xi())(I)}},4486:(et,Ae,V)=>{"use strict";V.d(Ae,{Z:()=>Ie});var d=V(3854),ee=V(6034),F=V(5452),le=V(5601);class te{constructor(G,_e){this._delegate=G,this.firebase=_e,(0,F._addComponent)(G,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=G.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(G){this._delegate.automaticDataCollectionEnabled=G}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(G=>{this._delegate.checkDestroyed(),G()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(G,_e=F._DEFAULT_ENTRY_NAME){var be;this._delegate.checkDestroyed();const he=this._delegate.container.getProvider(G);return!he.isInitialized()&&"EXPLICIT"===(null===(be=he.getComponent())||void 0===be?void 0:be.instantiationMode)&&he.initialize(),he.getImmediate({identifier:_e})}_removeServiceInstance(G,_e=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(G).clearInstance(_e)}_addComponent(G){(0,F._addComponent)(this._delegate,G)}_addOrOverwriteComponent(G){(0,F._addOrOverwriteComponent)(this._delegate,G)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const we=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),k=function z(){const de=function(de){const G={},_e={__esModule:!0,initializeApp:function(ht,De={}){const ne=F.initializeApp(ht,De);if((0,d.r3)(G,ne.name))return G[ne.name];const oe=new de(ne,_e);return G[ne.name]=oe,oe},app:he,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function(ht){const De=ht.name,ne=De.replace("-compat","");if(F._registerComponent(ht)&&"PUBLIC"===ht.type){const oe=(fe=he())=>{if("function"!=typeof fe[ne])throw we.create("invalid-app-argument",{appName:De});return fe[ne]()};void 0!==ht.serviceProps&&(0,d.ZB)(oe,ht.serviceProps),_e[ne]=oe,de.prototype[ne]=function(...fe){return this._getService.bind(this,De).apply(this,ht.multipleInstances?fe:[])}}return"PUBLIC"===ht.type?_e[ne]:null},removeApp:function(ht){delete G[ht]},useAsService:function(ht,De){return"serverAuth"===De?null:De},modularAPIs:F}};function he(ht){if(!(0,d.r3)(G,ht=ht||F._DEFAULT_ENTRY_NAME))throw we.create("no-app",{appName:ht});return G[ht]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function(){return Object.keys(G).map(ht=>G[ht])}}),he.App=de,_e}(te);return de.INTERNAL=Object.assign(Object.assign({},de.INTERNAL),{createFirebaseNamespace:z,extendNamespace:function(_e){(0,d.ZB)(de,_e)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),de}(),L=new le.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){L.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const de=self.firebase.SDK_VERSION;de&&de.indexOf("LITE")>=0&&L.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ie=k;(0,F.registerVersion)("@firebase/app-compat","0.1.5",undefined)},5452:(et,Ae,V)=>{"use strict";V.r(Ae),V.d(Ae,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>oi,_DEFAULT_ENTRY_NAME:()=>Fn,_addComponent:()=>Qt,_addOrOverwriteComponent:()=>Zn,_apps:()=>Yt,_clearComponents:()=>Ot,_components:()=>Ln,_getProvider:()=>fn,_registerComponent:()=>Hr,_removeServiceInstance:()=>at,deleteApp:()=>qi,getApp:()=>Nr,getApps:()=>ai,initializeApp:()=>Ai,onLog:()=>Cn,registerVersion:()=>ui,setLogLevel:()=>Er});var d=V(8239),ee=V(6034),F=V(5601),le=V(3854);class te{constructor(xe){this.container=xe}getPlatformInfoString(){return this.container.getProviders().map(zt=>{if(function(it){const xe=it.getComponent();return"VERSION"===(null==xe?void 0:xe.type)}(zt)){const nn=zt.getImmediate();return`${nn.library}/${nn.version}`}return null}).filter(zt=>zt).join(" ")}}const we="@firebase/app",z=new F.Yd("@firebase/app"),Fn="[DEFAULT]",Et={[we]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yt=new Map,Ln=new Map;function Qt(it,xe){try{it.container.addComponent(xe)}catch(zt){z.debug(`Component ${xe.name} failed to register with FirebaseApp ${it.name}`,zt)}}function Zn(it,xe){it.container.addOrOverwriteComponent(xe)}function Hr(it){const xe=it.name;if(Ln.has(xe))return z.debug(`There were multiple attempts to register component ${xe}.`),!1;Ln.set(xe,it);for(const zt of Yt.values())Qt(zt,it);return!0}function fn(it,xe){return it.container.getProvider(xe)}function at(it,xe,zt=Fn){fn(it,xe).clearInstance(zt)}function Ot(){Ln.clear()}const vr=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class un{constructor(xe,zt,nn){this._isDeleted=!1,this._options=Object.assign({},xe),this._config=Object.assign({},zt),this._name=zt.name,this._automaticDataCollectionEnabled=zt.automaticDataCollectionEnabled,this._container=nn,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this.checkDestroyed(),this._automaticDataCollectionEnabled=xe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(xe){this._isDeleted=xe}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}const oi="9.1.3";function Ai(it,xe={}){"object"!=typeof xe&&(xe={name:xe});const zt=Object.assign({name:Fn,automaticDataCollectionEnabled:!1},xe),nn=zt.name;if("string"!=typeof nn||!nn)throw vr.create("bad-app-name",{appName:String(nn)});const pn=Yt.get(nn);if(pn){if((0,le.vZ)(it,pn.options)&&(0,le.vZ)(zt,pn.config))return pn;throw vr.create("duplicate-app",{appName:nn})}const Bt=new ee.H0(nn);for(const Qe of Ln.values())Bt.addComponent(Qe);const Ye=new un(it,zt,Bt);return Yt.set(nn,Ye),Ye}function Nr(it=Fn){const xe=Yt.get(it);if(!xe)throw vr.create("no-app",{appName:it});return xe}function ai(){return Array.from(Yt.values())}function qi(it){return _s.apply(this,arguments)}function _s(){return(_s=(0,d.Z)(function*(it){const xe=it.name;Yt.has(xe)&&(Yt.delete(xe),yield Promise.all(it.container.getProviders().map(zt=>zt.delete())),it.isDeleted=!0)})).apply(this,arguments)}function ui(it,xe,zt){var nn;let pn=null!==(nn=Et[it])&&void 0!==nn?nn:it;zt&&(pn+=`-${zt}`);const Bt=pn.match(/\s|\//),Ye=xe.match(/\s|\//);if(Bt||Ye){const Qe=[`Unable to register library "${pn}" with version "${xe}":`];return Bt&&Qe.push(`library name "${pn}" contains illegal characters (whitespace or "/")`),Bt&&Ye&&Qe.push("and"),Ye&&Qe.push(`version name "${xe}" contains illegal characters (whitespace or "/")`),void z.warn(Qe.join(" "))}Hr(new ee.wA(`${pn}-version`,()=>({library:pn,version:xe}),"VERSION"))}function Cn(it,xe){if(null!==it&&"function"!=typeof it)throw vr.create("invalid-log-argument");(0,F.Am)(it,xe)}function Er(it){(0,F.Ub)(it)}Hr(new ee.wA("platform-logger",xe=>new te(xe),"PRIVATE")),ui(we,"0.7.4",""),ui(we,"0.7.4","esm2017"),ui("fire-js","")},6034:(et,Ae,V)=>{"use strict";V.d(Ae,{wA:()=>F,H0:()=>ce});var d=V(4762),ee=V(3854),F=function(){function z(k,L,J){this.name=k,this.instanceFactory=L,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return z.prototype.setInstantiationMode=function(k){return this.instantiationMode=k,this},z.prototype.setMultipleInstances=function(k){return this.multipleInstances=k,this},z.prototype.setServiceProps=function(k){return this.serviceProps=k,this},z.prototype.setInstanceCreatedCallback=function(k){return this.onInstanceCreated=k,this},z}(),le="[DEFAULT]",te=function(){function z(k,L){this.name=k,this.container=L,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return z.prototype.get=function(k){var L=this.normalizeInstanceIdentifier(k);if(!this.instancesDeferred.has(L)){var J=new ee.BH;if(this.instancesDeferred.set(L,J),this.isInitialized(L)||this.shouldAutoInitialize())try{var Y=this.getOrInitializeService({instanceIdentifier:L});Y&&J.resolve(Y)}catch(re){}}return this.instancesDeferred.get(L).promise},z.prototype.getImmediate=function(k){var L,J=this.normalizeInstanceIdentifier(null==k?void 0:k.identifier),Y=null!==(L=null==k?void 0:k.optional)&&void 0!==L&&L;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(Y)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(re){if(Y)return null;throw re}},z.prototype.getComponent=function(){return this.component},z.prototype.setComponent=function(k){var L,J;if(k.name!==this.name)throw Error("Mismatching Component "+k.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=k,this.shouldAutoInitialize()){if(function(z){return"EAGER"===z.instantiationMode}(k))try{this.getOrInitializeService({instanceIdentifier:le})}catch(he){}try{for(var Y=(0,d.XA)(this.instancesDeferred.entries()),re=Y.next();!re.done;re=Y.next()){var Ie=(0,d.CR)(re.value,2),G=Ie[1],_e=this.normalizeInstanceIdentifier(Ie[0]);try{var be=this.getOrInitializeService({instanceIdentifier:_e});G.resolve(be)}catch(he){}}}catch(he){L={error:he}}finally{try{re&&!re.done&&(J=Y.return)&&J.call(Y)}finally{if(L)throw L.error}}}},z.prototype.clearInstance=function(k){void 0===k&&(k=le),this.instancesDeferred.delete(k),this.instancesOptions.delete(k),this.instances.delete(k)},z.prototype.delete=function(){return(0,d.mG)(this,void 0,void 0,function(){var k;return(0,d.Jh)(this,function(L){switch(L.label){case 0:return k=Array.from(this.instances.values()),[4,Promise.all((0,d.ev)((0,d.ev)([],(0,d.CR)(k.filter(function(J){return"INTERNAL"in J}).map(function(J){return J.INTERNAL.delete()}))),(0,d.CR)(k.filter(function(J){return"_delete"in J}).map(function(J){return J._delete()}))))];case 1:return L.sent(),[2]}})})},z.prototype.isComponentSet=function(){return null!=this.component},z.prototype.isInitialized=function(k){return void 0===k&&(k=le),this.instances.has(k)},z.prototype.getOptions=function(k){return void 0===k&&(k=le),this.instancesOptions.get(k)||{}},z.prototype.initialize=function(k){var L,J;void 0===k&&(k={});var Y=k.options,re=void 0===Y?{}:Y,Ie=this.normalizeInstanceIdentifier(k.instanceIdentifier);if(this.isInitialized(Ie))throw Error(this.name+"("+Ie+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var de=this.getOrInitializeService({instanceIdentifier:Ie,options:re});try{for(var G=(0,d.XA)(this.instancesDeferred.entries()),_e=G.next();!_e.done;_e=G.next()){var be=(0,d.CR)(_e.value,2),Te=be[1];Ie===this.normalizeInstanceIdentifier(be[0])&&Te.resolve(de)}}catch(Ve){L={error:Ve}}finally{try{_e&&!_e.done&&(J=G.return)&&J.call(G)}finally{if(L)throw L.error}}return de},z.prototype.onInit=function(k,L){var J,Y=this.normalizeInstanceIdentifier(L),re=null!==(J=this.onInitCallbacks.get(Y))&&void 0!==J?J:new Set;re.add(k),this.onInitCallbacks.set(Y,re);var Ie=this.instances.get(Y);return Ie&&k(Ie,Y),function(){re.delete(k)}},z.prototype.invokeOnInitCallbacks=function(k,L){var J,Y,re=this.onInitCallbacks.get(L);if(re)try{for(var Ie=(0,d.XA)(re),de=Ie.next();!de.done;de=Ie.next()){var G=de.value;try{G(k,L)}catch(_e){}}}catch(_e){J={error:_e}}finally{try{de&&!de.done&&(Y=Ie.return)&&Y.call(Ie)}finally{if(J)throw J.error}}},z.prototype.getOrInitializeService=function(k){var L=k.instanceIdentifier,J=k.options,Y=void 0===J?{}:J,re=this.instances.get(L);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:ie(L),options:Y}),this.instances.set(L,re),this.instancesOptions.set(L,Y),this.invokeOnInitCallbacks(re,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,re)}catch(Ie){}return re||null},z.prototype.normalizeInstanceIdentifier=function(k){return void 0===k&&(k=le),this.component?this.component.multipleInstances?k:le:k},z.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},z}();function ie(z){return z===le?void 0:z}var ce=function(){function z(k){this.name=k,this.providers=new Map}return z.prototype.addComponent=function(k){var L=this.getProvider(k.name);if(L.isComponentSet())throw new Error("Component "+k.name+" has already been registered with "+this.name);L.setComponent(k)},z.prototype.addOrOverwriteComponent=function(k){this.getProvider(k.name).isComponentSet()&&this.providers.delete(k.name),this.addComponent(k)},z.prototype.getProvider=function(k){if(this.providers.has(k))return this.providers.get(k);var L=new te(k,this);return this.providers.set(k,L),L},z.prototype.getProviders=function(){return Array.from(this.providers.values())},z}()},5601:(et,Ae,V)=>{"use strict";V.d(Ae,{in:()=>ee,Yd:()=>we,Ub:()=>ce,Am:()=>z});const d=[];var ee=(()=>{return(k=ee||(ee={}))[k.DEBUG=0]="DEBUG",k[k.VERBOSE=1]="VERBOSE",k[k.INFO=2]="INFO",k[k.WARN=3]="WARN",k[k.ERROR=4]="ERROR",k[k.SILENT=5]="SILENT",ee;var k})();const F={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},le=ee.INFO,te={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},ie=(k,L,...J)=>{if(L<k.logLevel)return;const Y=(new Date).toISOString(),re=te[L];if(!re)throw new Error(`Attempted to log a message with an invalid logType (value: ${L})`);console[re](`[${Y}]  ${k.name}:`,...J)};class we{constructor(L){this.name=L,this._logLevel=le,this._logHandler=ie,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(L){if(!(L in ee))throw new TypeError(`Invalid value "${L}" assigned to \`logLevel\``);this._logLevel=L}setLogLevel(L){this._logLevel="string"==typeof L?F[L]:L}get logHandler(){return this._logHandler}set logHandler(L){if("function"!=typeof L)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=L}get userLogHandler(){return this._userLogHandler}set userLogHandler(L){this._userLogHandler=L}debug(...L){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...L),this._logHandler(this,ee.DEBUG,...L)}log(...L){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...L),this._logHandler(this,ee.VERBOSE,...L)}info(...L){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...L),this._logHandler(this,ee.INFO,...L)}warn(...L){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...L),this._logHandler(this,ee.WARN,...L)}error(...L){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...L),this._logHandler(this,ee.ERROR,...L)}}function ce(k){d.forEach(L=>{L.setLogLevel(k)})}function z(k,L){for(const J of d){let Y=null;L&&L.level&&(Y=F[L.level]),J.userLogHandler=null===k?null:(re,Ie,...de)=>{const G=de.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch(be){return null}}).filter(_e=>_e).join(" ");Ie>=(null!=Y?Y:re.logLevel)&&k({level:ee[Ie].toLowerCase(),message:G,args:de,type:re.name})}}}},3854:(et,Ae,V)=>{"use strict";V.d(Ae,{BH:()=>Y,LL:()=>ge,ZR:()=>Pe,zI:()=>oe,US:()=>ie,tV:()=>z,$s:()=>Si,r3:()=>fn,Sg:()=>re,ne:()=>qi,vZ:()=>vr,ZB:()=>L,pd:()=>Nr,m9:()=>yo,z$:()=>Ie,jU:()=>_e,ru:()=>be,d:()=>Te,xb:()=>Ot,w1:()=>Le,hl:()=>De,uI:()=>de,UG:()=>G,b$:()=>he,G6:()=>ht,Mn:()=>Ve,xO:()=>oi,zd:()=>Ai,eu:()=>ne});const le=function($){const q=[];let j=0;for(let Se=0;Se<$.length;Se++){let se=$.charCodeAt(Se);se<128?q[j++]=se:se<2048?(q[j++]=se>>6|192,q[j++]=63&se|128):55296==(64512&se)&&Se+1<$.length&&56320==(64512&$.charCodeAt(Se+1))?(se=65536+((1023&se)<<10)+(1023&$.charCodeAt(++Se)),q[j++]=se>>18|240,q[j++]=se>>12&63|128,q[j++]=se>>6&63|128,q[j++]=63&se|128):(q[j++]=se>>12|224,q[j++]=se>>6&63|128,q[j++]=63&se|128)}return q},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,q){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,Se=[];for(let se=0;se<$.length;se+=3){const Ze=$[se],$e=se+1<$.length,jt=$e?$[se+1]:0,rn=se+2<$.length,tn=rn?$[se+2]:0;let sn=(15&jt)<<2|tn>>6,ir=63&tn;rn||(ir=64,$e||(sn=64)),Se.push(j[Ze>>2],j[(3&Ze)<<4|jt>>4],j[sn],j[ir])}return Se.join("")},encodeString($,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa($):this.encodeByteArray(le($),q)},decodeString($,q){return this.HAS_NATIVE_SUPPORT&&!q?atob($):function($){const q=[];let j=0,Se=0;for(;j<$.length;){const se=$[j++];if(se<128)q[Se++]=String.fromCharCode(se);else if(se>191&&se<224){const Ze=$[j++];q[Se++]=String.fromCharCode((31&se)<<6|63&Ze)}else if(se>239&&se<365){const rn=((7&se)<<18|(63&$[j++])<<12|(63&$[j++])<<6|63&$[j++])-65536;q[Se++]=String.fromCharCode(55296+(rn>>10)),q[Se++]=String.fromCharCode(56320+(1023&rn))}else{const Ze=$[j++],$e=$[j++];q[Se++]=String.fromCharCode((15&se)<<12|(63&Ze)<<6|63&$e)}}return q.join("")}(this.decodeStringToByteArray($,q))},decodeStringToByteArray($,q){this.init_();const j=q?this.charToByteMapWebSafe_:this.charToByteMap_,Se=[];for(let se=0;se<$.length;){const Ze=j[$.charAt(se++)],jt=se<$.length?j[$.charAt(se)]:0;++se;const tn=se<$.length?j[$.charAt(se)]:64;++se;const St=se<$.length?j[$.charAt(se)]:64;if(++se,null==Ze||null==jt||null==tn||null==St)throw Error();Se.push(Ze<<2|jt>>4),64!==tn&&(Se.push(jt<<4&240|tn>>2),64!==St&&Se.push(tn<<6&192|St))}return Se},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},ce=function($){return function($){const q=le($);return ie.encodeByteArray(q,!0)}($).replace(/\./g,"")},z=function($){try{return ie.decodeString($,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function L($,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return q}for(const j in q)!q.hasOwnProperty(j)||!J(j)||($[j]=L($[j],q[j]));return $}function J($){return"__proto__"!==$}class Y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,j)=>{this.resolve=q,this.reject=j})}wrapCallback(q){return(j,Se)=>{j?this.reject(j):this.resolve(Se),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(j):q(j,Se))}}}function re($,q){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Se=q||"demo-project",se=$.iat||0,Ze=$.sub||$.user_id;if(!Ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const $e=Object.assign({iss:`https://securetoken.google.com/${Se}`,aud:Se,iat:se,exp:se+3600,auth_time:se,sub:Ze,user_id:Ze,firebase:{sign_in_provider:"custom",identities:{}}},$);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify($e)),""].join(".")}function Ie(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ie())}function G(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch($){return!1}}function _e(){return"object"==typeof self&&self.self===self}function be(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function he(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Te(){return Ie().indexOf("Electron/")>=0}function Le(){const $=Ie();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function Ve(){return Ie().indexOf("MSAppHost/")>=0}function ht(){return!G()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function De(){return"object"==typeof indexedDB}function ne(){return new Promise(($,q)=>{try{let j=!0;const Se="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(Se);se.onsuccess=()=>{se.result.close(),j||self.indexedDB.deleteDatabase(Se),$(!0)},se.onupgradeneeded=()=>{j=!1},se.onerror=()=>{var Ze;q((null===(Ze=se.error)||void 0===Ze?void 0:Ze.message)||"")}}catch(j){q(j)}})}function oe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Pe extends Error{constructor(q,j,Se){super(j),this.code=q,this.customData=Se,this.name="FirebaseError",Object.setPrototypeOf(this,Pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ge.prototype.create)}}class ge{constructor(q,j,Se){this.service=q,this.serviceName=j,this.errors=Se}create(q,...j){const Se=j[0]||{},se=`${this.service}/${q}`,Ze=this.errors[q],$e=Ze?function($,q){return $.replace(Zt,(j,Se)=>{const se=q[Se];return null!=se?String(se):`<${Se}?>`})}(Ze,Se):"Error";return new Pe(se,`${this.serviceName}: ${$e} (${se}).`,Se)}}const Zt=/\{\$([^}]+)}/g;function fn($,q){return Object.prototype.hasOwnProperty.call($,q)}function Ot($){for(const q in $)if(Object.prototype.hasOwnProperty.call($,q))return!1;return!0}function vr($,q){if($===q)return!0;const j=Object.keys($),Se=Object.keys(q);for(const se of j){if(!Se.includes(se))return!1;const Ze=$[se],$e=q[se];if(un(Ze)&&un($e)){if(!vr(Ze,$e))return!1}else if(Ze!==$e)return!1}for(const se of Se)if(!j.includes(se))return!1;return!0}function un($){return null!==$&&"object"==typeof $}function oi($){const q=[];for(const[j,Se]of Object.entries($))Array.isArray(Se)?Se.forEach(se=>{q.push(encodeURIComponent(j)+"="+encodeURIComponent(se))}):q.push(encodeURIComponent(j)+"="+encodeURIComponent(Se));return q.length?"&"+q.join("&"):""}function Ai($){const q={};return $.replace(/^\?/,"").split("&").forEach(Se=>{if(Se){const[se,Ze]=Se.split("=");q[decodeURIComponent(se)]=decodeURIComponent(Ze)}}),q}function Nr($){const q=$.indexOf("?");if(!q)return"";const j=$.indexOf("#",q);return $.substring(q,j>0?j:void 0)}function qi($,q){const j=new _s($,q);return j.subscribe.bind(j)}class _s{constructor(q,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{q(this)}).catch(Se=>{this.error(Se)})}next(q){this.forEachObserver(j=>{j.next(q)})}error(q){this.forEachObserver(j=>{j.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,j,Se){let se;if(void 0===q&&void 0===j&&void 0===Se)throw new Error("Missing Observer.");se=function($,q){if("object"!=typeof $||null===$)return!1;for(const j of["next","error","complete"])if(j in $&&"function"==typeof $[j])return!0;return!1}(q)?q:{next:q,error:j,complete:Se},void 0===se.next&&(se.next=Er),void 0===se.error&&(se.error=Er),void 0===se.complete&&(se.complete=Er);const Ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch($e){}}),this.observers.push(se),Ze}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,q)}sendOne(q,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{j(this.observers[q])}catch(Se){"undefined"!=typeof console&&console.error&&console.error(Se)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Er(){}function Si($,q=1e3,j=2){const Se=q*Math.pow(j,$),se=Math.round(.5*Se*(Math.random()-.5)*2);return Math.min(144e5,Se+se)}function yo($){return $&&$._delegate?$._delegate:$}},2329:(et,Ae,V)=>{"use strict";V.d(Ae,{Mq:()=>d.getApp,C6:()=>d.getApps});var d=V(5452);(0,d.registerVersion)("firebase","9.1.3","app")},7841:(et,Ae,V)=>{"use strict";V.d(Ae,{Z:()=>d.Z});var d=V(4486);d.Z.registerVersion("firebase","9.1.3","app-compat")},4671:(et,Ae,V)=>{"use strict";V.r(Ae);var d=V(8239),ee=V(4486),F=V(3854),le=V(5452),te=V(4762),ie=V(5601),we=V(6034);const Ie=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},de=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},G=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),be=new ie.Yd("@firebase/auth");function he(v,...p){be.logLevel<=ie.in.ERROR&&be.error(`Auth (${le.SDK_VERSION}): ${v}`,...p)}function Te(v,...p){throw ht(v,...p)}function Le(v,...p){return ht(v,...p)}function Ve(v,p,g){const b=Object.assign(Object.assign({},de()),{[p]:g});return new F.LL("auth","Firebase",b).create(p,{appName:v.name})}function vt(v,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Te(v,"argument-error"),Ve(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ht(v,...p){if("string"!=typeof v){const g=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=v.name),v._errorFactory.create(g,...b)}return G.create(v,...p)}function De(v,p,...g){if(!v)throw ht(p,...g)}function ne(v){const p="INTERNAL ASSERTION FAILED: "+v;throw he(p),new Error(p)}function oe(v,p){v||ne(p)}const fe=new Map;function ue(v){oe(v instanceof Function,"Expected a class definition");let p=fe.get(v);return p?(oe(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,fe.set(v,p),p)}function nt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Zt(){return"http:"===Fn()||"https:"===Fn()}function Fn(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Ln{constructor(p,g){this.shortDelay=p,this.longDelay=g,oe(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Zt()||(0,F.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Qt(v,p){oe(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Zn{static initialize(p,g,b){this.fetchImpl=p,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ne("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ne("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ne("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Hr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},fn=new Ln(3e4,6e4);function at(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function Ot(v,p,g,b){return go.apply(this,arguments)}function go(){return(go=(0,d.Z)(function*(v,p,g,b,A={}){return vr(v,A,()=>{let M={},W={};b&&("GET"===p?W=b:M={body:JSON.stringify(b)});const Ee=(0,F.xO)(Object.assign({key:v.config.apiKey},W)).slice(1),Be=new(Zn.headers());return Be.set("Content-Type","application/json"),Be.set("X-Client-Version",v._getSdkClientVersion()),v.languageCode&&Be.set("X-Firebase-Locale",v.languageCode),Zn.fetch()(Nr(v,v.config.apiHost,g,Ee),Object.assign({method:p,headers:Be,referrerPolicy:"no-referrer"},M))})})).apply(this,arguments)}function vr(v,p,g){return un.apply(this,arguments)}function un(){return(un=(0,d.Z)(function*(v,p,g){v._canInitEmulator=!1;const b=Object.assign(Object.assign({},Hr),p);try{const A=new ai(v),M=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const W=yield M.json();if("needConfirmation"in W)throw qi(v,"account-exists-with-different-credential",W);if(M.ok&&!("errorMessage"in W))return W;{const Ee=M.ok?W.errorMessage:W.error.message,[Be,We]=Ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Be)throw qi(v,"credential-already-in-use",W);if("EMAIL_EXISTS"===Be)throw qi(v,"email-already-in-use",W);const dt=b[Be]||Be.toLowerCase().replace(/[_\s]+/g,"-");if(We)throw Ve(v,dt,We);Te(v,dt)}}catch(A){if(A instanceof F.ZR)throw A;Te(v,"network-request-failed")}})).apply(this,arguments)}function oi(v,p,g,b){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,d.Z)(function*(v,p,g,b,A={}){const M=yield Ot(v,p,g,b,A);return"mfaPendingCredential"in M&&Te(v,"multi-factor-auth-required",{serverResponse:M}),M})).apply(this,arguments)}function Nr(v,p,g,b){const A=`${p}${g}?${b}`;return v.config.emulator?Qt(v.config,A):`${v.config.apiScheme}://${A}`}class ai{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(Le(this.auth,"timeout")),fn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qi(v,p,g){const b={appName:v.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const A=Le(v,p,b);return A.customData._tokenResponse=g,A}function ui(){return(ui=(0,d.Z)(function*(v,p){return Ot(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Cn(v,p){return Er.apply(this,arguments)}function Er(){return(Er=(0,d.Z)(function*(v,p){return Ot(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function mo(v,p){return it.apply(this,arguments)}function it(){return(it=(0,d.Z)(function*(v,p){return Ot(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function xe(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function pn(){return(pn=(0,d.Z)(function*(v,p=!1){const g=(0,F.m9)(v),b=yield g.getIdToken(p),A=Ye(b);De(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const M="object"==typeof A.firebase?A.firebase:void 0,W=null==M?void 0:M.sign_in_provider;return{claims:A,token:b,authTime:xe(Bt(A.auth_time)),issuedAtTime:xe(Bt(A.iat)),expirationTime:xe(Bt(A.exp)),signInProvider:W||null,signInSecondFactor:(null==M?void 0:M.sign_in_second_factor)||null}})).apply(this,arguments)}function Bt(v){return 1e3*Number(v)}function Ye(v){const[p,g,b]=v.split(".");if(void 0===p||void 0===g||void 0===b)return he("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,F.tV)(g);return A?JSON.parse(A):(he("Failed to decode base64 JWT payload"),null)}catch(A){return he("Caught error parsing JWT payload as JSON",A),null}}function vn(v,p){return vs.apply(this,arguments)}function vs(){return(vs=(0,d.Z)(function*(v,p,g=!1){if(g)return p;try{return yield p}catch(b){throw b instanceof F.ZR&&Si(b)&&v.auth.currentUser===v&&(yield v.auth.signOut()),b}})).apply(this,arguments)}function Si({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class gn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,d.Z)(function*(){yield g.iteration()}),b)}iteration(){var p=this;return(0,d.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class Mr{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=xe(this.lastLoginAt),this.creationTime=xe(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yo(v){return $.apply(this,arguments)}function $(){return($=(0,d.Z)(function*(v){var p;const g=v.auth,b=yield v.getIdToken(),A=yield vn(v,mo(g,{idToken:b}));De(null==A?void 0:A.users.length,g,"internal-error");const M=A.users[0];v._notifyReloadListener(M);const W=(null===(p=M.providerUserInfo)||void 0===p?void 0:p.length)?se(M.providerUserInfo):[],Ee=Se(v.providerData,W),dt=!!v.isAnonymous&&!(v.email&&M.passwordHash||(null==Ee?void 0:Ee.length)),st={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:Ee,metadata:new Mr(M.createdAt,M.lastLoginAt),isAnonymous:dt};Object.assign(v,st)})).apply(this,arguments)}function j(){return(j=(0,d.Z)(function*(v){const p=(0,F.m9)(v);yield yo(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Se(v,p){return[...v.filter(b=>!p.some(A=>A.providerId===b.providerId)),...p]}function se(v){return v.map(p=>{var{providerId:g}=p,b=(0,te._T)(p,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function $e(){return($e=(0,d.Z)(function*(v,p){const g=yield vr(v,{},()=>{const b=(0,F.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:A,apiKey:M}=v.config,W=Nr(v,A,"/v1/token",`key=${M}`);return Zn.fetch()(W,{method:"POST",headers:{"X-Client-Version":v._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:b})});return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class jt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){De(p.idToken,"internal-error"),De(void 0!==p.idToken,"internal-error"),De(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(v){const p=Ye(v);return De(p,"internal-error"),De(void 0!==p.exp,"internal-error"),De(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var b=this;return(0,d.Z)(function*(){return De(!b.accessToken||b.refreshToken,p,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var b=this;return(0,d.Z)(function*(){const{accessToken:A,refreshToken:M,expiresIn:W}=yield function(v,p){return $e.apply(this,arguments)}(p,g);b.updateTokensAndExpiration(A,M,Number(W))})()}updateTokensAndExpiration(p,g,b){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,g){const{refreshToken:b,accessToken:A,expirationTime:M}=g,W=new jt;return b&&(De("string"==typeof b,"internal-error",{appName:p}),W.refreshToken=b),A&&(De("string"==typeof A,"internal-error",{appName:p}),W.accessToken=A),M&&(De("number"==typeof M,"internal-error",{appName:p}),W.expirationTime=M),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new jt,this.toJSON())}_performRefresh(){return ne("not implemented")}}function rn(v,p){De("string"==typeof v||void 0===v,"internal-error",{appName:p})}class tn{constructor(p){var{uid:g,auth:b,stsTokenManager:A}=p,M=(0,te._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new gn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.metadata=new Mr(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,d.Z)(function*(){const b=yield vn(g,g.stsTokenManager.getToken(g.auth,p));return De(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(p){return function(v){return pn.apply(this,arguments)}(this,p)}reload(){return function(v){return j.apply(this,arguments)}(this)}_assign(p){this!==p&&(De(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new tn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var b=this;return(0,d.Z)(function*(){let A=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),A=!0),g&&(yield yo(b)),yield b.auth._persistUserIfCurrent(b),A&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,d.Z)(function*(){const g=yield p.getIdToken();return yield vn(p,function(v,p){return ui.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var b,A,M,W,Ee,Be,We,dt;const st=null!==(b=g.displayName)&&void 0!==b?b:void 0,On=null!==(A=g.email)&&void 0!==A?A:void 0,mi=null!==(M=g.phoneNumber)&&void 0!==M?M:void 0,er=null!==(W=g.photoURL)&&void 0!==W?W:void 0,mp=null!==(Ee=g.tenantId)&&void 0!==Ee?Ee:void 0,yp=null!==(Be=g._redirectEventId)&&void 0!==Be?Be:void 0,Fl=null!==(We=g.createdAt)&&void 0!==We?We:void 0,_p=null!==(dt=g.lastLoginAt)&&void 0!==dt?dt:void 0,{uid:Hm,emailVerified:vp,isAnonymous:qm,providerData:Ep,stsTokenManager:Gm}=g;De(Hm&&Gm,p,"internal-error");const Ll=jt.fromJSON(this.name,Gm);De("string"==typeof Hm,p,"internal-error"),rn(st,p.name),rn(On,p.name),De("boolean"==typeof vp,p,"internal-error"),De("boolean"==typeof qm,p,"internal-error"),rn(mi,p.name),rn(er,p.name),rn(mp,p.name),rn(yp,p.name),rn(Fl,p.name),rn(_p,p.name);const rs=new tn({uid:Hm,auth:p,email:On,emailVerified:vp,displayName:st,isAnonymous:qm,photoURL:er,phoneNumber:mi,tenantId:mp,stsTokenManager:Ll,createdAt:Fl,lastLoginAt:_p});return Ep&&Array.isArray(Ep)&&(rs.providerData=Ep.map(Ew=>Object.assign({},Ew))),yp&&(rs._redirectEventId=yp),rs}static _fromIdTokenResponse(p,g,b=!1){return(0,d.Z)(function*(){const A=new jt;A.updateFromServerResponse(g);const M=new tn({uid:g.localId,auth:p,stsTokenManager:A,isAnonymous:b});return yield yo(M),M})()}}const St=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(g,b){var A=this;return(0,d.Z)(function*(){A.storage[g]=b})()}_get(g){var b=this;return(0,d.Z)(function*(){const A=b.storage[g];return void 0===A?null:A})()}_remove(g){var b=this;return(0,d.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return v.type="NONE",v})();function sn(v,p,g){return`firebase:${v}:${p}:${g}`}class ir{constructor(p,g,b){this.persistence=p,this.auth=g,this.userKey=b;const{config:A,name:M}=this.auth;this.fullUserKey=sn(this.userKey,A.apiKey,M),this.fullPersistenceKey=sn("persistence",A.apiKey,M),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?tn._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,d.Z)(function*(){if(g.persistence===p)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,b="authUser"){return(0,d.Z)(function*(){if(!g.length)return new ir(ue(St),p,b);const A=(yield Promise.all(g.map(function(){var We=(0,d.Z)(function*(dt){if(yield dt._isAvailable())return dt});return function(dt){return We.apply(this,arguments)}}()))).filter(We=>We);let M=A[0]||ue(St);const W=sn(b,p.config.apiKey,p.name);let Ee=null;for(const We of g)try{const dt=yield We._get(W);if(dt){const st=tn._fromJSON(p,dt);We!==M&&(Ee=st),M=We;break}}catch(dt){}const Be=A.filter(We=>We._shouldAllowMigration);return M._shouldAllowMigration&&Be.length?(M=Be[0],Ee&&(yield M._set(W,Ee.toJSON())),yield Promise.all(g.map(function(){var We=(0,d.Z)(function*(dt){if(dt!==M)try{yield dt._remove(W)}catch(st){}});return function(dt){return We.apply(this,arguments)}}())),new ir(M,p,b)):new ir(M,p,b)})()}}function Qu(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Ju(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Ko(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Wa(p))return"Blackberry";if(zs(p))return"Webos";if(_c(p))return"Safari";if((p.includes("chrome/")||za(p))&&!p.includes("edge/"))return"Chrome";if(Zs(p))return"Android";{const b=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function Ko(v=(0,F.z$)()){return/firefox\//i.test(v)}function _c(v=(0,F.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function za(v=(0,F.z$)()){return/crios\//i.test(v)}function Ju(v=(0,F.z$)()){return/iemobile/i.test(v)}function Zs(v=(0,F.z$)()){return/android/i.test(v)}function Wa(v=(0,F.z$)()){return/blackberry/i.test(v)}function zs(v=(0,F.z$)()){return/webos/i.test(v)}function Ri(v=(0,F.z$)()){return/iphone|ipad|ipod/i.test(v)}function Es(v=(0,F.z$)()){return Ri(v)||Zs(v)||zs(v)||Wa(v)||/windows phone/i.test(v)||Ju(v)}function zn(v,p=[]){let g;switch(v){case"Browser":g=Qu((0,F.z$)());break;case"Worker":g=`${Qu((0,F.z$)())}-${v}`;break;default:g=v}const b=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${le.SDK_VERSION}/${b}`}class Hd{constructor(p,g){this.app=p,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new je(this),this.idTokenSubscription=new je(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(p,g){var b=this;return g&&(this._popupRedirectResolver=ue(g)),this._initializationPromise=this.queue((0,d.Z)(function*(){var A;b._deleted||(b.persistenceManager=yield ir.create(b,p),!b._deleted&&((null===(A=b._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)&&(yield b._popupRedirectResolver._initialize(b)),yield b.initializeCurrentUser(g),!b._deleted&&(b._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,d.Z)(function*(){var b;let A=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const M=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,W=null==A?void 0:A._redirectEventId,Ee=yield g.tryRedirectSignIn(p);(!M||M===W)&&(null==Ee?void 0:Ee.user)&&(A=Ee.user)}return A?A._redirectEventId?(De(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===A._redirectEventId?g.directlySetCurrentUser(A):g.reloadAndSetCurrentUserOrClear(A)):g.reloadAndSetCurrentUserOrClear(A):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,d.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(A){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,d.Z)(function*(){try{yield yo(p)}catch(b){if("auth/network-request-failed"!==b.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,d.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,d.Z)(function*(){const b=p?(0,F.m9)(p):null;return b&&De(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,d.Z)(function*(){if(!g._deleted)return p&&De(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,d.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,d.Z)(function*(){yield g.assertedPersistence.setPersistence(ue(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new F.LL("auth","Firebase",p())}onAuthStateChanged(p,g,b){return this.registerStateListener(this.authStateSubscription,p,g,b)}onIdTokenChanged(p,g,b){return this.registerStateListener(this.idTokenSubscription,p,g,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var b=this;return(0,d.Z)(function*(){const A=yield b.getOrInitRedirectPersistenceManager(g);return null===p?A.removeCurrentUser():A.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,d.Z)(function*(){if(!g.redirectPersistenceManager){const b=p&&ue(p)||g._popupRedirectResolver;De(b,g,"argument-error"),g.redirectPersistenceManager=yield ir.create(g,[ue(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,d.Z)(function*(){var b,A;return g._isInitialized&&(yield g.queue((0,d.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===p?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,d.Z)(function*(){if(p===g.currentUser)return g.queue((0,d.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,b,A){if(this._deleted)return()=>{};const M="function"==typeof g?g:g.next.bind(g),W=this._isInitialized?Promise.resolve():this._initializationPromise;return De(W,this,"internal-error"),W.then(()=>M(this.currentUser)),"function"==typeof g?p.addObserver(g,b,A):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,d.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=zn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Wt(v){return(0,F.m9)(v)}class je{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,F.ne)(g=>this.observer=g)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function on(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function bs(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class or{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return ne("not implemented")}_getIdTokenResponse(p){return ne("not implemented")}_linkToIdToken(p,g){return ne("not implemented")}_getReauthenticationResolver(p){return ne("not implemented")}}function mn(v,p){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,d.Z)(function*(v,p){return Ot(v,"POST","/v1/accounts:resetPassword",at(v,p))})).apply(this,arguments)}function Yo(v,p){return mt.apply(this,arguments)}function mt(){return(mt=(0,d.Z)(function*(v,p){return Ot(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function el(v,p){return ws.apply(this,arguments)}function ws(){return(ws=(0,d.Z)(function*(v,p){return Ot(v,"POST","/v1/accounts:update",at(v,p))})).apply(this,arguments)}function li(){return(li=(0,d.Z)(function*(v,p){return oi(v,"POST","/v1/accounts:signInWithPassword",at(v,p))})).apply(this,arguments)}function Wn(v,p){return vo.apply(this,arguments)}function vo(){return(vo=(0,d.Z)(function*(v,p){return Ot(v,"POST","/v1/accounts:sendOobCode",at(v,p))})).apply(this,arguments)}function Gr(v,p){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,d.Z)(function*(v,p){return Wn(v,p)})).apply(this,arguments)}function Jt(v,p){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,d.Z)(function*(v,p){return Wn(v,p)})).apply(this,arguments)}function qd(v,p){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,d.Z)(function*(v,p){return Wn(v,p)})).apply(this,arguments)}function Gd(v,p){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,d.Z)(function*(v,p){return Wn(v,p)})).apply(this,arguments)}function Ks(){return(Ks=(0,d.Z)(function*(v,p){return oi(v,"POST","/v1/accounts:signInWithEmailLink",at(v,p))})).apply(this,arguments)}function Ec(){return(Ec=(0,d.Z)(function*(v,p){return oi(v,"POST","/v1/accounts:signInWithEmailLink",at(v,p))})).apply(this,arguments)}class zr extends or{constructor(p,g,b,A=null){super("password",b),this._email=p,this._password=g,this._tenantId=A}static _fromEmailAndPassword(p,g){return new zr(p,g,"password")}static _fromEmailAndCode(p,g,b=null){return new zr(p,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,d.Z)(function*(){switch(g.signInMethod){case"password":return function(v,p){return li.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(v,p){return Ks.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Te(p,"internal-error")}})()}_linkToIdToken(p,g){var b=this;return(0,d.Z)(function*(){switch(b.signInMethod){case"password":return Yo(p,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function(v,p){return Ec.apply(this,arguments)}(p,{idToken:g,email:b._email,oobCode:b._password});default:Te(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Kt(v,p){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,d.Z)(function*(v,p){return oi(v,"POST","/v1/accounts:signInWithIdp",at(v,p))})).apply(this,arguments)}class Wr extends or{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Wr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Te("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:A}=g,M=(0,te._T)(g,["providerId","signInMethod"]);if(!b||!A)return null;const W=new Wr(b,A);return W.idToken=M.idToken||void 0,W.accessToken=M.accessToken||void 0,W.secret=M.secret,W.nonce=M.nonce,W.pendingToken=M.pendingToken||null,W}_getIdTokenResponse(p){return Kt(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,Kt(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Kt(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,F.xO)(g)}return p}}function xi(v,p){return nl.apply(this,arguments)}function nl(){return(nl=(0,d.Z)(function*(v,p){return Ot(v,"POST","/v1/accounts:sendVerificationCode",at(v,p))})).apply(this,arguments)}function Qo(){return(Qo=(0,d.Z)(function*(v,p){return oi(v,"POST","/v1/accounts:signInWithPhoneNumber",at(v,p))})).apply(this,arguments)}function Zd(){return(Zd=(0,d.Z)(function*(v,p){const g=yield oi(v,"POST","/v1/accounts:signInWithPhoneNumber",at(v,p));if(g.temporaryProof)throw qi(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const cm={USER_NOT_FOUND:"user-not-found"};function zd(){return(zd=(0,d.Z)(function*(v,p){return oi(v,"POST","/v1/accounts:signInWithPhoneNumber",at(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),cm)})).apply(this,arguments)}class Jo extends or{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Jo({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Jo({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function(v,p){return Qo.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function(v,p){return Zd.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(v,p){return zd.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:b,verificationCode:A}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:b,code:A}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:b,phoneNumber:A,temporaryProof:M}=p;return b||g||A||M?new Jo({verificationId:g,verificationCode:b,phoneNumber:A,temporaryProof:M}):null}}class Xo{constructor(p){var g,b,A,M,W,Ee;const Be=(0,F.zd)((0,F.pd)(p)),We=null!==(g=Be.apiKey)&&void 0!==g?g:null,dt=null!==(b=Be.oobCode)&&void 0!==b?b:null,st=function(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Be.mode)&&void 0!==A?A:null);De(We&&dt&&st,"argument-error"),this.apiKey=We,this.operation=st,this.code=dt,this.continueUrl=null!==(M=Be.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(W=Be.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(Ee=Be.tenantId)&&void 0!==Ee?Ee:null}static parseLink(p){const g=function(v){const p=(0,F.zd)((0,F.pd)(v)).link,g=p?(0,F.zd)((0,F.pd)(p)).deep_link_id:null,b=(0,F.zd)((0,F.pd)(v)).deep_link_id;return(b?(0,F.zd)((0,F.pd)(b)).link:null)||b||g||p||v}(p);try{return new Xo(g)}catch(b){return null}}}let rl=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,b){return zr._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const A=Xo.parseLink(b);return De(A,"argument-error"),zr._fromEmailAndCode(g,A.code,A.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class wo{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ja extends wo{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Ys extends Ja{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return De("providerId"in g&&"signInMethod"in g,"argument-error"),Wr._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return De(p.idToken||p.accessToken,"argument-error"),Wr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Ys.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Ys.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:A,pendingToken:M,nonce:W,providerId:Ee}=p;if(!b&&!A&&!g&&!M||!Ee)return null;try{return new Ys(Ee)._credential({idToken:g,accessToken:b,nonce:W,pendingToken:M})}catch(Be){return null}}}let bc=(()=>{class v extends Ja{constructor(){super("facebook.com")}static credential(g){return Wr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(b){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),il=(()=>{class v extends Ja{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return Wr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:A}=g;if(!b&&!A)return null;try{return v.credential(b,A)}catch(M){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),wc=(()=>{class v extends Ja{constructor(){super("github.com")}static credential(g){return Wr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(b){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class ea extends or{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Kt(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,Kt(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Kt(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:A,pendingToken:M}=g;return b&&A&&M&&b===A?new ea(b,M):null}static _create(p,g){return new ea(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Ni=(()=>{class v extends Ja{constructor(){super("twitter.com")}static credential(g,b){return Wr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:A}=g;if(!b||!A)return null;try{return v.credential(b,A)}catch(M){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Ic(v,p){return Io.apply(this,arguments)}function Io(){return(Io=(0,d.Z)(function*(v,p){return oi(v,"POST","/v1/accounts:signUp",at(v,p))})).apply(this,arguments)}class Mi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,b,A=!1){return(0,d.Z)(function*(){const M=yield tn._fromIdTokenResponse(p,b,A),W=Wd(b);return new Mi({user:M,providerId:W,_tokenResponse:b,operationType:g})})()}static _forOperation(p,g,b){return(0,d.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const A=Wd(b);return new Mi({user:p,providerId:A,_tokenResponse:b,operationType:g})})()}}function Wd(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Co(){return(Co=(0,d.Z)(function*(v){var p;const g=Wt(v);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new Mi({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield Ic(g,{returnSecureToken:!0}),A=yield Mi._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class sl extends F.ZR{constructor(p,g,b,A){var M;super(g.code,g.message),this.operationType=b,this.user=A,this.name="FirebaseError",Object.setPrototypeOf(this,sl.prototype),this.appName=p.name,this.code=g.code,this.tenantId=null!==(M=p.tenantId)&&void 0!==M?M:void 0,this.serverResponse=g.customData.serverResponse}static _fromErrorAndOperation(p,g,b,A){return new sl(p,g,b,A)}}function Xa(v,p,g,b){return("reauthenticate"===p?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?sl._fromErrorAndOperation(v,M,p,b):M})}function Kd(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function ta(){return(ta=(0,d.Z)(function*(v,p){const g=(0,F.m9)(v);yield Gi(!0,g,p);const{providerUserInfo:b}=yield Cn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),A=Kd(b||[]);return g.providerData=g.providerData.filter(M=>A.has(M.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function na(v,p){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,d.Z)(function*(v,p,g=!1){const b=yield vn(v,p._linkToIdToken(v.auth,yield v.getIdToken()),g);return Mi._forOperation(v,"link",b)})).apply(this,arguments)}function Gi(v,p,g){return To.apply(this,arguments)}function To(){return(To=(0,d.Z)(function*(v,p,g){yield yo(p);const A=!1===v?"provider-already-linked":"no-such-provider";De(Kd(p.providerData).has(g)===v,p.auth,A)})).apply(this,arguments)}function ra(v,p){return ln.apply(this,arguments)}function ln(){return(ln=(0,d.Z)(function*(v,p,g=!1){const{auth:b}=v,A="reauthenticate";try{const M=yield vn(v,Xa(b,A,p,v),g);De(M.idToken,b,"internal-error");const W=Ye(M.idToken);De(W,b,"internal-error");const{sub:Ee}=W;return De(v.uid===Ee,b,"user-mismatch"),Mi._forOperation(v,A,M)}catch(M){throw"auth/user-not-found"===(null==M?void 0:M.code)&&Te(b,"user-mismatch"),M}})).apply(this,arguments)}function ol(v,p){return ia.apply(this,arguments)}function ia(){return(ia=(0,d.Z)(function*(v,p,g=!1){const b="signIn",A=yield Xa(v,b,p),M=yield Mi._fromIdTokenResponse(v,b,A);return g||(yield v._updateCurrentUser(M.user)),M})).apply(this,arguments)}function al(v,p){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,d.Z)(function*(v,p){return ol(Wt(v),p)})).apply(this,arguments)}function Yd(v,p){return ul.apply(this,arguments)}function ul(){return(ul=(0,d.Z)(function*(v,p){const g=(0,F.m9)(v);return yield Gi(!1,g,p.providerId),na(g,p)})).apply(this,arguments)}function eu(v,p){return wr.apply(this,arguments)}function wr(){return(wr=(0,d.Z)(function*(v,p){return ra((0,F.m9)(v),p)})).apply(this,arguments)}function Gf(v,p){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,d.Z)(function*(v,p){return oi(v,"POST","/v1/accounts:signInWithCustomToken",at(v,p))})).apply(this,arguments)}function Yn(){return(Yn=(0,d.Z)(function*(v,p){const g=Wt(v),b=yield Gf(g,{token:p,returnSecureToken:!0}),A=yield Mi._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class Ao{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?sa._fromServerResponse(p,g):Te(p,"internal-error")}}class sa extends Ao{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new sa(g)}}function tu(v,p,g){var b;De((null===(b=g.url)||void 0===b?void 0:b.length)>0,v,"invalid-continue-uri"),De(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(De(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(De(g.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function oa(){return(oa=(0,d.Z)(function*(v,p,g){const b=(0,F.m9)(v),A={requestType:"PASSWORD_RESET",email:p};g&&tu(b,A,g),yield Jt(b,A)})).apply(this,arguments)}function ut(){return(ut=(0,d.Z)(function*(v,p,g){yield mn((0,F.m9)(v),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Is(){return(Is=(0,d.Z)(function*(v,p){yield el((0,F.m9)(v),{oobCode:p})})).apply(this,arguments)}function aa(v,p){return So.apply(this,arguments)}function So(){return(So=(0,d.Z)(function*(v,p){const g=(0,F.m9)(v),b=yield mn(g,{oobCode:p}),A=b.requestType;switch(De(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":De(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":De(b.mfaInfo,g,"internal-error");default:De(b.email,g,"internal-error")}let M=null;return b.mfaInfo&&(M=Ao._fromServerResponse(Wt(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:M},operation:A}})).apply(this,arguments)}function Cs(){return(Cs=(0,d.Z)(function*(v,p){const{data:g}=yield aa((0,F.m9)(v),p);return g.email})).apply(this,arguments)}function Re(){return(Re=(0,d.Z)(function*(v,p,g){const b=Wt(v),A=yield Ic(b,{returnSecureToken:!0,email:p,password:g}),M=yield Mi._fromIdTokenResponse(b,"signIn",A);return yield b._updateCurrentUser(M.user),M})).apply(this,arguments)}function En(){return(En=(0,d.Z)(function*(v,p,g){const b=(0,F.m9)(v),A={requestType:"EMAIL_SIGNIN",email:p};De(g.handleCodeInApp,b,"argument-error"),g&&tu(b,A,g),yield qd(b,A)})).apply(this,arguments)}function ci(){return(ci=(0,d.Z)(function*(v,p,g){const b=(0,F.m9)(v),A=rl.credentialWithLink(p,g||nt());return De(A._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),al(b,A)})).apply(this,arguments)}function nu(v,p){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,d.Z)(function*(v,p){return Ot(v,"POST","/v1/accounts:createAuthUri",at(v,p))})).apply(this,arguments)}function cl(){return(cl=(0,d.Z)(function*(v,p){const b={identifier:p,continueUri:Zt()?nt():"http://localhost"},{signinMethods:A}=yield nu((0,F.m9)(v),b);return A||[]})).apply(this,arguments)}function zi(){return(zi=(0,d.Z)(function*(v,p){const g=(0,F.m9)(v),A={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&tu(g.auth,A,p);const{email:M}=yield Gr(g.auth,A);M!==v.email&&(yield v.reload())})).apply(this,arguments)}function kr(){return(kr=(0,d.Z)(function*(v,p,g){const b=(0,F.m9)(v),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};g&&tu(b.auth,M,g);const{email:W}=yield Gd(b.auth,M);W!==v.email&&(yield v.reload())})).apply(this,arguments)}function dl(v,p){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,d.Z)(function*(v,p){return Ot(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ru(){return(ru=(0,d.Z)(function*(v,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const b=(0,F.m9)(v),M={idToken:yield b.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},W=yield vn(b,dl(b.auth,M));b.displayName=W.displayName||null,b.photoURL=W.photoUrl||null;const Ee=b.providerData.find(({providerId:Be})=>"password"===Be);Ee&&(Ee.displayName=b.displayName,Ee.photoURL=b.photoURL),yield b._updateTokensIfNecessary(W)})).apply(this,arguments)}function iu(v,p,g){return ca.apply(this,arguments)}function ca(){return(ca=(0,d.Z)(function*(v,p,g){const{auth:b}=v,M={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(M.email=p),g&&(M.password=g);const W=yield vn(v,Yo(b,M));yield v._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class Ro{constructor(p,g,b={}){this.isNewUser=p,this.providerId=g,this.profile=b}}class Ac extends Ro{constructor(p,g,b,A){super(p,g,b),this.username=A}}class Zf extends Ro{constructor(p,g){super(p,"facebook.com",g)}}class th extends Ac{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class xo extends Ro{constructor(p,g){super(p,"google.com",g)}}class nh extends Ac{constructor(p,g,b){super(p,"twitter.com",g,b)}}function fl(v){const{user:p,_tokenResponse:g}=v;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(v){var p,g;if(!v)return null;const{providerId:b}=v,A=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},M=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!b&&(null==v?void 0:v.idToken)){const W=null===(g=null===(p=Ye(v.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(W)return new Ro(M,"anonymous"!==W&&"custom"!==W?W:null)}if(!b)return null;switch(b){case"facebook.com":return new Zf(M,A);case"github.com":return new th(M,A);case"google.com":return new xo(M,A);case"twitter.com":return new nh(M,A,v.screenName||null);case"custom":case"anonymous":return new Ro(M,null);default:return new Ro(M,b,A)}}(g)}class Ds{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new Ds("enroll",p)}static _fromMfaPendingCredential(p){return new Ds("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,b;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Ds._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(b=p.multiFactorSession)||void 0===b?void 0:b.idToken)return Ds._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Sc{constructor(p,g,b){this.session=p,this.hints=g,this.signInResolver=b}static _fromError(p,g){const b=Wt(p),A=(g.serverResponse.mfaInfo||[]).map(W=>Ao._fromServerResponse(b,W));De(g.serverResponse.mfaPendingCredential,b,"internal-error");const M=Ds._fromMfaPendingCredential(g.serverResponse.mfaPendingCredential);return new Sc(M,A,function(){var W=(0,d.Z)(function*(Ee){const Be=yield Ee._process(b,M);delete g.serverResponse.mfaInfo,delete g.serverResponse.mfaPendingCredential;const We=Object.assign(Object.assign({},g.serverResponse),{idToken:Be.idToken,refreshToken:Be.refreshToken});switch(g.operationType){case"signIn":const dt=yield Mi._fromIdTokenResponse(b,g.operationType,We);return yield b._updateCurrentUser(dt.user),dt;case"reauthenticate":return De(g.user,b,"internal-error"),Mi._forOperation(g.user,g.operationType,We);default:Te(b,"internal-error")}});return function(Ee){return W.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,d.Z)(function*(){return g.signInResolver(p)})()}}function ih(v,p){return Ot(v,"POST","/v2/accounts/mfaEnrollment:start",at(v,p))}class da{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>Ao._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new da(p)}getSession(){var p=this;return(0,d.Z)(function*(){return Ds._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var b=this;return(0,d.Z)(function*(){const A=p,M=yield b.getSession(),W=yield vn(b.user,A._process(b.user.auth,M,g));return yield b.user._updateTokensIfNecessary(W),b.user.reload()})()}unenroll(p){var g=this;return(0,d.Z)(function*(){const b="string"==typeof p?p:p.uid,A=yield g.user.getIdToken(),M=yield vn(g.user,function(v,p){return Ot(v,"POST","/v2/accounts/mfaEnrollment:withdraw",at(v,p))}(g.user.auth,{idToken:A,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:W})=>W!==b),yield g.user._updateTokensIfNecessary(M);try{yield g.user.reload()}catch(W){if("auth/user-token-expired"!==W.code)throw W}})()}}const ha=new WeakMap,No="__sak";class Nc{constructor(p,g){this.storage=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(No,"1"),this.storage.removeItem(No),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}}const pl=(()=>{class v extends Nc{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const v=(0,F.z$)();return _c(v)||Ri(v)}()&&function(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Es(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const A=this.storage.getItem(b),M=this.localCache[b];A!==M&&g(b,M,A)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((Ee,Be,We)=>{this.notifyListeners(Ee,We)});const A=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ee=this.storage.getItem(A);if(g.newValue!==Ee)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!b)return}const M=()=>{const Ee=this.storage.getItem(A);!b&&this.localCache[A]===Ee||this.notifyListeners(A,Ee)},W=this.storage.getItem(A);(0,F.w1)()&&10===document.documentMode&&W!==g.newValue&&g.newValue!==g.oldValue?setTimeout(M,10):M()}notifyListeners(g,b){this.localCache[g]=b;const A=this.listeners[g];if(A)for(const M of Array.from(A))M(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var A=()=>super._set,M=this;return(0,d.Z)(function*(){yield A().call(M,g,b),M.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,A=this;return(0,d.Z)(function*(){const M=yield b().call(A,g);return A.localCache[g]=JSON.stringify(M),M})()}_remove(g){var b=()=>super._remove,A=this;return(0,d.Z)(function*(){yield b().call(A,g),delete A.localCache[g]})()}}return v.type="LOCAL",v})(),As=(()=>{class v extends Nc{constructor(){super(window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return v.type="SESSION",v})();let to=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(M=>M.isListeningto(g));if(b)return b;const A=new v(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,d.Z)(function*(){const A=g,{eventId:M,eventType:W,data:Ee}=A.data,Be=b.handlersMap[W];if(!(null==Be?void 0:Be.size))return;A.ports[0].postMessage({status:"ack",eventId:M,eventType:W});const We=Array.from(Be).map(function(){var st=(0,d.Z)(function*(On){return On(A.origin,Ee)});return function(On){return st.apply(this,arguments)}}()),dt=yield function(v){return Promise.all(v.map(function(){var p=(0,d.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return p.apply(this,arguments)}}()))}(We);A.ports[0].postMessage({status:"done",eventId:M,eventType:W,response:dt})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function ou(v="",p=10){let g="";for(let b=0;b<p;b++)g+=Math.floor(10*Math.random());return v+g}class mm{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,b=50){var A=this;return(0,d.Z)(function*(){const M="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let W,Ee;return new Promise((Be,We)=>{const dt=ou("",20);M.port1.start();const st=setTimeout(()=>{We(new Error("unsupported_event"))},b);Ee={messageChannel:M,onMessage(On){const mi=On;if(mi.data.eventId===dt)switch(mi.data.status){case"ack":clearTimeout(st),W=setTimeout(()=>{We(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Be(mi.data.response);break;default:clearTimeout(st),clearTimeout(W),We(new Error("invalid_response"))}}},A.handlers.add(Ee),M.port1.addEventListener("message",Ee.onMessage),A.target.postMessage({eventType:p,eventId:dt,data:g},[M.port2])}).finally(()=>{Ee&&A.removeMessageHandler(Ee)})})()}}function dn(){return window}function gl(){return void 0!==dn().WorkerGlobalScope&&"function"==typeof dn().importScripts}function ml(){return(ml=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const oh="firebaseLocalStorageDb",du="firebaseLocalStorage",fa="fbase_key";class _l{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function pa(v,p){return v.transaction([du],p?"readwrite":"readonly").objectStore(du)}function Je(){const v=indexedDB.open(oh,1);return new Promise((p,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const b=v.result;try{b.createObjectStore(du,{keyPath:fa})}catch(A){g(A)}}),v.addEventListener("success",(0,d.Z)(function*(){const b=v.result;b.objectStoreNames.contains(du)?p(b):(b.close(),yield function(){const v=indexedDB.deleteDatabase(oh);return new _l(v).toPromise()}(),p(yield Je()))}))})}function Yi(v,p,g){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,d.Z)(function*(v,p,g){const b=pa(v,!0).put({[fa]:p,value:g});return new _l(b).toPromise()})).apply(this,arguments)}function Mo(){return(Mo=(0,d.Z)(function*(v,p){const g=pa(v,!1).get(p),b=yield new _l(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function no(v,p){const g=pa(v,!0).delete(p);return new _l(g).toPromise()}const ga=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,d.Z)(function*(){return g.db||(g.db=yield Je()),g.db})()}_withRetries(g){var b=this;return(0,d.Z)(function*(){let A=0;for(;;)try{const M=yield b._openDb();return yield g(M)}catch(M){if(A++>3)throw M;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,d.Z)(function*(){return gl()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,d.Z)(function*(){g.receiver=to._getInstance(gl()?self:null),g.receiver._subscribe("keyChanged",function(){var b=(0,d.Z)(function*(A,M){return{keyProcessed:(yield g._poll()).includes(M.key)}});return function(A,M){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,d.Z)(function*(A,M){return["keyChanged"]});return function(A,M){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,d.Z)(function*(){var b,A;if(g.activeServiceWorker=yield function(){return ml.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new mm(g.activeServiceWorker);const M=yield g.sender._send("ping",{},800);!M||(null===(b=M[0])||void 0===b?void 0:b.fulfilled)&&(null===(A=M[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,d.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Je();return yield Yi(g,No,"1"),yield no(g,No),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,d.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var A=this;return(0,d.Z)(function*(){return A._withPendingWrite((0,d.Z)(function*(){return yield A._withRetries(M=>Yi(M,g,b)),A.localCache[g]=b,A.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,d.Z)(function*(){const A=yield b._withRetries(M=>function(v,p){return Mo.apply(this,arguments)}(M,g));return b.localCache[g]=A,A})()}_remove(g){var b=this;return(0,d.Z)(function*(){return b._withPendingWrite((0,d.Z)(function*(){return yield b._withRetries(A=>no(A,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,d.Z)(function*(){const b=yield g._withRetries(W=>{const Ee=pa(W,!1).getAll();return new _l(Ee).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const A=[],M=new Set;for(const{fbase_key:W,value:Ee}of b)M.add(W),JSON.stringify(g.localCache[W])!==JSON.stringify(Ee)&&(g.notifyListeners(W,Ee),A.push(W));for(const W of Object.keys(g.localCache))g.localCache[W]&&!M.has(W)&&(g.notifyListeners(W,null),A.push(W));return A})()}notifyListeners(g,b){this.localCache[g]=b;const A=this.listeners[g];if(A)for(const M of Array.from(A))M(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Yr(v,p){return Ot(v,"POST","/v2/accounts/mfaSignIn:start",at(v,p))}function vl(){return(vl=(0,d.Z)(function*(v){return(yield Ot(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ya(v){return new Promise((p,g)=>{const b=document.createElement("script");b.setAttribute("src",v),b.onload=p,b.onerror=A=>{const M=Le("internal-error");M.customData=A,g(M)},b.type="text/javascript",b.charset="UTF-8",function(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(b)})}function El(v){return`__${v}${Math.floor(1e6*Math.random())}`}const di=1e12;class bl{constructor(p){this.auth=p,this.counter=di,this._widgets=new Map}render(p,g){const b=this.counter;return this._widgets.set(b,new wl(p,this.auth.name,g||{})),this.counter++,b}reset(p){var g;const b=p||di;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(p){var g;return(null===(g=this._widgets.get(p||di))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,d.Z)(function*(){var b;return null===(b=g._widgets.get(p||di))||void 0===b||b.execute(),""})()}}class wl{constructor(p,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof p?document.getElementById(p):p;De(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(v){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<50;b++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}();const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Rs=El("rcb"),ro=new Ln(3e4,6e4);class xs{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!dn().grecaptcha}load(p,g=""){return De((v=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(dn().grecaptcha):new Promise((b,A)=>{const M=dn().setTimeout(()=>{A(Le(p,"network-request-failed"))},ro.get());dn()[Rs]=()=>{dn().clearTimeout(M),delete dn()[Rs];const Ee=dn().grecaptcha;if(!Ee)return void A(Le(p,"internal-error"));const Be=Ee.render;Ee.render=(We,dt)=>{const st=Be(We,dt);return this.counter++,st},this.hostLanguage=g,b(Ee)},ya(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:Rs,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(M),A(Le(p,"internal-error"))})});var v}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!dn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _a{load(p){return(0,d.Z)(function*(){return new bl(p)})()}clearedOneInstance(){}}const Qf="recaptcha",_m={theme:"light",type:"image"};class kc{constructor(p,g=Object.assign({},_m),b){this.parameters=g,this.type=Qf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Wt(b),this.isInvisible="invisible"===this.parameters.size,De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof p?document.getElementById(p):p;De(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _a:new xs,this.validateStartingState()}verify(){var p=this;return(0,d.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(g)||new Promise(M=>{const W=Ee=>{!Ee||(p.tokenChangeListeners.delete(W),M(Ee))};p.tokenChangeListeners.add(W),p.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){De(!this.parameters.sitekey,this.auth,"argument-error"),De(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof p)p(g);else if("string"==typeof p){const b=dn()[p];"function"==typeof b&&b(g)}}}assertNotDestroyed(){De(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.Z)(function*(){De(Zt()&&!gl(),p.auth,"internal-error"),yield function(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function(v){return vl.apply(this,arguments)}(p.auth);De(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return De(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Fc{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Jo._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function va(){return(va=(0,d.Z)(function*(v,p,g){const b=Wt(v),A=yield hu(b,p,(0,F.m9)(g));return new Fc(A,M=>al(b,M))})).apply(this,arguments)}function lh(){return(lh=(0,d.Z)(function*(v,p,g){const b=(0,F.m9)(v);yield Gi(!1,b,"phone");const A=yield hu(b.auth,p,(0,F.m9)(g));return new Fc(A,M=>Yd(b,M))})).apply(this,arguments)}function Oi(){return(Oi=(0,d.Z)(function*(v,p,g){const b=(0,F.m9)(v),A=yield hu(b.auth,p,(0,F.m9)(g));return new Fc(A,M=>eu(b,M))})).apply(this,arguments)}function hu(v,p,g){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,d.Z)(function*(v,p,g){var b;const A=yield g.verify();try{let M;if(De("string"==typeof A,v,"argument-error"),De(g.type===Qf,v,"argument-error"),M="string"==typeof p?{phoneNumber:p}:p,"session"in M){const W=M.session;if("phoneNumber"in M)return De("enroll"===W.type,v,"internal-error"),(yield ih(v,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{De("signin"===W.type,v,"internal-error");const Ee=(null===(b=M.multiFactorHint)||void 0===b?void 0:b.uid)||M.multiFactorUid;return De(Ee,v,"missing-multi-factor-info"),(yield Yr(v,{mfaPendingCredential:W.credential,mfaEnrollmentId:Ee,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield xi(v,{phoneNumber:M.phoneNumber,recaptchaToken:A});return W}}finally{g._reset()}})).apply(this,arguments)}function Vc(){return(Vc=(0,d.Z)(function*(v,p){yield na((0,F.m9)(v),p)})).apply(this,arguments)}let Ea=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=Wt(g)}verifyPhoneNumber(g,b){return hu(this.auth,g,(0,F.m9)(b))}static credential(g,b){return Jo._fromVerification(g,b)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:A}=g;return b&&A?Jo._fromTokenResponse(b,A):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function wn(v,p){return p?ue(p):(De(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Ji extends or{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Kt(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Kt(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Kt(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Jf(v){return ol(v.auth,new Ji(v),v.bypassAuthState)}function $n(v){const{auth:p,user:g}=v;return De(g,p,"internal-error"),ra(g,new Ji(v),v.bypassAuthState)}function Il(v){return ko.apply(this,arguments)}function ko(){return(ko=(0,d.Z)(function*(v){const{auth:p,user:g}=v;return De(g,p,"internal-error"),na(g,new Ji(v),v.bypassAuthState)})).apply(this,arguments)}class ba{constructor(p,g,b,A,M=!1){this.auth=p,this.resolver=b,this.user=A,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,d.Z)(function*(b,A){p.pendingPromise={resolve:b,reject:A};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(M){p.reject(M)}});return function(b,A){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,d.Z)(function*(){const{urlResponse:b,sessionId:A,postBody:M,tenantId:W,error:Ee,type:Be}=p;if(Ee)return void g.reject(Ee);const We={auth:g.auth,requestUri:b,sessionId:A,tenantId:W||void 0,postBody:M||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Be)(We))}catch(dt){g.reject(dt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Jf;case"linkViaPopup":case"linkViaRedirect":return Il;case"reauthViaPopup":case"reauthViaRedirect":return $n;default:Te(this.auth,"internal-error")}}resolve(p){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ch=new Ln(2e3,1e4);function Qr(){return(Qr=(0,d.Z)(function*(v,p,g){const b=Wt(v);vt(v,p,wo);const A=wn(b,g);return new Ms(b,"signInViaPopup",p,A).executeNotNull()})).apply(this,arguments)}function Ns(){return(Ns=(0,d.Z)(function*(v,p,g){const b=(0,F.m9)(v);vt(b.auth,p,wo);const A=wn(b.auth,g);return new Ms(b.auth,"reauthViaPopup",p,A,b).executeNotNull()})).apply(this,arguments)}function Cl(){return(Cl=(0,d.Z)(function*(v,p,g){const b=(0,F.m9)(v);vt(b.auth,p,wo);const A=wn(b.auth,g);return new Ms(b.auth,"linkViaPopup",p,A,b).executeNotNull()})).apply(this,arguments)}let Ms=(()=>{class v extends ba{constructor(g,b,A,M,W){super(g,b,M,W),this.provider=A,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,d.Z)(function*(){const b=yield g.execute();return De(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,d.Z)(function*(){oe(1===g.filter.length,"Popup operations only handle one event");const b=ou();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(Le(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Le(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,A;this.pollId=(null===(A=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Le(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,ch.get())};g()}}return v.currentPopupAction=null,v})();const dh=new Map;class Xf extends ba{constructor(p,g,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,d.Z)(function*(){let b=dh.get(g.auth._key());if(!b){try{const M=(yield function(v,p){return I.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;b=()=>Promise.resolve(M)}catch(A){b=()=>Promise.reject(A)}dh.set(g.auth._key(),b)}return b()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,b=this;return(0,d.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(b,p);if("unknown"!==p.type){if(p.eventId){const A=yield b.auth._redirectUserForId(p.eventId);if(A)return b.user=A,g().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function I(){return(I=(0,d.Z)(function*(v,p){const g=pe(p),b="true"===(yield Q(v)._get(g));return yield Q(v)._remove(g),b})).apply(this,arguments)}function T(v,p){return R.apply(this,arguments)}function R(){return(R=(0,d.Z)(function*(v,p){return Q(v)._set(pe(p),"true")})).apply(this,arguments)}function Q(v){return ue(v._redirectPersistence)}function pe(v){return sn("pendingRedirect",v.config.apiKey,v.name)}function Ge(){return(Ge=(0,d.Z)(function*(v,p,g){const b=Wt(v);vt(v,p,wo);const A=wn(b,g);return yield T(A,b),A._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function Jn(){return(Jn=(0,d.Z)(function*(v,p,g){const b=(0,F.m9)(v);vt(b.auth,p,wo);const A=wn(b.auth,g);yield T(A,b.auth);const M=yield Dt(b);return A._openRedirect(b.auth,p,"reauthViaRedirect",M)})).apply(this,arguments)}function es(){return(es=(0,d.Z)(function*(v,p,g){const b=(0,F.m9)(v);vt(b.auth,p,wo);const A=wn(b.auth,g);yield Gi(!1,b,p.providerId),yield T(A,b.auth);const M=yield Dt(b);return A._openRedirect(b.auth,p,"linkViaRedirect",M)})).apply(this,arguments)}function fi(){return(fi=(0,d.Z)(function*(v,p){return yield Wt(v)._initializationPromise,ts(v,p,!1)})).apply(this,arguments)}function ts(v,p){return Os.apply(this,arguments)}function Os(){return(Os=(0,d.Z)(function*(v,p,g=!1){const b=Wt(v),A=wn(b,p),W=yield new Xf(b,A,g).execute();return W&&!g&&(delete W.user._redirectEventId,yield b._persistUserIfCurrent(W.user),yield b._setRedirectUser(null,p)),W})).apply(this,arguments)}function Dt(v){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,d.Z)(function*(v){const p=ou(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class jc{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(g=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pu(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var b;if(p.error&&!pu(p)){const A=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(Le(this.auth,A))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const b=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wa(p))}saveEventToCache(p){this.cachedEventUids.add(wa(p)),this.lastProcessedEventTime=Date.now()}}function wa(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function pu({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Bn(v){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,d.Z)(function*(v,p={}){return Ot(v,"GET","/v1/projects",p)})).apply(this,arguments)}const mv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ia=/^https?/;function Em(){return(Em=(0,d.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield Bn(v);for(const g of p)try{if(cr(g))return}catch(b){}Te(v,"unauthorized-domain")})).apply(this,arguments)}function cr(v){const p=nt(),{protocol:g,hostname:b}=new URL(p);if(v.startsWith("chrome-extension://")){const W=new URL(v);return""===W.hostname&&""===b?"chrome-extension:"===g&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&W.hostname===b}if(!Ia.test(g))return!1;if(mv.test(v))return b===v;const A=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(b)}const Ps=new Ln(3e4,6e4);function yv(){const v=dn().___jsl;if(null==v?void 0:v.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let ki=null;function $c(v){return ki=ki||function(v){return new Promise((p,g)=>{var b,A,M;function W(){yv(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{yv(),g(Le(v,"network-request-failed"))},timeout:Ps.get()})}if(null===(A=null===(b=dn().gapi)||void 0===b?void 0:b.iframes)||void 0===A?void 0:A.Iframe)p(gapi.iframes.getContext());else{if(!(null===(M=dn().gapi)||void 0===M?void 0:M.load)){const Ee=El("iframefcb");return dn()[Ee]=()=>{gapi.load?W():g(Le(v,"network-request-failed"))},ya(`https://apis.google.com/js/api.js?onload=${Ee}`)}W()}}).catch(p=>{throw ki=null,p})}(v),ki}const Ca=new Ln(5e3,15e3),hh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Hc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qc(v){const p=v.config;De(p.authDomain,v,"auth-domain-config-required");const g=p.emulator?Qt(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:v.name,v:le.SDK_VERSION},A=Hc.get(v.config.apiHost);A&&(b.eid=A);const M=v._getFrameworks();return M.length&&(b.fw=M.join(",")),`${g}?${(0,F.xO)(b).slice(1)}`}function xt(){return(xt=(0,d.Z)(function*(v){const p=yield $c(v),g=dn().gapi;return De(g,v,"internal-error"),p.open({where:document.body,url:qc(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hh,dontclear:!0},b=>new Promise(function(){var A=(0,d.Z)(function*(M,W){yield b.restyle({setHideOnLeave:!1});const Ee=Le(v,"network-request-failed"),Be=dn().setTimeout(()=>{W(Ee)},Ca.get());function We(){dn().clearTimeout(Be),M(b)}b.ping(We).then(We,()=>{W(Ee)})});return function(M,W){return A.apply(this,arguments)}}()))})).apply(this,arguments)}const so={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class tp{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Fo(v,p,g,b,A,M){De(v.config.authDomain,v,"auth-domain-config-required"),De(v.config.apiKey,v,"invalid-api-key");const W={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:b,v:le.SDK_VERSION,eventId:A};if(p instanceof wo){p.setDefaultLanguage(v.languageCode),W.providerId=p.providerId||"",(0,F.xb)(p.getCustomParameters())||(W.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Be,We]of Object.entries(M||{}))W[Be]=We}if(p instanceof Ja){const Be=p.getScopes().filter(We=>""!==We);Be.length>0&&(W.scopes=Be.join(","))}v.tenantId&&(W.tid=v.tenantId);const Ee=W;for(const Be of Object.keys(Ee))void 0===Ee[Be]&&delete Ee[Be];return`${function({config:v}){return v.emulator?Qt(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,F.xO)(Ee).slice(1)}`}const oo="webStorageSupport";class Al extends class{constructor(p){this.factorId=p}_process(p,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,b);case"signin":return this._finalizeSignIn(p,g.credential);default:return ne("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Al(p)}_finalizeEnroll(p,g,b){return function(v,p){return Ot(v,"POST","/v2/accounts/mfaEnrollment:finalize",at(v,p))}(p,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function(v,p){return Ot(v,"POST","/v2/accounts/mfaSignIn:finalize",at(v,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ip=(()=>{class v{constructor(){}static assertion(g){return Al._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var v,sp="@firebase/auth";class Cm{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,d.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(b=>{var A;p((null===(A=b)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function _u(){return window}function Fi(){return(Fi=(0,d.Z)(function*(v,p,g){var b;const{BuildInfo:A}=_u();oe(p.sessionId,"AuthEvent did not contain a session ID");const M=yield Sm(p.sessionId),W={};return Ri()?W.ibi=A.packageName:Zs()?W.apn=A.packageName:Te(v,"operation-not-supported-in-this-environment"),A.displayName&&(W.appDisplayName=A.displayName),W.sessionId=M,Fo(v,g,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,W)})).apply(this,arguments)}function Ta(){return(Ta=(0,d.Z)(function*(v){const{BuildInfo:p}=_u(),g={};Ri()?g.iosBundleId=p.packageName:Zs()?g.androidPackageName=p.packageName:Te(v,"operation-not-supported-in-this-environment"),yield Bn(v,g)})).apply(this,arguments)}function ap(){return(ap=(0,d.Z)(function*(v,p,g){const{cordova:b}=_u();let A=()=>{};try{yield new Promise((M,W)=>{let Ee=null;function Be(){var st;M();const On=null===(st=b.plugins.browsertab)||void 0===st?void 0:st.close;"function"==typeof On&&On(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function We(){Ee||(Ee=window.setTimeout(()=>{W(Le(v,"redirect-cancelled-by-user"))},2e3))}function dt(){"visible"===(null==document?void 0:document.visibilityState)&&We()}p.addPassiveListener(Be),document.addEventListener("resume",We,!1),Zs()&&document.addEventListener("visibilitychange",dt,!1),A=()=>{p.removePassiveListener(Be),document.removeEventListener("resume",We,!1),document.removeEventListener("visibilitychange",dt,!1),Ee&&window.clearTimeout(Ee)}})}finally{A()}})).apply(this,arguments)}function Sm(v){return mh.apply(this,arguments)}function mh(){return(mh=(0,d.Z)(function*(v){const p=yh(v),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function yh(v){if(oe(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const p=new ArrayBuffer(v.length),g=new Uint8Array(p);for(let b=0;b<v.length;b++)g[b]=v.charCodeAt(b);return g}v="Browser",(0,le._registerComponent)(new we.wA("auth",(p,{options:g})=>{const b=p.getProvider("app").getImmediate(),{apiKey:A,authDomain:M}=b.options;return(W=>{De(A&&!A.includes(":"),"invalid-api-key",{appName:W.name}),De(!(null==M?void 0:M.includes(":")),"argument-error",{appName:W.name});const Ee={apiKey:A,authDomain:M,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zn(v)},Be=new Hd(W,Ee);return function(v,p){const g=(null==p?void 0:p.persistence)||[],b=(Array.isArray(g)?g:[g]).map(ue);(null==p?void 0:p.errorMap)&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(b,null==p?void 0:p.popupRedirectResolver)}(Be,g),Be})(b)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,b)=>{p.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new we.wA("auth-internal",p=>{const g=Wt(p.getProvider("auth").getImmediate());return new Cm(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(sp,"0.18.3",void 0),(0,le.registerVersion)(sp,"0.18.3","esm2017");class up extends jc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,d.Z)(function*(){yield p.initPromise})()}}function _h(v){return vu.apply(this,arguments)}function vu(){return(vu=(0,d.Z)(function*(v){const p=yield Eu()._get(vh(v));return p&&(yield Eu()._remove(vh(v))),p})).apply(this,arguments)}function ks(){const v=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*p.length);v.push(p.charAt(b))}return v.join("")}function Eu(){return ue(pl)}function vh(v){return sn("authEvent",v.config.apiKey,v.name)}function bu(v){if(!(null==v?void 0:v.includes("?")))return{};const[p,...g]=v.split("?");return(0,F.zd)(g.join("?"))}function bh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Le("no-auth-event")}}function Yc(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function km(v=(0,F.z$)()){return!("file:"!==Yc()&&"ionic:"!==Yc()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ih(){try{const v=self.localStorage,p=ou();if(v)return v.setItem(p,"1"),v.removeItem(p),!function(v=(0,F.z$)()){return(0,F.w1)()&&11===(null==document?void 0:document.documentMode)||function(v=(0,F.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,F.hl)()}catch(v){return dp()&&(0,F.hl)()}return!1}function dp(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function yn(){return("http:"===Yc()||"https:"===Yc()||(0,F.ru)()||km())&&!((0,F.b$)()||(0,F.UG)())&&Ih()&&!dp()}function Lm(){return km()&&"undefined"!=typeof document}function ns(){return(ns=(0,d.Z)(function*(){return!!Lm()&&new Promise(v=>{const p=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),v(!0)})})})).apply(this,arguments)}const gi={LOCAL:"local",NONE:"none",SESSION:"session"},Fs=De,Vm="persistence";function fp(v){return pp.apply(this,arguments)}function pp(){return(pp=(0,d.Z)(function*(v){yield v._initializationPromise;const p=Jc(),g=sn(Vm,v.config.apiKey,v.name);(null==p?void 0:p.sessionStorage)&&p.sessionStorage.setItem(g,v._getPersistence())})).apply(this,arguments)}function Jc(){return"undefined"!=typeof window?window:null}const xl=De;class Tn{constructor(){this.browserResolver=ue(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=As,this._completeRedirectFn=ts}_openPopup(p,g,b,A){var M=this;return(0,d.Z)(function*(){var W;oe(null===(W=M.eventManagers[p._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const Ee=Fo(p,g,b,nt(),A);return function(v,p,g,b=500,A=600){const M=Math.max((window.screen.availHeight-A)/2,0).toString(),W=Math.max((window.screen.availWidth-b)/2,0).toString();let Ee="";const Be=Object.assign(Object.assign({},so),{width:b.toString(),height:A.toString(),top:M,left:W}),We=(0,F.z$)().toLowerCase();g&&(Ee=za(We)?"_blank":g),Ko(We)&&(p=p||"http://localhost",Be.scrollbars="yes");const dt=Object.entries(Be).reduce((On,[mi,er])=>`${On}${mi}=${er},`,"");if(function(v=(0,F.z$)()){var p;return Ri(v)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(We)&&"_self"!==Ee)return function(v,p){const g=document.createElement("a");g.href=v,g.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(p||"",Ee),new tp(null);const st=window.open(p||"",Ee,dt);De(st,v,"popup-blocked");try{st.focus()}catch(On){}return new tp(st)}(p,Ee,ou())})()}_openRedirect(p,g,b,A){var M=this;return(0,d.Z)(function*(){return yield M._originValidation(p),v=Fo(p,g,b,nt(),A),dn().location.href=v,new Promise(()=>{});var v})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:A,promise:M}=this.eventManagers[g];return A?Promise.resolve(A):(oe(M,"If manager is not set, promise should be"),M)}const b=this.initAndGetManager(p);return this.eventManagers[g]={promise:b},b}initAndGetManager(p){var g=this;return(0,d.Z)(function*(){const b=yield function(v){return xt.apply(this,arguments)}(p),A=new jc(p);return b.register("authEvent",M=>(De(null==M?void 0:M.authEvent,p,"invalid-auth-event"),{status:A.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:A},g.iframes[p._key()]=b,A})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(oo,{type:oo},A=>{var M;const W=null===(M=null==A?void 0:A[0])||void 0===M?void 0:M[oo];void 0!==W&&g(!!W),Te(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(v){return Em.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Es()||_c()||Ri()}}),this.cordovaResolver=ue(class{constructor(){this._redirectPersistence=As,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ts}_initialize(p){var g=this;return(0,d.Z)(function*(){const b=p._key();let A=g.eventManagers.get(b);return A||(A=new up(p),g.eventManagers.set(b,A),g.attachCallbackListeners(p,A)),A})()}_openPopup(p){Te(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,b,A){var M=this;return(0,d.Z)(function*(){!function(v){var p,g,b,A,M,W,Ee,Be,We,dt;const st=_u();De("function"==typeof(null===(p=null==st?void 0:st.universalLinks)||void 0===p?void 0:p.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),De(void 0!==(null===(g=null==st?void 0:st.BuildInfo)||void 0===g?void 0:g.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),De("function"==typeof(null===(M=null===(A=null===(b=null==st?void 0:st.cordova)||void 0===b?void 0:b.plugins)||void 0===A?void 0:A.browsertab)||void 0===M?void 0:M.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(Be=null===(Ee=null===(W=null==st?void 0:st.cordova)||void 0===W?void 0:W.plugins)||void 0===Ee?void 0:Ee.browsertab)||void 0===Be?void 0:Be.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(dt=null===(We=null==st?void 0:st.cordova)||void 0===We?void 0:We.InAppBrowser)||void 0===dt?void 0:dt.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const W=yield M._initialize(p);yield W.initialized(),W.resetRedirect(),dh.clear(),yield M._originValidation(p);const Ee=function(v,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:ks(),postBody:null,tenantId:v.tenantId,error:Le(v,"no-auth-event")}}(p,b,A);yield function(v,p){return Eu()._set(vh(v),p)}(p,Ee);const Be=yield function(v,p,g){return Fi.apply(this,arguments)}(p,Ee,g),We=yield function(v){const{cordova:p}=_u();return new Promise(g=>{p.plugins.browsertab.isAvailable(b=>{let A=null;b?p.plugins.browsertab.openUrl(v):A=p.InAppBrowser.open(v,function(v=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),g(A)})})}(Be);return function(v,p,g){return ap.apply(this,arguments)}(p,W,We)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(v){return Ta.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:b,handleOpenURL:A,BuildInfo:M}=_u(),W=setTimeout((0,d.Z)(function*(){yield _h(p),g.onEvent(bh())}),500),Ee=function(){var dt=(0,d.Z)(function*(st){clearTimeout(W);const On=yield _h(p);let mi=null;On&&(null==st?void 0:st.url)&&(mi=function(v,p){var g,b;const A=function(v){const p=bu(v),g=p.link?decodeURIComponent(p.link):void 0,b=bu(g).link,A=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return bu(A).link||A||b||g||v}(p);if(A.includes("/__/auth/callback")){const M=bu(A),W=M.firebaseError?function(v){try{return JSON.parse(v)}catch(p){return null}}(decodeURIComponent(M.firebaseError)):null,Ee=null===(b=null===(g=null==W?void 0:W.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Be=Ee?Le(Ee):null;return Be?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Be,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:A,postBody:null}}return null}(On,st.url)),g.onEvent(mi||bh())});return function(On){return dt.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,Ee);const Be=A,We=`${M.packageName.toLowerCase()}://`;_u().handleOpenURL=function(){var dt=(0,d.Z)(function*(st){if(st.toLowerCase().startsWith(We)&&Ee({url:st}),"function"==typeof Be)try{Be(st)}catch(On){console.error(On)}});return function(st){return dt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=As,this._completeRedirectFn=ts}_initialize(p){var g=this;return(0,d.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,b,A){var M=this;return(0,d.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(p,g,b,A)})()}_openRedirect(p,g,b,A){var M=this;return(0,d.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(p,g,b,A)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Lm()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xl(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,d.Z)(function*(){if(p.underlyingResolver)return;const g=yield function(){return ns.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Th(v){return v.unwrap()}function Dh(v){return wu(v)}function wu(v){const{_tokenResponse:p}=v instanceof F.ZR?v.customData:v;if(!p)return null;if(!(v instanceof F.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Ea.credentialFromResult(v);const g=p.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=il;break;case"facebook.com":b=bc;break;case"github.com":b=wc;break;case"twitter.com":b=Ni;break;default:const{oauthIdToken:A,oauthAccessToken:M,oauthTokenSecret:W,pendingToken:Ee,nonce:Be}=p;return M||W||A||Ee?Ee?g.startsWith("saml.")?ea._create(g,Ee):Wr._fromParams({providerId:g,signInMethod:g,pendingToken:Ee,idToken:A,accessToken:M}):new Ys(g).credential({idToken:A,accessToken:M,rawNonce:Be}):null}return v instanceof F.ZR?b.credentialFromError(v):b.credentialFromResult(v)}function Tr(v,p){return p.catch(g=>{throw g instanceof F.ZR&&function(v,p){var g;const b=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new Bm(v,function(v,p){var g;const b=(0,F.m9)(v),A=p;return De(p.operationType,b,"argument-error"),De(null===(g=A.serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),Sc._fromError(b,A)}(v,p));else if(b){const A=wu(p),M=p;A&&(M.credential=A,M.tenantId=b.tenantId||void 0,M.email=b.email||void 0,M.phoneNumber=b.phoneNumber||void 0)}}(v,g),g}).then(g=>{const A=g.user;return{operationType:g.operationType,credential:Dh(g),additionalUserInfo:fl(g),user:Lo.getOrCreate(A)}})}function Nl(v,p){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,d.Z)(function*(v,p){const g=yield p;return{verificationId:g.verificationId,confirm:b=>Tr(v,g.confirm(b))}})).apply(this,arguments)}class Bm{constructor(p,g){this.resolver=g,this.auth=function(v){return v.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Tr(Th(this.auth),this.resolver.resolveSignIn(p))}}class Lo{constructor(p){this._delegate=p,this.multiFactor=function(v){const p=(0,F.m9)(v);return ha.has(p)||ha.set(p,da._fromUser(p)),ha.get(p)}(p)}static getOrCreate(p){return Lo.USER_MAP.has(p)||Lo.USER_MAP.set(p,new Lo(p)),Lo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,d.Z)(function*(){return Tr(g.auth,Yd(g._delegate,p))})()}linkWithPhoneNumber(p,g){var b=this;return(0,d.Z)(function*(){return Nl(b.auth,function(v,p,g){return lh.apply(this,arguments)}(b._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,d.Z)(function*(){return Tr(g.auth,function(v,p,g){return Cl.apply(this,arguments)}(g._delegate,p,Tn))})()}linkWithRedirect(p){var g=this;return(0,d.Z)(function*(){return yield fp(Wt(g.auth)),function(v,p,g){return function(v,p,g){return es.apply(this,arguments)}(v,p,g)}(g._delegate,p,Tn)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,d.Z)(function*(){return Tr(g.auth,eu(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Nl(this.auth,function(v,p,g){return Oi.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Tr(this.auth,function(v,p,g){return Ns.apply(this,arguments)}(this._delegate,p,Tn))}reauthenticateWithRedirect(p){var g=this;return(0,d.Z)(function*(){return yield fp(Wt(g.auth)),function(v,p,g){return function(v,p,g){return Jn.apply(this,arguments)}(v,p,g)}(g._delegate,p,Tn)})()}sendEmailVerification(p){return function(v,p){return zi.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,d.Z)(function*(){return yield function(v,p){return ta.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function(v,p){return iu((0,F.m9)(v),p,null)}(this._delegate,p)}updatePassword(p){return function(v,p){return iu((0,F.m9)(v),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function(v,p){return Vc.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function(v,p){return ru.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function(v,p,g){return kr.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Lo.USER_MAP=new WeakMap;const Ol=De;let jm=(()=>{class v{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=g.options;Ol(A,"invalid-api-key",{appName:g.name});let M=[St];if("undefined"!=typeof window){M=function(v,p){const g=Jc();if(!(null==g?void 0:g.sessionStorage))return[];const b=sn(Vm,v,p);switch(g.sessionStorage.getItem(b)){case gi.NONE:return[St];case gi.LOCAL:return[ga,As];case gi.SESSION:return[As];default:return[]}}(A,g.name);for(const Ee of[ga,pl,As])M.includes(Ee)||M.push(Ee)}Ol(A,"invalid-api-key",{appName:g.name});const W="undefined"!=typeof window?Tn:void 0;this._delegate=b.initialize({options:{persistence:M,popupRedirectResolver:W}}),this._delegate._updateErrorMap(Ie),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Lo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function(v,p,g){const b=Wt(v);De(b._canInitEmulator,b,"emulator-config-failed"),De(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const A=!!(null==g?void 0:g.disableWarnings),M=on(p),{host:W,port:Ee}=function(v){const p=on(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(b);if(A){const M=A[1];return{host:M,port:bs(b.substr(M.length+1))}}{const[M,W]=b.split(":");return{host:M,port:bs(W)}}}(p);b.config.emulator={url:`${M}//${W}${null===Ee?"":`:${Ee}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:W,port:Ee,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function(){function v(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,g,b)}applyActionCode(g){return function(v,p){return Is.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return aa(this._delegate,g)}confirmPasswordReset(g,b){return function(v,p,g){return ut.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var A=this;return(0,d.Z)(function*(){return Tr(A._delegate,function(v,p,g){return Re.apply(this,arguments)}(A._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(v,p){return cl.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(v,p){const g=Xo.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,d.Z)(function*(){Ol(yn(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function(v,p){return fi.apply(this,arguments)}(g._delegate,Tn);return b?Tr(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(v,p){Wt(v)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,b,A){const{next:M,error:W,complete:Ee}=Pl(g,b,A);return this._delegate.onAuthStateChanged(M,W,Ee)}onIdTokenChanged(g,b,A){const{next:M,error:W,complete:Ee}=Pl(g,b,A);return this._delegate.onIdTokenChanged(M,W,Ee)}sendSignInLinkToEmail(g,b){return function(v,p,g){return En.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function(v,p,g){return oa.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,d.Z)(function*(){let A;switch(function(v,p){Fs(Object.values(gi).includes(p),v,"invalid-persistence-type"),(0,F.b$)()?Fs(p!==gi.SESSION,v,"unsupported-persistence-type"):(0,F.UG)()?Fs(p===gi.NONE,v,"unsupported-persistence-type"):dp()?Fs(p===gi.NONE||p===gi.LOCAL&&(0,F.hl)(),v,"unsupported-persistence-type"):Fs(p===gi.NONE||Ih(),v,"unsupported-persistence-type")}(b._delegate,g),g){case gi.SESSION:A=As;break;case gi.LOCAL:A=(yield ue(ga)._isAvailable())?ga:pl;break;case gi.NONE:A=St;break;default:return Te("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Tr(this._delegate,function(v){return Co.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Tr(this._delegate,al(this._delegate,g))}signInWithCustomToken(g){return Tr(this._delegate,function(v,p){return Yn.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return Tr(this._delegate,function(v,p,g){return al((0,F.m9)(v),rl.credential(p,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return Tr(this._delegate,function(v,p,g){return ci.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return Nl(this._delegate,function(v,p,g){return va.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,d.Z)(function*(){return Ol(yn(),b._delegate,"operation-not-supported-in-this-environment"),Tr(b._delegate,function(v,p,g){return Qr.apply(this,arguments)}(b._delegate,g,Tn))})()}signInWithRedirect(g){var b=this;return(0,d.Z)(function*(){return Ol(yn(),b._delegate,"operation-not-supported-in-this-environment"),yield fp(b._delegate),function(v,p,g){return function(v,p,g){return Ge.apply(this,arguments)}(v,p,g)}(b._delegate,g,Tn)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(v,p){return Cs.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=gi,v})();function Pl(v,p,g){let b=v;"function"!=typeof v&&({next:b,error:p,complete:g}=v);const A=b;return{next:W=>A(W&&Lo.getOrCreate(W)),error:p,complete:g}}class Ah{constructor(){this.providerId="phone",this._delegate=new Ea(Th(ee.Z.auth()))}static credential(p,g){return Ea.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}Ah.PHONE_SIGN_IN_METHOD=Ea.PHONE_SIGN_IN_METHOD,Ah.PROVIDER_ID=Ea.PROVIDER_ID;const $m=De;class Xc{constructor(p,g,b=ee.Z.app()){var A;$m(null===(A=b.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new kc(p,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(v){v.INTERNAL.registerComponent(new we.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new jm(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:rl,FacebookAuthProvider:bc,GithubAuthProvider:wc,GoogleAuthProvider:il,OAuthProvider:Ys,PhoneAuthProvider:Ah,PhoneMultiFactorGenerator:ip,RecaptchaVerifier:Xc,TwitterAuthProvider:Ni,Auth:jm,AuthCredential:or,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.1.6")}(ee.Z)},6676:function(et,Ae){!function(V){"use strict";function d(G){return Array.prototype.slice.call(G)}function ee(G){return new Promise(function(_e,be){G.onsuccess=function(){_e(G.result)},G.onerror=function(){be(G.error)}})}function F(G,_e,be){var he,Te=new Promise(function(Le,Ve){ee(he=G[_e].apply(G,be)).then(Le,Ve)});return Te.request=he,Te}function le(G,_e,be){var he=F(G,_e,be);return he.then(function(Te){if(Te)return new k(Te,he.request)})}function te(G,_e,be){be.forEach(function(he){Object.defineProperty(G.prototype,he,{get:function(){return this[_e][he]},set:function(Te){this[_e][he]=Te}})})}function ie(G,_e,be,he){he.forEach(function(Te){Te in be.prototype&&(G.prototype[Te]=function(){return F(this[_e],Te,arguments)})})}function we(G,_e,be,he){he.forEach(function(Te){Te in be.prototype&&(G.prototype[Te]=function(){return this[_e][Te].apply(this[_e],arguments)})})}function ce(G,_e,be,he){he.forEach(function(Te){Te in be.prototype&&(G.prototype[Te]=function(){return le(this[_e],Te,arguments)})})}function z(G){this._index=G}function k(G,_e){this._cursor=G,this._request=_e}function L(G){this._store=G}function J(G){this._tx=G,this.complete=new Promise(function(_e,be){G.oncomplete=function(){_e()},G.onerror=function(){be(G.error)},G.onabort=function(){be(G.error)}})}function Y(G,_e,be){this._db=G,this.oldVersion=_e,this.transaction=new J(be)}function re(G){this._db=G}te(z,"_index",["name","keyPath","multiEntry","unique"]),ie(z,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ce(z,"_index",IDBIndex,["openCursor","openKeyCursor"]),te(k,"_cursor",["direction","key","primaryKey","value"]),ie(k,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(G){G in IDBCursor.prototype&&(k.prototype[G]=function(){var _e=this,be=arguments;return Promise.resolve().then(function(){return _e._cursor[G].apply(_e._cursor,be),ee(_e._request).then(function(he){if(he)return new k(he,_e._request)})})})}),L.prototype.createIndex=function(){return new z(this._store.createIndex.apply(this._store,arguments))},L.prototype.index=function(){return new z(this._store.index.apply(this._store,arguments))},te(L,"_store",["name","keyPath","indexNames","autoIncrement"]),ie(L,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ce(L,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),we(L,"_store",IDBObjectStore,["deleteIndex"]),J.prototype.objectStore=function(){return new L(this._tx.objectStore.apply(this._tx,arguments))},te(J,"_tx",["objectStoreNames","mode"]),we(J,"_tx",IDBTransaction,["abort"]),Y.prototype.createObjectStore=function(){return new L(this._db.createObjectStore.apply(this._db,arguments))},te(Y,"_db",["name","version","objectStoreNames"]),we(Y,"_db",IDBDatabase,["deleteObjectStore","close"]),re.prototype.transaction=function(){return new J(this._db.transaction.apply(this._db,arguments))},te(re,"_db",["name","version","objectStoreNames"]),we(re,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(G){[L,z].forEach(function(_e){G in _e.prototype&&(_e.prototype[G.replace("open","iterate")]=function(){var be=d(arguments),he=be[be.length-1],Te=this._store||this._index,Le=Te[G].apply(Te,be.slice(0,-1));Le.onsuccess=function(){he(Le.result)}})})}),[z,L].forEach(function(G){G.prototype.getAll||(G.prototype.getAll=function(_e,be){var he=this,Te=[];return new Promise(function(Le){he.iterateCursor(_e,function(Ve){Ve?(Te.push(Ve.value),void 0===be||Te.length!=be?Ve.continue():Le(Te)):Le(Te)})})})}),V.openDb=function(G,_e,be){var he=F(indexedDB,"open",[G,_e]),Te=he.request;return Te&&(Te.onupgradeneeded=function(Le){be&&be(new Y(Te.result,Le.oldVersion,Te.transaction))}),he.then(function(Le){return new re(Le)})},V.deleteDb=function(G){return F(indexedDB,"deleteDatabase",[G])},Object.defineProperty(V,"__esModule",{value:!0})}(Ae)},7574:(et,Ae,V)=>{"use strict";V.d(Ae,{y:()=>L});var d=V(7393),F=V(9181),le=V(6490),ie=V(6554),we=V(4487);var k=V(2494);let L=(()=>{class Y{constructor(Ie){this._isScalar=!1,Ie&&(this._subscribe=Ie)}lift(Ie){const de=new Y;return de.source=this,de.operator=Ie,de}subscribe(Ie,de,G){const{operator:_e}=this,be=function(Y,re,Ie){if(Y){if(Y instanceof d.L)return Y;if(Y[F.b])return Y[F.b]()}return Y||re||Ie?new d.L(Y,re,Ie):new d.L(le.c)}(Ie,de,G);if(be.add(_e?_e.call(be,this.source):this.source||k.v.useDeprecatedSynchronousErrorHandling&&!be.syncErrorThrowable?this._subscribe(be):this._trySubscribe(be)),k.v.useDeprecatedSynchronousErrorHandling&&be.syncErrorThrowable&&(be.syncErrorThrowable=!1,be.syncErrorThrown))throw be.syncErrorValue;return be}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(de){k.v.useDeprecatedSynchronousErrorHandling&&(Ie.syncErrorThrown=!0,Ie.syncErrorValue=de),function(Y){for(;Y;){const{closed:re,destination:Ie,isStopped:de}=Y;if(re||de)return!1;Y=Ie&&Ie instanceof d.L?Ie:null}return!0}(Ie)?Ie.error(de):console.warn(de)}}forEach(Ie,de){return new(de=J(de))((G,_e)=>{let be;be=this.subscribe(he=>{try{Ie(he)}catch(Te){_e(Te),be&&be.unsubscribe()}},_e,G)})}_subscribe(Ie){const{source:de}=this;return de&&de.subscribe(Ie)}[ie.L](){return this}pipe(...Ie){return 0===Ie.length?this:function(Y){return 0===Y.length?we.y:1===Y.length?Y[0]:function(Ie){return Y.reduce((de,G)=>G(de),Ie)}}(Ie)(this)}toPromise(Ie){return new(Ie=J(Ie))((de,G)=>{let _e;this.subscribe(be=>_e=be,be=>G(be),()=>de(_e))})}}return Y.create=re=>new Y(re),Y})();function J(Y){if(Y||(Y=k.v.Promise||Promise),!Y)throw new Error("no Promise impl found");return Y}},6490:(et,Ae,V)=>{"use strict";V.d(Ae,{c:()=>F});var d=V(2494),ee=V(4449);const F={closed:!0,next(le){},error(le){if(d.v.useDeprecatedSynchronousErrorHandling)throw le;(0,ee.z)(le)},complete(){}}},9765:(et,Ae,V)=>{"use strict";V.d(Ae,{Yc:()=>we,xQ:()=>ce});var d=V(7574),ee=V(7393),F=V(5319),le=V(7971),te=V(8858),ie=V(9181);class we extends ee.L{constructor(L){super(L),this.destination=L}}let ce=(()=>{class k extends d.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ie.b](){return new we(this)}lift(J){const Y=new z(this,this);return Y.operator=J,Y}next(J){if(this.closed)throw new le.N;if(!this.isStopped){const{observers:Y}=this,re=Y.length,Ie=Y.slice();for(let de=0;de<re;de++)Ie[de].next(J)}}error(J){if(this.closed)throw new le.N;this.hasError=!0,this.thrownError=J,this.isStopped=!0;const{observers:Y}=this,re=Y.length,Ie=Y.slice();for(let de=0;de<re;de++)Ie[de].error(J);this.observers.length=0}complete(){if(this.closed)throw new le.N;this.isStopped=!0;const{observers:J}=this,Y=J.length,re=J.slice();for(let Ie=0;Ie<Y;Ie++)re[Ie].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(J){if(this.closed)throw new le.N;return super._trySubscribe(J)}_subscribe(J){if(this.closed)throw new le.N;return this.hasError?(J.error(this.thrownError),F.w.EMPTY):this.isStopped?(J.complete(),F.w.EMPTY):(this.observers.push(J),new te.W(this,J))}asObservable(){const J=new d.y;return J.source=this,J}}return k.create=(L,J)=>new z(L,J),k})();class z extends ce{constructor(L,J){super(),this.destination=L,this.source=J}next(L){const{destination:J}=this;J&&J.next&&J.next(L)}error(L){const{destination:J}=this;J&&J.error&&this.destination.error(L)}complete(){const{destination:L}=this;L&&L.complete&&this.destination.complete()}_subscribe(L){const{source:J}=this;return J?this.source.subscribe(L):F.w.EMPTY}}},8858:(et,Ae,V)=>{"use strict";V.d(Ae,{W:()=>ee});var d=V(5319);class ee extends d.w{constructor(le,te){super(),this.subject=le,this.subscriber=te,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const le=this.subject,te=le.observers;if(this.subject=null,!te||0===te.length||le.isStopped||le.closed)return;const ie=te.indexOf(this.subscriber);-1!==ie&&te.splice(ie,1)}}},7393:(et,Ae,V)=>{"use strict";V.d(Ae,{L:()=>we});var d=V(9105),ee=V(6490),F=V(5319),le=V(9181),te=V(2494),ie=V(4449);class we extends F.w{constructor(k,L,J){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ee.c;break;case 1:if(!k){this.destination=ee.c;break}if("object"==typeof k){k instanceof we?(this.syncErrorThrowable=k.syncErrorThrowable,this.destination=k,k.add(this)):(this.syncErrorThrowable=!0,this.destination=new ce(this,k));break}default:this.syncErrorThrowable=!0,this.destination=new ce(this,k,L,J)}}[le.b](){return this}static create(k,L,J){const Y=new we(k,L,J);return Y.syncErrorThrowable=!1,Y}next(k){this.isStopped||this._next(k)}error(k){this.isStopped||(this.isStopped=!0,this._error(k))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(k){this.destination.next(k)}_error(k){this.destination.error(k),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:k}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=k,this}}class ce extends we{constructor(k,L,J,Y){super(),this._parentSubscriber=k;let re,Ie=this;(0,d.m)(L)?re=L:L&&(re=L.next,J=L.error,Y=L.complete,L!==ee.c&&(Ie=Object.create(L),(0,d.m)(Ie.unsubscribe)&&this.add(Ie.unsubscribe.bind(Ie)),Ie.unsubscribe=this.unsubscribe.bind(this))),this._context=Ie,this._next=re,this._error=J,this._complete=Y}next(k){if(!this.isStopped&&this._next){const{_parentSubscriber:L}=this;te.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?this.__tryOrSetError(L,this._next,k)&&this.unsubscribe():this.__tryOrUnsub(this._next,k)}}error(k){if(!this.isStopped){const{_parentSubscriber:L}=this,{useDeprecatedSynchronousErrorHandling:J}=te.v;if(this._error)J&&L.syncErrorThrowable?(this.__tryOrSetError(L,this._error,k),this.unsubscribe()):(this.__tryOrUnsub(this._error,k),this.unsubscribe());else if(L.syncErrorThrowable)J?(L.syncErrorValue=k,L.syncErrorThrown=!0):(0,ie.z)(k),this.unsubscribe();else{if(this.unsubscribe(),J)throw k;(0,ie.z)(k)}}}complete(){if(!this.isStopped){const{_parentSubscriber:k}=this;if(this._complete){const L=()=>this._complete.call(this._context);te.v.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?(this.__tryOrSetError(k,L),this.unsubscribe()):(this.__tryOrUnsub(L),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(k,L){try{k.call(this._context,L)}catch(J){if(this.unsubscribe(),te.v.useDeprecatedSynchronousErrorHandling)throw J;(0,ie.z)(J)}}__tryOrSetError(k,L,J){if(!te.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{L.call(this._context,J)}catch(Y){return te.v.useDeprecatedSynchronousErrorHandling?(k.syncErrorValue=Y,k.syncErrorThrown=!0,!0):((0,ie.z)(Y),!0)}return!1}_unsubscribe(){const{_parentSubscriber:k}=this;this._context=null,this._parentSubscriber=null,k.unsubscribe()}}},5319:(et,Ae,V)=>{"use strict";V.d(Ae,{w:()=>ie});var d=V(9796),ee=V(1555),F=V(9105);const te=(()=>{function ce(z){return Error.call(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((k,L)=>`${L+1}) ${k.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z,this}return ce.prototype=Object.create(Error.prototype),ce})();class ie{constructor(z){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,z&&(this._ctorUnsubscribe=!0,this._unsubscribe=z)}unsubscribe(){let z;if(this.closed)return;let{_parentOrParents:k,_ctorUnsubscribe:L,_unsubscribe:J,_subscriptions:Y}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,k instanceof ie)k.remove(this);else if(null!==k)for(let re=0;re<k.length;++re)k[re].remove(this);if((0,F.m)(J)){L&&(this._unsubscribe=void 0);try{J.call(this)}catch(re){z=re instanceof te?we(re.errors):[re]}}if((0,d.k)(Y)){let re=-1,Ie=Y.length;for(;++re<Ie;){const de=Y[re];if((0,ee.K)(de))try{de.unsubscribe()}catch(G){z=z||[],G instanceof te?z=z.concat(we(G.errors)):z.push(G)}}}if(z)throw new te(z)}add(z){let k=z;if(!z)return ie.EMPTY;switch(typeof z){case"function":k=new ie(z);case"object":if(k===this||k.closed||"function"!=typeof k.unsubscribe)return k;if(this.closed)return k.unsubscribe(),k;if(!(k instanceof ie)){const Y=k;k=new ie,k._subscriptions=[Y]}break;default:throw new Error("unrecognized teardown "+z+" added to Subscription.")}let{_parentOrParents:L}=k;if(null===L)k._parentOrParents=this;else if(L instanceof ie){if(L===this)return k;k._parentOrParents=[L,this]}else{if(-1!==L.indexOf(this))return k;L.push(this)}const J=this._subscriptions;return null===J?this._subscriptions=[k]:J.push(k),k}remove(z){const k=this._subscriptions;if(k){const L=k.indexOf(z);-1!==L&&k.splice(L,1)}}}var ce;function we(ce){return ce.reduce((z,k)=>z.concat(k instanceof te?k.errors:k),[])}ie.EMPTY=((ce=new ie).closed=!0,ce)},2494:(et,Ae,V)=>{"use strict";V.d(Ae,{v:()=>ee});let d=!1;const ee={Promise:void 0,set useDeprecatedSynchronousErrorHandling(F){if(F){const le=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+le.stack)}else d&&console.log("RxJS: Back to a better error behavior. Thank you. <3");d=F},get useDeprecatedSynchronousErrorHandling(){return d}}},5345:(et,Ae,V)=>{"use strict";V.d(Ae,{IY:()=>le,Ds:()=>ie,ft:()=>ce});var d=V(7393),ee=V(7574),F=V(7444);class le extends d.L{constructor(k){super(),this.parent=k}_next(k){this.parent.notifyNext(k)}_error(k){this.parent.notifyError(k),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ie extends d.L{notifyNext(k){this.destination.next(k)}notifyError(k){this.destination.error(k)}notifyComplete(){this.destination.complete()}}function ce(z,k){if(k.closed)return;if(z instanceof ee.y)return z.subscribe(k);let L;try{L=(0,F.s)(z)(k)}catch(J){k.error(J)}return L}},2441:(et,Ae,V)=>{"use strict";V.d(Ae,{c:()=>te,N:()=>ie});var d=V(9765),ee=V(7574),F=V(5319),le=V(1307);class te extends ee.y{constructor(L,J){super(),this.source=L,this.subjectFactory=J,this._refCount=0,this._isComplete=!1}_subscribe(L){return this.getSubject().subscribe(L)}getSubject(){const L=this._subject;return(!L||L.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let L=this._connection;return L||(this._isComplete=!1,L=this._connection=new F.w,L.add(this.source.subscribe(new we(this.getSubject(),this))),L.closed&&(this._connection=null,L=F.w.EMPTY)),L}refCount(){return(0,le.x)()(this)}}const ie=(()=>{const k=te.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:k._subscribe},_isComplete:{value:k._isComplete,writable:!0},getSubject:{value:k.getSubject},connect:{value:k.connect},refCount:{value:k.refCount}}})();class we extends d.Yc{constructor(L,J){super(L),this.connectable=J}_error(L){this._unsubscribe(),super._error(L)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const L=this.connectable;if(L){this.connectable=null;const J=L._connection;L._refCount=0,L._subject=null,L._connection=null,J&&J.unsubscribe()}}}},9193:(et,Ae,V)=>{"use strict";V.d(Ae,{E:()=>ee,c:()=>F});var d=V(7574);const ee=new d.y(te=>te.complete());function F(te){return te?function(te){return new d.y(ie=>te.schedule(()=>ie.complete()))}(te):ee}},4402:(et,Ae,V)=>{"use strict";V.d(Ae,{D:()=>Ie});var d=V(7574),ee=V(7444),F=V(5319),le=V(6554),we=V(4087),ce=V(377),L=V(4072),J=V(9489);function Ie(de,G){return G?function(de,G){if(null!=de){if(function(de){return de&&"function"==typeof de[le.L]}(de))return function(de,G){return new d.y(_e=>{const be=new F.w;return be.add(G.schedule(()=>{const he=de[le.L]();be.add(he.subscribe({next(Te){be.add(G.schedule(()=>_e.next(Te)))},error(Te){be.add(G.schedule(()=>_e.error(Te)))},complete(){be.add(G.schedule(()=>_e.complete()))}}))})),be})}(de,G);if((0,L.t)(de))return function(de,G){return new d.y(_e=>{const be=new F.w;return be.add(G.schedule(()=>de.then(he=>{be.add(G.schedule(()=>{_e.next(he),be.add(G.schedule(()=>_e.complete()))}))},he=>{be.add(G.schedule(()=>_e.error(he)))}))),be})}(de,G);if((0,J.z)(de))return(0,we.r)(de,G);if(function(de){return de&&"function"==typeof de[ce.hZ]}(de)||"string"==typeof de)return function(de,G){if(!de)throw new Error("Iterable cannot be null");return new d.y(_e=>{const be=new F.w;let he;return be.add(()=>{he&&"function"==typeof he.return&&he.return()}),be.add(G.schedule(()=>{he=de[ce.hZ](),be.add(G.schedule(function(){if(_e.closed)return;let Te,Le;try{const Ve=he.next();Te=Ve.value,Le=Ve.done}catch(Ve){return void _e.error(Ve)}Le?_e.complete():(_e.next(Te),this.schedule())}))})),be})}(de,G)}throw new TypeError((null!==de&&typeof de||de)+" is not observable")}(de,G):de instanceof d.y?de:new d.y((0,ee.s)(de))}},6693:(et,Ae,V)=>{"use strict";V.d(Ae,{n:()=>le});var d=V(7574),ee=V(5015),F=V(4087);function le(te,ie){return ie?(0,F.r)(te,ie):new d.y((0,ee.V)(te))}},6682:(et,Ae,V)=>{"use strict";V.d(Ae,{T:()=>te});var d=V(7574),ee=V(4869),F=V(3282),le=V(6693);function te(...ie){let we=Number.POSITIVE_INFINITY,ce=null,z=ie[ie.length-1];return(0,ee.K)(z)?(ce=ie.pop(),ie.length>1&&"number"==typeof ie[ie.length-1]&&(we=ie.pop())):"number"==typeof z&&(we=ie.pop()),null===ce&&1===ie.length&&ie[0]instanceof d.y?ie[0]:(0,F.J)(we)((0,le.n)(ie,ce))}},5917:(et,Ae,V)=>{"use strict";V.d(Ae,{of:()=>le});var d=V(4869),ee=V(6693),F=V(4087);function le(...te){let ie=te[te.length-1];return(0,d.K)(ie)?(te.pop(),(0,F.r)(te,ie)):(0,ee.n)(te)}},8002:(et,Ae,V)=>{"use strict";V.d(Ae,{U:()=>ee});var d=V(7393);function ee(te,ie){return function(ce){if("function"!=typeof te)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ce.lift(new F(te,ie))}}class F{constructor(ie,we){this.project=ie,this.thisArg=we}call(ie,we){return we.subscribe(new le(ie,this.project,this.thisArg))}}class le extends d.L{constructor(ie,we,ce){super(ie),this.project=we,this.count=0,this.thisArg=ce||this}_next(ie){let we;try{we=this.project.call(this.thisArg,ie,this.count++)}catch(ce){return void this.destination.error(ce)}this.destination.next(we)}}},3282:(et,Ae,V)=>{"use strict";V.d(Ae,{J:()=>F});var d=V(9773),ee=V(4487);function F(le=Number.POSITIVE_INFINITY){return(0,d.zg)(ee.y,le)}},9773:(et,Ae,V)=>{"use strict";V.d(Ae,{zg:()=>le});var d=V(8002),ee=V(4402),F=V(5345);function le(ce,z,k=Number.POSITIVE_INFINITY){return"function"==typeof z?L=>L.pipe(le((J,Y)=>(0,ee.D)(ce(J,Y)).pipe((0,d.U)((re,Ie)=>z(J,re,Y,Ie))),k)):("number"==typeof z&&(k=z),L=>L.lift(new te(ce,k)))}class te{constructor(z,k=Number.POSITIVE_INFINITY){this.project=z,this.concurrent=k}call(z,k){return k.subscribe(new ie(z,this.project,this.concurrent))}}class ie extends F.Ds{constructor(z,k,L=Number.POSITIVE_INFINITY){super(z),this.project=k,this.concurrent=L,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(z){this.active<this.concurrent?this._tryNext(z):this.buffer.push(z)}_tryNext(z){let k;const L=this.index++;try{k=this.project(z,L)}catch(J){return void this.destination.error(J)}this.active++,this._innerSub(k)}_innerSub(z){const k=new F.IY(this),L=this.destination;L.add(k);const J=(0,F.ft)(z,k);J!==k&&L.add(J)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(z){this.destination.next(z)}notifyComplete(){const z=this.buffer;this.active--,z.length>0?this._next(z.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(et,Ae,V)=>{"use strict";V.d(Ae,{ht:()=>L,QV:()=>z});var d=V(7393),ee=V(9193),F=V(5917),le=V(7574);class ce{constructor(re,Ie,de){this.kind=re,this.value=Ie,this.error=de,this.hasValue="N"===re}observe(re){switch(this.kind){case"N":return re.next&&re.next(this.value);case"E":return re.error&&re.error(this.error);case"C":return re.complete&&re.complete()}}do(re,Ie,de){switch(this.kind){case"N":return re&&re(this.value);case"E":return Ie&&Ie(this.error);case"C":return de&&de()}}accept(re,Ie,de){return re&&"function"==typeof re.next?this.observe(re):this.do(re,Ie,de)}toObservable(){switch(this.kind){case"N":return(0,F.of)(this.value);case"E":return Y=this.error,new le.y(Ie=>Ie.error(Y));case"C":return(0,ee.c)()}var Y;throw new Error("unexpected notification kind value")}static createNext(re){return void 0!==re?new ce("N",re):ce.undefinedValueNotification}static createError(re){return new ce("E",void 0,re)}static createComplete(){return ce.completeNotification}}function z(Y,re=0){return function(de){return de.lift(new k(Y,re))}}ce.completeNotification=new ce("C"),ce.undefinedValueNotification=new ce("N",void 0);class k{constructor(re,Ie=0){this.scheduler=re,this.delay=Ie}call(re,Ie){return Ie.subscribe(new L(re,this.scheduler,this.delay))}}class L extends d.L{constructor(re,Ie,de=0){super(re),this.scheduler=Ie,this.delay=de}static dispatch(re){const{notification:Ie,destination:de}=re;Ie.observe(de),this.unsubscribe()}scheduleMessage(re){this.destination.add(this.scheduler.schedule(L.dispatch,this.delay,new J(re,this.destination)))}_next(re){this.scheduleMessage(ce.createNext(re))}_error(re){this.scheduleMessage(ce.createError(re)),this.unsubscribe()}_complete(){this.scheduleMessage(ce.createComplete()),this.unsubscribe()}}class J{constructor(re,Ie){this.notification=re,this.destination=Ie}}},1307:(et,Ae,V)=>{"use strict";V.d(Ae,{x:()=>ee});var d=V(7393);function ee(){return function(ie){return ie.lift(new F(ie))}}class F{constructor(ie){this.connectable=ie}call(ie,we){const{connectable:ce}=this;ce._refCount++;const z=new le(ie,ce),k=we.subscribe(z);return z.closed||(z.connection=ce.connect()),k}}class le extends d.L{constructor(ie,we){super(ie),this.connectable=we}_unsubscribe(){const{connectable:ie}=this;if(!ie)return void(this.connection=null);this.connectable=null;const we=ie._refCount;if(we<=0)return void(this.connection=null);if(ie._refCount=we-1,we>1)return void(this.connection=null);const{connection:ce}=this,z=ie._connection;this.connection=null,z&&(!ce||z===ce)&&z.unsubscribe()}}},3101:(et,Ae,V)=>{"use strict";V.d(Ae,{R:()=>G});var d=V(7574);let ee=1;const F=Promise.resolve(),le={};function te(be){return be in le&&(delete le[be],!0)}const ie={setImmediate(be){const he=ee++;return le[he]=!0,F.then(()=>te(he)&&be()),he},clearImmediate(be){te(be)}};var ce=V(6465),k=V(6102);const Y=new class extends k.v{flush(he){this.active=!0,this.scheduled=void 0;const{actions:Te}=this;let Le,Ve=-1,vt=Te.length;he=he||Te.shift();do{if(Le=he.execute(he.state,he.delay))break}while(++Ve<vt&&(he=Te.shift()));if(this.active=!1,Le){for(;++Ve<vt&&(he=Te.shift());)he.unsubscribe();throw Le}}}(class extends ce.o{constructor(he,Te){super(he,Te),this.scheduler=he,this.work=Te}requestAsyncId(he,Te,Le=0){return null!==Le&&Le>0?super.requestAsyncId(he,Te,Le):(he.actions.push(this),he.scheduled||(he.scheduled=ie.setImmediate(he.flush.bind(he,null))))}recycleAsyncId(he,Te,Le=0){if(null!==Le&&Le>0||null===Le&&this.delay>0)return super.recycleAsyncId(he,Te,Le);0===he.actions.length&&(ie.clearImmediate(Te),he.scheduled=void 0)}});var re=V(9796);class de extends d.y{constructor(he,Te=0,Le=Y){var be;super(),this.source=he,this.delayTime=Te,this.scheduler=Le,(!(!(0,re.k)(be=Te)&&be-parseFloat(be)+1>=0)||Te<0)&&(this.delayTime=0),(!Le||"function"!=typeof Le.schedule)&&(this.scheduler=Y)}static create(he,Te=0,Le=Y){return new de(he,Te,Le)}static dispatch(he){const{source:Te,subscriber:Le}=he;return this.add(Te.subscribe(Le))}_subscribe(he){return this.scheduler.schedule(de.dispatch,this.delayTime,{source:this.source,subscriber:he})}}function G(be,he=0){return function(Le){return Le.lift(new _e(be,he))}}class _e{constructor(he,Te){this.scheduler=he,this.delay=Te}call(he,Te){return new de(Te,this.delay,this.scheduler).subscribe(he)}}},3342:(et,Ae,V)=>{"use strict";V.d(Ae,{b:()=>le});var d=V(7393);function ee(){}var F=V(9105);function le(we,ce,z){return function(L){return L.lift(new te(we,ce,z))}}class te{constructor(ce,z,k){this.nextOrObserver=ce,this.error=z,this.complete=k}call(ce,z){return z.subscribe(new ie(ce,this.nextOrObserver,this.error,this.complete))}}class ie extends d.L{constructor(ce,z,k,L){super(ce),this._tapNext=ee,this._tapError=ee,this._tapComplete=ee,this._tapError=k||ee,this._tapComplete=L||ee,(0,F.m)(z)?(this._context=this,this._tapNext=z):z&&(this._context=z,this._tapNext=z.next||ee,this._tapError=z.error||ee,this._tapComplete=z.complete||ee)}_next(ce){try{this._tapNext.call(this._context,ce)}catch(z){return void this.destination.error(z)}this.destination.next(ce)}_error(ce){try{this._tapError.call(this._context,ce)}catch(z){return void this.destination.error(z)}this.destination.error(ce)}_complete(){try{this._tapComplete.call(this._context)}catch(ce){return void this.destination.error(ce)}return this.destination.complete()}}},4087:(et,Ae,V)=>{"use strict";V.d(Ae,{r:()=>F});var d=V(7574),ee=V(5319);function F(le,te){return new d.y(ie=>{const we=new ee.w;let ce=0;return we.add(te.schedule(function(){ce!==le.length?(ie.next(le[ce++]),ie.closed||we.add(this.schedule())):ie.complete()})),we})}},6465:(et,Ae,V)=>{"use strict";V.d(Ae,{o:()=>F});var d=V(5319);class ee extends d.w{constructor(te,ie){super()}schedule(te,ie=0){return this}}class F extends ee{constructor(te,ie){super(te,ie),this.scheduler=te,this.work=ie,this.pending=!1}schedule(te,ie=0){if(this.closed)return this;this.state=te;const we=this.id,ce=this.scheduler;return null!=we&&(this.id=this.recycleAsyncId(ce,we,ie)),this.pending=!0,this.delay=ie,this.id=this.id||this.requestAsyncId(ce,this.id,ie),this}requestAsyncId(te,ie,we=0){return setInterval(te.flush.bind(te,this),we)}recycleAsyncId(te,ie,we=0){if(null!==we&&this.delay===we&&!1===this.pending)return ie;clearInterval(ie)}execute(te,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(te,ie);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,ie){let ce,we=!1;try{this.work(te)}catch(z){we=!0,ce=!!z&&z||new Error(z)}if(we)return this.unsubscribe(),ce}_unsubscribe(){const te=this.id,ie=this.scheduler,we=ie.actions,ce=we.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ce&&we.splice(ce,1),null!=te&&(this.id=this.recycleAsyncId(ie,te,null)),this.delay=null}}},6102:(et,Ae,V)=>{"use strict";V.d(Ae,{v:()=>ee});let d=(()=>{class F{constructor(te,ie=F.now){this.SchedulerAction=te,this.now=ie}schedule(te,ie=0,we){return new this.SchedulerAction(this,te).schedule(we,ie)}}return F.now=()=>Date.now(),F})();class ee extends d{constructor(le,te=d.now){super(le,()=>ee.delegate&&ee.delegate!==this?ee.delegate.now():te()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(le,te=0,ie){return ee.delegate&&ee.delegate!==this?ee.delegate.schedule(le,te,ie):super.schedule(le,te,ie)}flush(le){const{actions:te}=this;if(this.active)return void te.push(le);let ie;this.active=!0;do{if(ie=le.execute(le.state,le.delay))break}while(le=te.shift());if(this.active=!1,ie){for(;le=te.shift();)le.unsubscribe();throw ie}}}},3637:(et,Ae,V)=>{"use strict";V.d(Ae,{z:()=>F,P:()=>le});var d=V(6465);const F=new(V(6102).v)(d.o),le=F},7771:(et,Ae,V)=>{"use strict";V.d(Ae,{c:()=>ie,N:()=>te});var d=V(6465),F=V(6102);const te=new class extends F.v{}(class extends d.o{constructor(ce,z){super(ce,z),this.scheduler=ce,this.work=z}schedule(ce,z=0){return z>0?super.schedule(ce,z):(this.delay=z,this.state=ce,this.scheduler.flush(this),this)}execute(ce,z){return z>0||this.closed?super.execute(ce,z):this._execute(ce,z)}requestAsyncId(ce,z,k=0){return null!==k&&k>0||null===k&&this.delay>0?super.requestAsyncId(ce,z,k):ce.flush(this)}}),ie=te},377:(et,Ae,V)=>{"use strict";V.d(Ae,{hZ:()=>ee});const ee="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(et,Ae,V)=>{"use strict";V.d(Ae,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(et,Ae,V)=>{"use strict";V.d(Ae,{b:()=>d});const d="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(et,Ae,V)=>{"use strict";V.d(Ae,{N:()=>ee});const ee=(()=>{function F(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return F.prototype=Object.create(Error.prototype),F})()},4449:(et,Ae,V)=>{"use strict";function d(ee){setTimeout(()=>{throw ee},0)}V.d(Ae,{z:()=>d})},4487:(et,Ae,V)=>{"use strict";function d(ee){return ee}V.d(Ae,{y:()=>d})},9796:(et,Ae,V)=>{"use strict";V.d(Ae,{k:()=>d});const d=Array.isArray||(ee=>ee&&"number"==typeof ee.length)},9489:(et,Ae,V)=>{"use strict";V.d(Ae,{z:()=>d});const d=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},9105:(et,Ae,V)=>{"use strict";function d(ee){return"function"==typeof ee}V.d(Ae,{m:()=>d})},1555:(et,Ae,V)=>{"use strict";function d(ee){return null!==ee&&"object"==typeof ee}V.d(Ae,{K:()=>d})},4072:(et,Ae,V)=>{"use strict";function d(ee){return!!ee&&"function"!=typeof ee.subscribe&&"function"==typeof ee.then}V.d(Ae,{t:()=>d})},4869:(et,Ae,V)=>{"use strict";function d(ee){return ee&&"function"==typeof ee.schedule}V.d(Ae,{K:()=>d})},7444:(et,Ae,V)=>{"use strict";V.d(Ae,{s:()=>L});var d=V(5015),ee=V(4449),le=V(377),ie=V(6554),ce=V(9489),z=V(4072),k=V(1555);const L=J=>{if(J&&"function"==typeof J[ie.L])return(J=>Y=>{const re=J[ie.L]();if("function"!=typeof re.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return re.subscribe(Y)})(J);if((0,ce.z)(J))return(0,d.V)(J);if((0,z.t)(J))return(J=>Y=>(J.then(re=>{Y.closed||(Y.next(re),Y.complete())},re=>Y.error(re)).then(null,ee.z),Y))(J);if(J&&"function"==typeof J[le.hZ])return(J=>Y=>{const re=J[le.hZ]();for(;;){let Ie;try{Ie=re.next()}catch(de){return Y.error(de),Y}if(Ie.done){Y.complete();break}if(Y.next(Ie.value),Y.closed)break}return"function"==typeof re.return&&Y.add(()=>{re.return&&re.return()}),Y})(J);{const re=`You provided ${(0,k.K)(J)?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(re)}}},5015:(et,Ae,V)=>{"use strict";V.d(Ae,{V:()=>d});const d=ee=>F=>{for(let le=0,te=ee.length;le<te&&!F.closed;le++)F.next(ee[le]);F.complete()}},7273:(et,Ae,V)=>{"use strict";var d=V(3018);let ee=null;function F(){return ee}const we=new d.OlP("DocumentToken");let ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,d.Yz7)({factory:z,token:n,providedIn:"platform"}),n})();function z(){return(0,d.LFG)(L)}const k=new d.OlP("Location Initialized");let L=(()=>{class n extends ce{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,a){J()?this._history.pushState(t,r,a):this.location.hash=a}replaceState(t,r,a){J()?this._history.replaceState(t,r,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(we))},n.\u0275prov=(0,d.Yz7)({factory:Y,token:n,providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function Y(){return new L((0,d.LFG)(we))}function re(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ie(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function de(n){return n&&"?"!==n[0]?"?"+n:n}let G=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,d.Yz7)({factory:_e,token:n,providedIn:"root"}),n})();function _e(n){const e=(0,d.LFG)(we).location;return new he((0,d.LFG)(ce),e&&e.origin||"")}const be=new d.OlP("appBaseHref");let he=(()=>{class n extends G{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return re(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+de(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${r}${a}`:r}pushState(t,r,a,c){const f=this.prepareExternalUrl(a+de(c));this._platformLocation.pushState(t,r,f)}replaceState(t,r,a,c){const f=this.prepareExternalUrl(a+de(c));this._platformLocation.replaceState(t,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce),d.LFG(be,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Te=(()=>{class n extends G{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=re(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,a,c){let f=this.prepareExternalUrl(a+de(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(t,r,f)}replaceState(t,r,a,c){let f=this.prepareExternalUrl(a+de(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce),d.LFG(be,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Le=(()=>{class n{constructor(t,r){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const a=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ie(ht(a)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+de(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ht(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",a=null){this._platformStrategy.pushState(a,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+de(r)),a)}replaceState(t,r="",a=null){this._platformStrategy.replaceState(a,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+de(r)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,a;null===(a=(r=this._platformStrategy).historyGo)||void 0===a||a.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(a=>a(t,r))}subscribe(t,r,a){return this._subject.subscribe({next:t,error:r,complete:a})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(G),d.LFG(ce))},n.normalizeQueryParams=de,n.joinWithSlash=re,n.stripTrailingSlash=Ie,n.\u0275prov=(0,d.Yz7)({factory:Ve,token:n,providedIn:"root"}),n})();function Ve(){return new Le((0,d.LFG)(G),(0,d.LFG)(ce))}function ht(n){return n.replace(/\/index.html$/,"")}var oe=(()=>((oe=oe||{})[oe.Zero=0]="Zero",oe[oe.One=1]="One",oe[oe.Two=2]="Two",oe[oe.Few=3]="Few",oe[oe.Many=4]="Many",oe[oe.Other=5]="Other",oe))();const Nr=d.kL8;class or{}let Mn=(()=>{class n extends or{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Nr(r||this.locale)(t)){case oe.Zero:return"zero";case oe.One:return"one";case oe.Two:return"two";case oe.Few:return"few";case oe.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.soG))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class vc{constructor(e,t,r,a){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let li=(()=>{class n{constructor(t,r,a){this._viewContainer=t,this._template=r,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((a,c,f)=>{if(null==a.previousIndex){const _=this._viewContainer.createEmbeddedView(this._template,new vc(null,this._ngForOf,-1,-1),null===f?void 0:f),w=new Wn(a,_);r.push(w)}else if(null==f)this._viewContainer.remove(null===c?void 0:c);else if(null!==c){const _=this._viewContainer.get(c);this._viewContainer.move(_,f);const w=new Wn(a,_);r.push(w)}});for(let a=0;a<r.length;a++)this._perViewChange(r[a].view,r[a].record);for(let a=0,c=this._viewContainer.length;a<c;a++){const f=this._viewContainer.get(a);f.context.index=a,f.context.count=c,f.context.ngForOf=this._ngForOf}t.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Wn{constructor(e,t){this.record=e,this.view=t}}let Gr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Zr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Jt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Jt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Zr{constructor(){this.$implicit=null,this.ngIf=null}}function Jt(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}class Qa{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class tl{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const Wr=new tl,xi=new Qa;let nl=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,d.QGY)(t))return Wr;if((0,d.F4k)(t))return xi;throw function(n,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,d.AaK)(n)}'`)}(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.sBO,16))},n.\u0275pipe=d.Yjl({name:"async",type:n,pure:!1}),n})(),pm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[{provide:or,useClass:Mn}]}),n})();function Io(n){return"server"===n}let Co=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new sl((0,d.LFG)(we),window)}),n})();class sl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const c=a.shadowRoot;if(c){const f=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(f)return f}a=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,a=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],a-c[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Xa(this.window.history)||Xa(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Xa(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Qs extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Qs,ee||(ee=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Gi=Gi||document.querySelector("base"),Gi?Gi.getAttribute("href"):null);return null==t?null:function(n){ra=ra||document.createElement("a"),ra.setAttribute("href",n);const e=ra.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Gi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[a,c]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(a.trim()===e)return decodeURIComponent(c)}return null}(document.cookie,e)}}let ra,Gi=null;const ol=new d.OlP("TRANSITION_ID"),al=[{provide:d.ip1,useFactory:function(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=F(),a=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<a.length;c++)r.remove(a[c])})}},deps:[ol,we,d.zs3],multi:!0}];class Tt{static init(){(0,d.VLi)(new Tt)}addToWindow(e){d.dqk.getAngularTestability=(r,a=!0)=>{const c=e.findTestabilityInTree(r,a);if(null==c)throw new Error("Could not find testability for element.");return c},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const a=d.dqk.getAllAngularTestabilities();let c=a.length,f=!1;const _=function(w){f=f||w,c--,0==c&&r(f)};a.forEach(function(w){w.whenStable(_)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const a=e.getTestability(t);return null!=a?a:r?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Yd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Is=new d.OlP("EventManagerPlugins");let aa=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(a=>a.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,a){return this._findPluginFor(r).addEventListener(t,r,a)}addGlobalEventListener(t,r,a){return this._findPluginFor(r).addGlobalEventListener(t,r,a)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const a=this._plugins;for(let c=0;c<a.length;c++){const f=a[c];if(f.supports(t))return this._eventNameToPlugin.set(t,f),f}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Is),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class So{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const a=F().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${t}`);return this.addEventListener(a,t,r)}}let Cc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),r.add(a))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Cs=(()=>{class n extends Cc{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,a){t.forEach(c=>{const f=this._doc.createElement("style");f.textContent=c,a.push(r.appendChild(f))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Qd),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,a)=>{this._addStylesToHost(t,a,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Qd))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(we))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Qd(n){F().remove(n)}const Re={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Rt=/%COMP%/g;function Xs(n,e,t){for(let r=0;r<e.length;r++){let a=e[r];Array.isArray(a)?Xs(n,a,t):(a=a.replace(Rt,n),t.push(a))}return t}function Xd(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let la=(()=>{class n{constructor(t,r,a){this.eventManager=t,this.sharedStylesHost=r,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new zi(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case d.ifc.Emulated:{let a=this.rendererByCompId.get(r.id);return a||(a=new Wi(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,a)),a.applyToHost(t),a}case 1:case d.ifc.ShadowDom:return new Ts(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const a=Xs(r.id,r.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(aa),d.LFG(Cs),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class zi{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Re[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,a){if(a){t=a+":"+t;const c=Re[a];c?e.setAttributeNS(c,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const a=Re[r];a?e.removeAttributeNS(a,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,a){a&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,a&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Xd(r)):this.eventManager.addEventListener(e,t,Xd(r))}}class Wi extends zi{constructor(e,t,r,a){super(e),this.component=r;const c=Xs(a+"-"+r.id,r.styles,[]);t.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(Rt,a+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Rt,n)}(a+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Ts extends zi{constructor(e,t,r,a){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Xs(a.id,a.styles,[]);for(let f=0;f<c.length;f++){const _=document.createElement("style");_.textContent=c[f],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ru=(()=>{class n extends So{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,a){return t.addEventListener(r,a,!1),()=>this.removeEventListener(t,r,a)}removeEventListener(t,r,a){return t.removeEventListener(r,a)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(we))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const xo=["alt","control","meta","shift"],fl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rh={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Kr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ki=(()=>{class n extends So{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,a){const c=n.parseEventName(r),f=n.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,c.domEventName,f))}static parseEventName(t){const r=t.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const c=n._normalizeKey(r.pop());let f="";if(xo.forEach(w=>{const S=r.indexOf(w);S>-1&&(r.splice(S,1),f+=w+".")}),f+=c,0!=r.length||0===c.length)return null;const _={};return _.domEventName=a,_.fullKey=f,_}static getEventFullKey(t){let r="",a=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&rh.hasOwnProperty(e)&&(e=rh[e]))}return fl[e]||e}(t);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),xo.forEach(c=>{c!=a&&Kr[c](t)&&(r+=c+".")}),r+=a,r}static eventCallback(t,r,a){return c=>{n.getEventFullKey(c)===t&&a.runGuarded(()=>r(c))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(we))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Mc=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function(){Qs.makeCurrent(),Tt.init()},multi:!0},{provide:we,useFactory:function(){return(0,d.RDi)(document),document},deps:[]}]),eo=[[],{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function(){return new d.qLn},deps:[]},{provide:Is,useClass:ru,multi:!0,deps:[we,d.R0b,d.Lbi]},{provide:Is,useClass:Ki,multi:!0,deps:[we]},[],{provide:la,useClass:la,deps:[aa,Cs,d.AFp]},{provide:d.FYo,useExisting:la},{provide:Cc,useExisting:Cs},{provide:Cs,useClass:Cs,deps:[we]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:aa,useClass:aa,deps:[Is,d.R0b]},{provide:class{},useClass:Yd,deps:[]},[]];let su=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:ol,useExisting:d.AFp},al]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(n,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:eo,imports:[pm,d.hGG]}),n})();"undefined"!=typeof window&&window;var Xt=V(4402),Je=V(5917),Yi=V(9765),Ss=V(7971);class ur extends Yi.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ss.N;return this._value}next(e){super.next(this._value=e)}}var Mo=V(4869),no=V(9796),Vn=V(7393);class Oc extends Vn.L{notifyNext(e,t,r,a,c){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class ym extends Vn.L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ga=V(7444),Yr=V(7574);function ah(n,e,t,r,a=new ym(n,t,r)){if(!a.closed)return e instanceof Yr.y?e.subscribe(a):(0,ga.s)(e)(a)}var Pc=V(6693);const vl={};class ya{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new El(e,this.resultSelector))}}class El extends Oc{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(vl),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(ah(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const a=this.values,f=this.toRespond?a[r]===vl?--this.toRespond:this.toRespond:0;a[r]=t,0===f&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const Oo=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var di=V(3282);function wl(...n){return(0,di.J)(1)((0,Je.of)(...n))}var Qi=V(9193);function Rs(n){return new Yr.y(e=>{let t;try{t=n()}catch(a){return void e.error(a)}return(t?(0,Xt.D)(t):(0,Qi.c)()).subscribe(e)})}var ro=V(2441),ft=V(8002),xs=V(5345);function Un(n,e){return"function"==typeof e?t=>t.pipe(Un((r,a)=>(0,Xt.D)(n(r,a)).pipe((0,ft.U)((c,f)=>e(r,c,a,f))))):t=>t.lift(new _a(n))}class _a{constructor(e){this.project=e}call(e,t){return t.subscribe(new Qf(e,this.project))}}class Qf extends xs.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(a){return void this.destination.error(a)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new xs.IY(this),a=this.destination;a.add(r),this.innerSubscription=(0,xs.ft)(e,r),this.innerSubscription!==r&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const kc=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function uh(n){return e=>0===n?(0,Qi.c)():e.lift(new Fc(n))}class Fc{constructor(e){if(this.total=e,this.total<0)throw new kc}call(e,t){return t.subscribe(new bn(e,this.total))}}class bn extends Vn.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function va(...n){const e=n[n.length-1];return(0,Mo.K)(e)?(n.pop(),t=>wl(n,t,e)):t=>wl(n,t)}function Po(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(a){return a.lift(new lh(n,e,t))}}class lh{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new vm(e,this.accumulator,this.seed,this.hasSeed))}}class vm extends Vn.L{constructor(e,t,r,a){super(e),this.accumulator=t,this._seed=r,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(a){this.destination.error(a)}this.seed=r,this.destination.next(r)}}function Oi(n,e){return function(r){return r.lift(new hu(n,e))}}class hu{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Lc(e,this.predicate,this.thisArg))}}class Lc extends Vn.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function io(n){return function(t){const r=new Vc(n),a=t.lift(r);return r.caught=a}}class Vc{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Ea(e,this.selector,this.caught))}}class Ea extends xs.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(c){return void super.error(c)}this._unsubscribeAndRecycle();const r=new xs.IY(this);this.add(r);const a=(0,xs.ft)(t,r);a!==r&&this.add(a)}}}var wn=V(9773);function Ji(n,e){return(0,wn.zg)(n,e,1)}function Jf(n){return function(t){return 0===n?(0,Qi.c)():t.lift(new $n(n))}}class $n{constructor(e){if(this.total=e,this.total<0)throw new kc}call(e,t){return t.subscribe(new Il(e,this.total))}}class Il extends Vn.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,a=this.count++;t.length<r?t.push(e):t[a%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,a=this.ring;for(let c=0;c<r;c++){const f=t++%r;e.next(a[f])}}e.complete()}}function ko(n=hi){return e=>e.lift(new ba(n))}class ba{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new ch(e,this.errorFactory))}}class ch extends Vn.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function hi(){return new Oo}function Qr(n=null){return e=>e.lift(new Xi(n))}class Xi{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Ns(e,this.defaultValue))}}class Ns extends Vn.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Cr=V(4487);function Ms(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Oi((a,c)=>n(a,c,r)):Cr.y,uh(1),t?Qr(e):ko(()=>new Oo))}var Fr=V(3342),dh=V(1307),Xf=V(5319);class I{constructor(e){this.callback=e}call(e,t){return t.subscribe(new T(e,this.callback))}}class T extends Vn.L{constructor(e,t){super(e),this.add(new Xf.w(t))}}class R{constructor(e,t){this.id=e,this.url=t}}class U extends R{constructor(e,t,r="imperative",a=null){super(e,t),this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Q extends R{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pe extends R{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Me extends R{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ze extends R{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ge extends R{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vt extends R{constructor(e,t,r,a,c){super(e,t),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $t extends R{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jn extends R{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lr{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xn{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class es{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fu{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fi{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ts{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Os{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Dt="primary";class Uc{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Bc(n){return new Uc(n)}const jc="ngNavigationCancelingError";function wa(n){const e=Error("NavigationCancelingError: "+n);return e[jc]=!0,e}function gv(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const a={};for(let c=0;c<r.length;c++){const f=r[c],_=n[c];if(f.startsWith(":"))a[f.substring(1)]=_;else if(f!==_.path)return null}return{consumed:n.slice(0,r.length),posParams:a}}function Pi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let a;for(let c=0;c<t.length;c++)if(a=t[c],!mv(n[a],e[a]))return!1;return!0}function mv(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((a,c)=>r[c]===a)}return n===e}function Ia(n){return Array.prototype.concat.apply([],n)}function Tl(n){return n.length>0?n[n.length-1]:null}function cr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ps(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,Xt.D)(Promise.resolve(n)):(0,Je.of)(n)}const Dl={exact:function bm(n,e,t){if(!mu(n.segments,e.segments)||!qc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!bm(n.children[r],e.children[r],t))return!1;return!0},subset:hh},ki={exact:function(n,e){return Pi(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>mv(n[t],e[t]))},ignored:()=>!0};function $c(n,e,t){return Dl[t.paths](n.root,e.root,t.matrixParams)&&ki[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function hh(n,e,t){return Hc(n,e,e.segments,t)}function Hc(n,e,t,r){if(n.segments.length>t.length){const a=n.segments.slice(0,t.length);return!(!mu(a,t)||e.hasChildren()||!qc(a,t,r))}if(n.segments.length===t.length){if(!mu(n.segments,t)||!qc(n.segments,t,r))return!1;for(const a in e.children)if(!n.children[a]||!hh(n.children[a],e.children[a],r))return!1;return!0}{const a=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(mu(n.segments,a)&&qc(n.segments,a,r)&&n.children[Dt])&&Hc(n.children[Dt],e,c,r)}}function qc(n,e,t){return e.every((r,a)=>ki[t](n[a].parameters,r.parameters))}class gu{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bc(this.queryParams)),this._queryParamMap}toString(){return mw.serialize(this)}}class xt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,cr(t,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ph(this)}}class so{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Bc(this.parameters)),this._parameterMap}toString(){return _v(this)}}function mu(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class fh{}class tp{parse(e){const t=new _u(e);return new gu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var n;return`${`/${Zc(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(a=>`${Fo(t)}=${Fo(a)}`).join("&"):`${Fo(t)}=${Fo(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const mw=new tp;function ph(n){return n.segments.map(e=>_v(e)).join("/")}function Zc(n,e){if(!n.hasChildren())return ph(n);if(e){const t=n.children[Dt]?Zc(n.children[Dt],!1):"",r=[];return cr(n.children,(a,c)=>{c!==Dt&&r.push(`${c}:${Zc(a,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return cr(n.children,(r,a)=>{a===Dt&&(t=t.concat(e(r,a)))}),cr(n.children,(r,a)=>{a!==Dt&&(t=t.concat(e(r,a)))}),t}(n,(r,a)=>a===Dt?[Zc(n.children[Dt],!1)]:[`${a}:${Zc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Dt]?`${ph(n)}/${t[0]}`:`${ph(n)}/(${t.join("//")})`}}function Im(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fo(n){return Im(n).replace(/%3B/gi,";")}function oo(n){return Im(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gh(n){return decodeURIComponent(n)}function rp(n){return gh(n.replace(/\+/g,"%20"))}function _v(n){return`${oo(n.path)}${function(n){return Object.keys(n).map(e=>`;${oo(e)}=${oo(n[e])}`).join("")}(n.parameters)}`}const sp=/^[^\/()?;=#]+/;function Sl(n){const e=n.match(sp);return e?e[0]:""}const Cm=/^[^=?&#]+/,vv=/^[^?&#]+/;class _u{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xt([],{}):new xt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Dt]=new xt(e,t)),r}parseSegment(){const e=Sl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new so(gh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Sl(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const a=Sl(this.remaining);a&&(r=a,this.capture(r))}e[gh(t)]=gh(r)}parseQueryParam(e){const t=function(n){const e=n.match(Cm);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const f=function(n){const e=n.match(vv);return e?e[0]:""}(this.remaining);f&&(r=f,this.capture(r))}const a=rp(t),c=rp(r);if(e.hasOwnProperty(a)){let f=e[a];Array.isArray(f)||(f=[f],e[a]=f),f.push(c)}else e[a]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Sl(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let c;r.indexOf(":")>-1?(c=r.substr(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=Dt);const f=this.parseChildren();t[c]=1===Object.keys(f).length?f[Dt]:new xt([],f),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Tm{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=op(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=op(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Fi(e,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==e)}pathFromRoot(e){return Fi(e,this._root).map(t=>t.value)}}function op(n,e){if(n===e.value)return e;for(const t of e.children){const r=op(n,t);if(r)return r}return null}function Fi(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Fi(n,t);if(r.length)return r.unshift(e),r}return[]}class pi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ta(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Dm extends Tm{constructor(e,t){super(e),this.snapshot=t,up(this,e)}toString(){return this.snapshot.toString()}}function Am(n,e){const t=function(n,e){const f=new yh([],{},{},"",{},Dt,e,null,n.root,-1,{});return new Rm("",new pi(f,[]))}(n,e),r=new ur([new so("",{})]),a=new ur({}),c=new ur({}),f=new ur({}),_=new ur(""),w=new Rl(r,a,f,_,c,Dt,e,t.root);return w.snapshot=t.root,new Dm(new pi(w,[]),t)}class Rl{constructor(e,t,r,a,c,f,_,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=a,this.data=c,this.outlet=f,this.component=_,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ft.U)(e=>Bc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ft.U)(e=>Bc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Sm(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const a=t[r],c=t[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(c.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class yh{constructor(e,t,r,a,c,f,_,w,S,x,P){this.url=e,this.params=t,this.queryParams=r,this.fragment=a,this.data=c,this.outlet=f,this.component=_,this.routeConfig=w,this._urlSegment=S,this._lastPathIndex=x,this._resolve=P}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Bc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Rm extends Tm{constructor(e,t){super(t),this.url=e,up(this,t)}toString(){return xm(this._root)}}function up(n,e){e.value._routerState=n,e.children.forEach(t=>up(n,t))}function xm(n){const e=n.children.length>0?` { ${n.children.map(xm).join(", ")} } `:"";return`${n.value}${e}`}function Nm(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Pi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Pi(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Pi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Pi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function _h(n,e){return Pi(n.params,e.params)&&function(n,e){return mu(n,e)&&n.every((t,r)=>Pi(t.parameters,e[r].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||_h(n.parent,e.parent))}function zc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const a=function(n,e,t){return e.children.map(r=>{for(const a of t.children)if(n.shouldReuseRoute(r.value,a.value.snapshot))return zc(n,r,a);return zc(n,r)})}(n,e,t);return new pi(r,a)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const f=c.route;return ks(e,f),f}}const r=function(n){return new Rl(new ur(n.url),new ur(n.params),new ur(n.queryParams),new ur(n.fragment),new ur(n.data),n.outlet,n.component,n)}(e.value),a=e.children.map(c=>zc(n,c));return new pi(r,a)}}function ks(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)ks(n.children[t],e.children[t])}function Wc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function bu(n){return"object"==typeof n&&null!=n&&n.outlets}function Om(n,e,t,r,a){let c={};return r&&cr(r,(f,_)=>{c[_]=Array.isArray(f)?f.map(w=>`${w}`):`${f}`}),new gu(t.root===n?e:Ev(t.root,n,e),c,a)}function Ev(n,e,t){const r={};return cr(n.children,(a,c)=>{r[c]=a===e?t:Ev(a,e,t)}),new xt(n.segments,r)}class Eh{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Wc(r[0]))throw new Error("Root segment cannot have matrix parameters");const a=r.find(bu);if(a&&a!==Tl(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Kc{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Yc(n,e,t){if(n||(n=new xt([],{})),0===n.segments.length&&n.hasChildren())return wh(n,e,t);const r=function(n,e,t){let r=0,a=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(r>=t.length)return c;const f=n.segments[a],_=t[r];if(bu(_))break;const w=`${_}`,S=r<t.length-1?t[r+1]:null;if(a>0&&void 0===w)break;if(w&&S&&"object"==typeof S&&void 0===S.outlets){if(!cp(w,S,f))return c;r+=2}else{if(!cp(w,{},f))return c;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(n,e,t),a=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new xt(n.segments.slice(0,r.pathIndex),{});return c.children[Dt]=new xt(n.segments.slice(r.pathIndex),n.children),wh(c,0,a)}return r.match&&0===a.length?new xt(n.segments,{}):r.match&&!n.hasChildren()?lp(n,e,t):r.match?wh(n,0,a):lp(n,e,t)}function wh(n,e,t){if(0===t.length)return new xt(n.segments,{});{const r=function(n){return bu(n[0])?n[0].outlets:{[Dt]:n}}(t),a={};return cr(r,(c,f)=>{"string"==typeof c&&(c=[c]),null!==c&&(a[f]=Yc(n.children[f],e,c))}),cr(n.children,(c,f)=>{void 0===r[f]&&(a[f]=c)}),new xt(n.segments,a)}}function lp(n,e,t){const r=n.segments.slice(0,e);let a=0;for(;a<t.length;){const c=t[a];if(bu(c)){const w=Fm(c.outlets);return new xt(r,w)}if(0===a&&Wc(t[0])){r.push(new so(n.segments[e].path,Qc(t[0]))),a++;continue}const f=bu(c)?c.outlets[Dt]:`${c}`,_=a<t.length-1?t[a+1]:null;f&&_&&Wc(_)?(r.push(new so(f,Qc(_))),a+=2):(r.push(new so(f,{})),a++)}return new xt(r,{})}function Fm(n){const e={};return cr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=lp(new xt([],{}),0,t))}),e}function Qc(n){const e={};return cr(n,(t,r)=>e[r]=`${t}`),e}function cp(n,e,t){return n==t.path&&Pi(e,t.parameters)}class dp{constructor(e,t,r,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=a}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Nm(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const a=Ta(t);e.children.forEach(c=>{const f=c.value.outlet;this.deactivateRoutes(c,a[f],r),delete a[f]}),cr(a,(c,f)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,t,r){const a=e.value,c=t?t.value:null;if(a===c)if(a.component){const f=r.getContext(a.outlet);f&&this.deactivateChildRoutes(e,t,f.children)}else this.deactivateChildRoutes(e,t,r);else c&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const a=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),a=r&&e.value.component?r.children:t,c=Ta(e);for(const f of Object.keys(c))this.deactivateRouteAndItsChildren(c[f],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const a=Ta(t);e.children.forEach(c=>{this.activateRoutes(c,a[c.value.outlet],r),this.forwardEvent(new ts(c.value.snapshot))}),e.children.length&&this.forwardEvent(new fu(e.value.snapshot))}activateRoutes(e,t,r){const a=e.value,c=t?t.value:null;if(Nm(a),a===c)if(a.component){const f=r.getOrCreateContext(a.outlet);this.activateChildRoutes(e,t,f.children)}else this.activateChildRoutes(e,t,r);else if(a.component){const f=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const _=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),f.children.onOutletReAttached(_.contexts),f.attachRef=_.componentRef,f.route=_.route.value,f.outlet&&f.outlet.attach(_.componentRef,_.route.value),yn(_.route)}else{const _=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(a.snapshot),w=_?_.module.componentFactoryResolver:null;f.attachRef=null,f.route=a,f.resolver=w,f.outlet&&f.outlet.activateWith(a,w),this.activateChildRoutes(e,null,f.children)}}else this.activateChildRoutes(e,null,r)}}function yn(n){Nm(n.value),n.children.forEach(yn)}class hp{constructor(e,t){this.routes=e,this.module=t}}function ns(n){return"function"==typeof n}function Fs(n){return n instanceof gu}const Ch=Symbol("INITIAL_VALUE");function Jc(){return Un(n=>function(...n){let e,t;return(0,Mo.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,no.k)(n[0])&&(n=n[0]),(0,Pc.n)(n,t).lift(new ya(e))}(n.map(e=>e.pipe(uh(1),va(Ch)))).pipe(Po((e,t)=>{let r=!1;return t.reduce((a,c,f)=>a!==Ch?a:(c===Ch&&(r=!0),r||!1!==c&&f!==t.length-1&&!Fs(c)?a:c),e)},Ch),Oi(e=>e!==Ch),(0,ft.U)(e=>Fs(e)?e:!0===e),uh(1)))}let xl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},directives:function(){return[Qm]},encapsulation:2}),n})();function Tn(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Th(r,Um(e,r))}}function Th(n,e){n.children&&Tn(n.children,e)}function Um(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Dh(n){const e=n.children&&n.children.map(Dh),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Dt&&(t.component=xl),t}function an(n){return n.outlet||Dt}function wu(n,e){const t=n.filter(r=>an(r)===e);return t.push(...n.filter(r=>an(r)!==e)),t}const Tr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Nl(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Tr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(e.matcher||gv)(t,n,e);if(!c)return Object.assign({},Tr);const f={};cr(c.posParams,(w,S)=>{f[S]=w.path});const _=c.consumed.length>0?Object.assign(Object.assign({},f),c.consumed[c.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:_,positionalParamSegments:null!==(r=c.posParams)&&void 0!==r?r:{}}}function Ml(n,e,t,r,a="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>Pl(n,e,r)&&an(r)!==Dt)}(n,t,r)){const f=new xt(e,function(n,e,t,r){const a={};a[Dt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const c of t)if(""===c.path&&an(c)!==Dt){const f=new xt([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,a[an(c)]=f}return a}(n,e,r,new xt(t,n.children)));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>Pl(n,e,r))}(n,t,r)){const f=new xt(n.segments,function(n,e,t,r,a,c){const f={};for(const _ of r)if(Pl(n,t,_)&&!a[an(_)]){const w=new xt([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===c?n.segments.length:e.length,f[an(_)]=w}return Object.assign(Object.assign({},a),f)}(n,e,t,r,n.children,a));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:t}}const c=new xt(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}function Pl(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Ah(n,e,t,r){return!!(an(n)===r||r!==Dt&&Pl(e,t,n))&&("**"===n.path||Nl(e,n,t).matched)}function $m(n,e,t){return 0===e.length&&!n.children[t]}class Xc{constructor(e){this.segmentGroup=e||null}}class gp{constructor(e){this.urlTree=e}}function kl(n){return new Yr.y(e=>e.error(new Xc(n)))}function v(n){return new Yr.y(e=>e.error(new gp(n)))}function p(n){return new Yr.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class A{constructor(e,t,r,a,c){this.configLoader=t,this.urlSerializer=r,this.urlTree=a,this.config=c,this.allowRedirects=!0,this.ngModule=e.get(d.h0i)}apply(){const e=Ml(this.urlTree.root,[],[],this.config).segmentGroup,t=new xt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Dt).pipe((0,ft.U)(c=>this.createUrlTree(W(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(io(c=>{if(c instanceof gp)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof Xc?this.noMatchError(c):c}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Dt).pipe((0,ft.U)(a=>this.createUrlTree(W(a),e.queryParams,e.fragment))).pipe(io(a=>{throw a instanceof Xc?this.noMatchError(a):a}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const a=e.segments.length>0?new xt([],{[Dt]:e}):e;return new gu(a,t,r)}expandSegmentGroup(e,t,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,ft.U)(c=>new xt([],c))):this.expandSegment(e,r,t,r.segments,a,!0)}expandChildren(e,t,r){const a=[];for(const c of Object.keys(r.children))"primary"===c?a.unshift(c):a.push(c);return(0,Xt.D)(a).pipe(Ji(c=>{const f=r.children[c],_=wu(t,c);return this.expandSegmentGroup(e,_,f,c).pipe((0,ft.U)(w=>({segment:w,outlet:c})))}),Po((c,f)=>(c[f.outlet]=f.segment,c),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Oi((a,c)=>n(a,c,r)):Cr.y,Jf(1),t?Qr(e):ko(()=>new Oo))}())}expandSegment(e,t,r,a,c,f){return(0,Xt.D)(r).pipe(Ji(_=>this.expandSegmentAgainstRoute(e,t,r,_,a,c,f).pipe(io(S=>{if(S instanceof Xc)return(0,Je.of)(null);throw S}))),Ms(_=>!!_),io((_,w)=>{if(_ instanceof Oo||"EmptyError"===_.name){if($m(t,a,c))return(0,Je.of)(new xt([],{}));throw new Xc(t)}throw _}))}expandSegmentAgainstRoute(e,t,r,a,c,f,_){return Ah(a,t,c,f)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,t,a,c,f):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,a,c,f):kl(t):kl(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,a,c,f){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,a,f):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,a,c,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,a){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?v(c):this.lineralizeSegments(r,c).pipe((0,wn.zg)(f=>{const _=new xt(f,{});return this.expandSegment(e,_,t,f,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,a,c,f){const{matched:_,consumedSegments:w,lastChild:S,positionalParamSegments:x}=Nl(t,a,c);if(!_)return kl(t);const P=this.applyRedirectCommands(w,a.redirectTo,x);return a.redirectTo.startsWith("/")?v(P):this.lineralizeSegments(a,P).pipe((0,wn.zg)(H=>this.expandSegment(e,t,r,H.concat(c.slice(S)),f,!1)))}matchSegmentAgainstRoute(e,t,r,a,c){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,Je.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,ft.U)(H=>(r._loadedConfig=H,new xt(a,{})))):(0,Je.of)(new xt(a,{}));const{matched:f,consumedSegments:_,lastChild:w}=Nl(t,r,a);if(!f)return kl(t);const S=a.slice(w);return this.getChildConfig(e,r,a).pipe((0,wn.zg)(P=>{const H=P.module,K=P.routes,{segmentGroup:ye,slicedSegments:Fe}=Ml(t,_,S,K),qe=new xt(ye.segments,ye.children);if(0===Fe.length&&qe.hasChildren())return this.expandChildren(H,K,qe).pipe((0,ft.U)(lt=>new xt(_,lt)));if(0===K.length&&0===Fe.length)return(0,Je.of)(new xt(_,{}));const _t=an(r)===c;return this.expandSegment(H,qe,K,Fe,_t?Dt:c,!0).pipe((0,ft.U)(Lt=>new xt(_.concat(Lt.segments),Lt.children)))}))}getChildConfig(e,t,r){return t.children?(0,Je.of)(new hp(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Je.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,wn.zg)(a=>{return a?this.configLoader.load(e.injector,t).pipe((0,ft.U)(c=>(t._loadedConfig=c,c))):(n=t,new Yr.y(e=>e.error(wa(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Je.of)(new hp([],e))}runCanLoadGuards(e,t,r){const a=t.canLoad;if(!a||0===a.length)return(0,Je.of)(!0);const c=a.map(f=>{const _=e.get(f);let w;if((n=_)&&ns(n.canLoad))w=_.canLoad(t,r);else{if(!ns(_))throw new Error("Invalid CanLoad guard");w=_(t,r)}var n;return Ps(w)});return(0,Je.of)(c).pipe(Jc(),(0,Fr.b)(f=>{if(!Fs(f))return;const _=wa(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw _.url=f,_}),(0,ft.U)(f=>!0===f))}lineralizeSegments(e,t){let r=[],a=t.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return(0,Je.of)(r);if(a.numberOfChildren>1||!a.children[Dt])return p(e.redirectTo);a=a.children[Dt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,a){const c=this.createSegmentGroup(e,t.root,r,a);return new gu(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return cr(e,(a,c)=>{if("string"==typeof a&&a.startsWith(":")){const _=a.substring(1);r[c]=t[_]}else r[c]=a}),r}createSegmentGroup(e,t,r,a){const c=this.createSegments(e,t.segments,r,a);let f={};return cr(t.children,(_,w)=>{f[w]=this.createSegmentGroup(e,_,r,a)}),new xt(c,f)}createSegments(e,t,r,a){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,a):this.findOrReturn(c,r))}findPosParam(e,t,r){const a=r[t.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return a}findOrReturn(e,t){let r=0;for(const a of t){if(a.path===e.path)return t.splice(r),a;r++}return e}}function W(n){const e={};for(const r of Object.keys(n.children)){const c=W(n.children[r]);(c.segments.length>0||c.hasChildren())&&(e[r]=c)}return function(n){if(1===n.numberOfChildren&&n.children[Dt]){const e=n.children[Dt];return new xt(n.segments.concat(e.segments),e.children)}return n}(new xt(n.segments,e))}class Be{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class We{constructor(e,t){this.component=e,this.route=t}}function dt(n,e,t){const r=n._root;return er(r,e?e._root:null,t,[r.value])}function On(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function er(n,e,t,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=Ta(e);return n.children.forEach(f=>{(function(n,e,t,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,f=e?e.value:null,_=t?t.getContext(n.value.outlet):null;if(f&&c.routeConfig===f.routeConfig){const w=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!mu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!mu(n.url,e.url)||!Pi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_h(n,e)||!Pi(n.queryParams,e.queryParams);case"paramsChange":default:return!_h(n,e)}}(f,c,c.routeConfig.runGuardsAndResolvers);w?a.canActivateChecks.push(new Be(r)):(c.data=f.data,c._resolvedData=f._resolvedData),er(n,e,c.component?_?_.children:null:t,r,a),w&&_&&_.outlet&&_.outlet.isActivated&&a.canDeactivateChecks.push(new We(_.outlet.component,f))}else f&&Fl(e,_,a),a.canActivateChecks.push(new Be(r)),er(n,null,c.component?_?_.children:null:t,r,a)})(f,c[f.value.outlet],t,r.concat([f.value]),a),delete c[f.value.outlet]}),cr(c,(f,_)=>Fl(f,t.getContext(_),a)),a}function Fl(n,e,t){const r=Ta(n),a=n.value;cr(r,(c,f)=>{Fl(c,a.component?e?e.children.getContext(f):null:e,t)}),t.canDeactivateChecks.push(new We(a.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,a))}class Ew{}function iA(n){return new Yr.y(e=>e.error(n))}class cN{constructor(e,t,r,a,c,f){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=f}recognize(){const e=Ml(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Dt);if(null===t)return null;const r=new yh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Dt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new pi(r,t),c=new Rm(this.url,a);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(e){const t=e.value,r=Sm(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const c of Object.keys(t.children)){const f=t.children[c],_=wu(e,c),w=this.processSegmentGroup(_,f,c);if(null===w)return null;r.push(...w)}const a=ww(r);return a.sort((e,t)=>e.value.outlet===Dt?-1:t.value.outlet===Dt?1:e.value.outlet.localeCompare(t.value.outlet)),a}processSegment(e,t,r,a){for(const c of e){const f=this.processSegmentAgainstRoute(c,t,r,a);if(null!==f)return f}return $m(t,r,a)?[]:null}processSegmentAgainstRoute(e,t,r,a){if(e.redirectTo||!Ah(e,t,r,a))return null;let c,f=[],_=[];if("**"===e.path){const K=r.length>0?Tl(r).parameters:{};c=new yh(r,K,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Tv(e),an(e),e.component,e,Sh(t),Cv(t)+r.length,Zm(e))}else{const K=Nl(t,e,r);if(!K.matched)return null;f=K.consumedSegments,_=r.slice(K.lastChild),c=new yh(f,K.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Tv(e),an(e),e.component,e,Sh(t),Cv(t)+f.length,Zm(e))}const w=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:S,slicedSegments:x}=Ml(t,f,_,w.filter(K=>void 0===K.redirectTo),this.relativeLinkResolution);var n;if(0===x.length&&S.hasChildren()){const K=this.processChildren(w,S);return null===K?null:[new pi(c,K)]}if(0===w.length&&0===x.length)return[new pi(c,[])];const P=an(e)===a,H=this.processSegment(w,S,x,P?Dt:a);return null===H?null:[new pi(c,H)]}}function Iv(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ww(n){const e=[],t=new Set;for(const r of n){if(!Iv(r)){e.push(r);continue}const a=e.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==a?(a.children.push(...r.children),t.add(a)):e.push(r)}for(const r of t){const a=ww(r.children);e.push(new pi(r.value,a))}return e.filter(r=>!t.has(r))}function Sh(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Cv(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Tv(n){return n.data||{}}function Zm(n){return n.resolve||{}}function zm(n){return Un(e=>{const t=n(e);return t?(0,Xt.D)(t).pipe((0,ft.U)(()=>e)):(0,Je.of)(e)})}class aA extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Rv=new d.OlP("ROUTES");class Cw{constructor(e,t,r,a){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=a}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const a=this.loadModuleFactory(t.loadChildren).pipe((0,ft.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t);const f=c.create(e);return new hp(Ia(f.injector.get(Rv,void 0,d.XFs.Self|d.XFs.Optional)).map(Dh),f)}),io(c=>{throw t._loader$=void 0,c}));return t._loader$=new ro.c(a,()=>new Yi.xQ).pipe((0,dh.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,Xt.D)(this.loader.load(e)):Ps(e()).pipe((0,wn.zg)(t=>t instanceof d.YKP?(0,Je.of)(t):(0,Xt.D)(this.compiler.compileModuleAsync(t))))}}class uA{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new xh,this.attachRef=null}}class xh{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new uA,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Tw{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function xv(n){throw n}function Dw(n,e,t){return e.parse("/")}function Wm(n,e){return(0,Je.of)(null)}const cA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let tr=(()=>{class n{constructor(t,r,a,c,f,_,w,S){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=a,this.location=c,this.config=S,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Yi.xQ,this.errorHandler=xv,this.malformedUriErrorHandler=Dw,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Wm,afterPreactivation:Wm},this.urlHandlingStrategy=new Tw,this.routeReuseStrategy=new aA,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(d.h0i),this.console=f.get(d.c2e);const H=f.get(d.R0b);this.isNgZoneEnabled=H instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(S),this.currentUrlTree=new gu(new xt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Cw(_,w,K=>this.triggerEvent(new lr(K)),K=>this.triggerEvent(new Xn(K))),this.routerState=Am(this.currentUrlTree,this.rootComponentType),this.transitions=new ur({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Oi(a=>0!==a.id),(0,ft.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Un(a=>{let c=!1,f=!1;return(0,Je.of)(a).pipe((0,Fr.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.currentRawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Un(_=>{const w=this.browserUrlTree.toString(),S=!this.navigated||_.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return Aa(_.source)&&(this.browserUrlTree=_.extractedUrl),(0,Je.of)(_).pipe(Un(P=>{const H=this.transitions.getValue();return r.next(new U(P.id,this.serializeUrl(P.extractedUrl),P.source,P.restoredState)),H!==this.transitions.getValue()?Qi.E:Promise.resolve(P)}),function(n,e,t,r){return Un(a=>function(n,e,t,r,a){return new A(n,e,t,r,a).apply()}(n,e,t,a.extractedUrl,r).pipe((0,ft.U)(c=>Object.assign(Object.assign({},a),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Fr.b)(P=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:P.urlAfterRedirects})}),function(n,e,t,r,a){return(0,wn.zg)(c=>function(n,e,t,r,a="emptyOnly",c="legacy"){try{const f=new cN(n,e,t,r,a,c).recognize();return null===f?iA(new Ew):(0,Je.of)(f)}catch(f){return iA(f)}}(n,e,c.urlAfterRedirects,t(c.urlAfterRedirects),r,a).pipe((0,ft.U)(f=>Object.assign(Object.assign({},c),{targetSnapshot:f}))))}(this.rootComponentType,this.config,P=>this.serializeUrl(P),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Fr.b)(P=>{"eager"===this.urlUpdateStrategy&&(P.extras.skipLocationChange||this.setBrowserUrl(P.urlAfterRedirects,P),this.browserUrlTree=P.urlAfterRedirects);const H=new ze(P.id,this.serializeUrl(P.extractedUrl),this.serializeUrl(P.urlAfterRedirects),P.targetSnapshot);r.next(H)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:H,extractedUrl:K,source:ye,restoredState:Fe,extras:qe}=_,_t=new U(H,this.serializeUrl(K),ye,Fe);r.next(_t);const Mt=Am(K,this.rootComponentType).snapshot;return(0,Je.of)(Object.assign(Object.assign({},_),{targetSnapshot:Mt,urlAfterRedirects:K,extras:Object.assign(Object.assign({},qe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=_.rawUrl,this.browserUrlTree=_.urlAfterRedirects,_.resolve(null),Qi.E}),zm(_=>{const{targetSnapshot:w,id:S,extractedUrl:x,rawUrl:P,extras:{skipLocationChange:H,replaceUrl:K}}=_;return this.hooks.beforePreactivation(w,{navigationId:S,appliedUrlTree:x,rawUrlTree:P,skipLocationChange:!!H,replaceUrl:!!K})}),(0,Fr.b)(_=>{const w=new Ge(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),(0,ft.U)(_=>Object.assign(Object.assign({},_),{guards:dt(_.targetSnapshot,_.currentSnapshot,this.rootContexts)})),function(n,e){return(0,wn.zg)(t=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:c,canDeactivateChecks:f}}=t;return 0===f.length&&0===c.length?(0,Je.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return(0,Xt.D)(n).pipe((0,wn.zg)(a=>function(n,e,t,r,a){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,Je.of)(!0);const f=c.map(_=>{const w=On(_,e,a);let S;if(function(n){return n&&ns(n.canDeactivate)}(w))S=Ps(w.canDeactivate(n,e,t,r));else{if(!ns(w))throw new Error("Invalid CanDeactivate guard");S=Ps(w(n,e,t,r))}return S.pipe(Ms())});return(0,Je.of)(f).pipe(Jc())}(a.component,a.route,t,e,r)),Ms(a=>!0!==a,!0))}(f,r,a,n).pipe((0,wn.zg)(_=>_&&function(n){return"boolean"==typeof n}(_)?function(n,e,t,r){return(0,Xt.D)(e).pipe(Ji(a=>wl(function(n,e){return null!==n&&e&&e(new es(n)),(0,Je.of)(!0)}(a.route.parent,r),function(n,e){return null!==n&&e&&e(new fi(n)),(0,Je.of)(!0)}(a.route,r),function(n,e,t){const r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(f=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(f)).filter(f=>null!==f).map(f=>Rs(()=>{const _=f.guards.map(w=>{const S=On(w,f.node,t);let x;if(function(n){return n&&ns(n.canActivateChild)}(S))x=Ps(S.canActivateChild(r,n));else{if(!ns(S))throw new Error("Invalid CanActivateChild guard");x=Ps(S(r,n))}return x.pipe(Ms())});return(0,Je.of)(_).pipe(Jc())}));return(0,Je.of)(c).pipe(Jc())}(n,a.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Je.of)(!0);const a=r.map(c=>Rs(()=>{const f=On(c,e,t);let _;if(function(n){return n&&ns(n.canActivate)}(f))_=Ps(f.canActivate(e,n));else{if(!ns(f))throw new Error("Invalid CanActivate guard");_=Ps(f(e,n))}return _.pipe(Ms())}));return(0,Je.of)(a).pipe(Jc())}(n,a.route,t))),Ms(a=>!0!==a,!0))}(r,c,n,e):(0,Je.of)(_)),(0,ft.U)(_=>Object.assign(Object.assign({},t),{guardsResult:_})))})}(this.ngModule.injector,_=>this.triggerEvent(_)),(0,Fr.b)(_=>{if(Fs(_.guardsResult)){const S=wa(`Redirecting to "${this.serializeUrl(_.guardsResult)}"`);throw S.url=_.guardsResult,S}const w=new Vt(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.triggerEvent(w)}),Oi(_=>!!_.guardsResult||(this.restoreHistory(_),this.cancelNavigationTransition(_,""),!1)),zm(_=>{if(_.guards.canActivateChecks.length)return(0,Je.of)(_).pipe((0,Fr.b)(w=>{const S=new $t(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(S)}),Un(w=>{let S=!1;return(0,Je.of)(w).pipe(function(n,e){return(0,wn.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=t;if(!a.length)return(0,Je.of)(t);let c=0;return(0,Xt.D)(a).pipe(Ji(f=>function(n,e,t,r){return function(n,e,t,r){const a=Object.keys(n);if(0===a.length)return(0,Je.of)({});const c={};return(0,Xt.D)(a).pipe((0,wn.zg)(f=>function(n,e,t,r){const a=On(n,e,r);return Ps(a.resolve?a.resolve(e,t):a(e,t))}(n[f],e,t,r).pipe((0,Fr.b)(_=>{c[f]=_}))),Jf(1),(0,wn.zg)(()=>Object.keys(c).length===a.length?(0,Je.of)(c):Qi.E))}(n._resolve,n,e,r).pipe((0,ft.U)(c=>(n._resolvedData=c,n.data=Object.assign(Object.assign({},n.data),Sm(n,t).resolve),null)))}(f.route,r,n,e)),(0,Fr.b)(()=>c++),Jf(1),(0,wn.zg)(f=>c===a.length?(0,Je.of)(t):Qi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Fr.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),(0,Fr.b)(w=>{const S=new Jn(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(S)}))}),zm(_=>{const{targetSnapshot:w,id:S,extractedUrl:x,rawUrl:P,extras:{skipLocationChange:H,replaceUrl:K}}=_;return this.hooks.afterPreactivation(w,{navigationId:S,appliedUrlTree:x,rawUrlTree:P,skipLocationChange:!!H,replaceUrl:!!K})}),(0,ft.U)(_=>{const w=function(n,e,t){const r=zc(n,e._root,t?t._root:void 0);return new Dm(r,e)}(this.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return Object.assign(Object.assign({},_),{targetRouterState:w})}),(0,Fr.b)(_=>{this.currentUrlTree=_.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_),this.browserUrlTree=_.urlAfterRedirects)}),((n,e,t)=>(0,ft.U)(r=>(new dp(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,_=>this.triggerEvent(_)),(0,Fr.b)({next(){c=!0},complete(){c=!0}}),function(n){return e=>e.lift(new I(n))}(()=>{if(!c&&!f){const _=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,_)):this.cancelNavigationTransition(a,_)}this.currentNavigation=null}),io(_=>{if(f=!0,function(n){return n&&n[jc]}(_)){const w=Fs(_.url);w||(this.navigated=!0,this.restoreHistory(a,!0));const S=new pe(a.id,this.serializeUrl(a.extractedUrl),_.message);r.next(S),w?setTimeout(()=>{const x=this.urlHandlingStrategy.merge(_.url,this.rawUrlTree),P={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Aa(a.source)};this.scheduleNavigation(x,"imperative",null,P,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const w=new Me(a.id,this.serializeUrl(a.extractedUrl),_);r.next(w);try{a.resolve(this.errorHandler(_))}catch(S){a.reject(S)}}return Qi.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:a,state:c,urlTree:f}=r,_={replaceUrl:!0};if(c){const w=Object.assign({},c);delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(_.state=w)}this.scheduleNavigation(f,a,c,_)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const a=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!a||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Tn(t),this.config=t.map(Dh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:a,queryParams:c,fragment:f,queryParamsHandling:_,preserveFragment:w}=r,S=a||this.routerState.root,x=w?this.currentUrlTree.fragment:f;let P=null;switch(_){case"merge":P=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":P=this.currentUrlTree.queryParams;break;default:P=c||null}return null!==P&&(P=this.removeEmptyProps(P)),function(n,e,t,r,a){if(0===t.length)return Om(e.root,e.root,e,r,a);const c=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Eh(!0,0,n);let e=0,t=!1;const r=n.reduce((a,c,f)=>{if("object"==typeof c&&null!=c){if(c.outlets){const _={};return cr(c.outlets,(w,S)=>{_[S]="string"==typeof w?w.split("/"):w}),[...a,{outlets:_}]}if(c.segmentPath)return[...a,c.segmentPath]}return"string"!=typeof c?[...a,c]:0===f?(c.split("/").forEach((_,w)=>{0==w&&"."===_||(0==w&&""===_?t=!0:".."===_?e++:""!=_&&a.push(_))}),a):[...a,c]},[]);return new Eh(t,e,r)}(t);if(c.toRoot())return Om(e.root,new xt([],{}),e,r,a);const f=function(n,e,t){if(n.isAbsolute)return new Kc(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const c=t.snapshot._urlSegment;return new Kc(c,c===e.root,0)}const r=Wc(n.commands[0])?0:1;return function(n,e,t){let r=n,a=e,c=t;for(;c>a;){if(c-=a,r=r.parent,!r)throw new Error("Invalid number of '../'");a=r.segments.length}return new Kc(r,!1,a-c)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(c,e,n),_=f.processChildren?wh(f.segmentGroup,f.index,c.commands):Yc(f.segmentGroup,f.index,c.commands);return Om(f.segmentGroup,_,e,r,a)}(S,this.currentUrlTree,t,P,null!=x?x:null)}navigateByUrl(t,r={skipLocationChange:!1}){const a=Fs(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return r}isActive(t,r){let a;if(a=!0===r?Object.assign({},cA):!1===r?Object.assign({},dA):r,Fs(t))return $c(this.currentUrlTree,t,a);const c=this.parseUrl(t);return $c(this.currentUrlTree,c,a)}removeEmptyProps(t){return Object.keys(t).reduce((r,a)=>{const c=t[a];return null!=c&&(r[a]=c),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Q(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,a,c,f){var _,w;if(this.disposed)return Promise.resolve(!1);const S=this.getTransition(),x=Aa(r)&&S&&!Aa(S.source),K=(this.lastSuccessfulId===S.id||this.currentNavigation?S.rawUrl:S.urlAfterRedirects).toString()===t.toString();if(x&&K)return Promise.resolve(!0);let ye,Fe,qe;f?(ye=f.resolve,Fe=f.reject,qe=f.promise):qe=new Promise((Lt,lt)=>{ye=Lt,Fe=lt});const _t=++this.navigationId;let Mt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),Mt=a&&a.\u0275routerPageId?a.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(w=this.browserPageId)&&void 0!==w?w:0)+1):Mt=0,this.setTransition({id:_t,targetPageId:Mt,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:c,resolve:ye,reject:Fe,promise:qe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),qe.catch(Lt=>Promise.reject(Lt))}setBrowserUrl(t,r){const a=this.urlSerializer.serialize(t),c=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",c):this.location.go(a,"",c)}restoreHistory(t,r=!1){var a,c;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===f?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===f&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const a=new pe(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.DyG),d.LFG(fh),d.LFG(xh),d.LFG(Le),d.LFG(d.zs3),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(void 0))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Aa(n){return"imperative"!==n}let bp=(()=>{class n{constructor(t,r,a){this.router=t,this.route=r,this.locationStrategy=a,this.commands=[],this.onChanges=new Yi.xQ,this.subscription=t.events.subscribe(c=>{c instanceof Q&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,a,c,f){if(0!==t||r||a||c||f||"string"==typeof this.target&&"_self"!=this.target)return!0;const _={skipLocationChange:Nh(this.skipLocationChange),replaceUrl:Nh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,_),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Nh(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(tr),d.Y36(Rl),d.Y36(G))},n.\u0275dir=d.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&d.NdJ("click",function(c){return r.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&t&&(d.Ikx("href",r.href,d.LSH),d.uIk("target",r.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[d.TTD]}),n})();function Nh(n){return""===n||!!n}let Qm=(()=>{class n{constructor(t,r,a,c,f){this.parentContexts=t,this.location=r,this.resolver=a,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.name=c||Dt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const f=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),_=this.parentContexts.getOrCreateContext(this.name).children,w=new Sw(t,_,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,w),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(xh),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class Sw{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Rl?this.route:e===xh?this.childContexts:this.parent.get(e,t)}}class Nv{}class Ov{preload(e,t){return(0,Je.of)(null)}}let wp=(()=>{class n{constructor(t,r,a,c,f){this.router=t,this.injector=c,this.preloadingStrategy=f,this.loader=new Cw(r,a,S=>t.triggerEvent(new lr(S)),S=>t.triggerEvent(new Xn(S)))}setUpPreloading(){this.subscription=this.router.events.pipe(Oi(t=>t instanceof Q),Ji(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(d.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const a=[];for(const c of r)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const f=c._loadedConfig;a.push(this.processRoutes(f.module,f.routes))}else c.loadChildren&&!c.canLoad?a.push(this.preloadConfig(t,c)):c.children&&a.push(this.processRoutes(t,c.children));return(0,Xt.D)(a).pipe((0,di.J)(),(0,ft.U)(c=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,Je.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,wn.zg)(c=>(r._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(tr),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(Nv))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Mh=(()=>{class n{constructor(t,r,a={}){this.router=t,this.viewportScroller=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof U?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Q&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Os&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Os(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(tr),d.LFG(Co),d.LFG(void 0))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Iu=new d.OlP("ROUTER_CONFIGURATION"),Pv=new d.OlP("ROUTER_FORROOT_GUARD"),Ip=[Le,{provide:fh,useClass:tp},{provide:tr,useFactory:function(n,e,t,r,a,c,f,_={},w,S){const x=new tr(null,n,e,t,r,a,c,Ia(f));return w&&(x.urlHandlingStrategy=w),S&&(x.routeReuseStrategy=S),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(_,x),_.enableTracing&&x.events.subscribe(P=>{var H,K;null===(H=console.group)||void 0===H||H.call(console,`Router Event: ${P.constructor.name}`),console.log(P.toString()),console.log(P),null===(K=console.groupEnd)||void 0===K||K.call(console)}),x},deps:[fh,xh,Le,d.zs3,d.v3s,d.Sil,Rv,Iu,[class{},new d.FiY],[class{},new d.FiY]]},xh,{provide:Rl,useFactory:function(n){return n.routerState.root},deps:[tr]},{provide:d.v3s,useClass:d.EAV},wp,Ov,class{preload(e,t){return t().pipe(io(()=>(0,Je.of)(null)))}},{provide:Iu,useValue:{enableTracing:!1}}];function pA(){return new d.PXZ("Router",tr)}let Jm=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Ip,Xm(t),{provide:Pv,useFactory:Rw,deps:[[tr,new d.FiY,new d.tp0]]},{provide:Iu,useValue:r||{}},{provide:G,useFactory:mA,deps:[ce,[new d.tBr(be),new d.FiY],Iu]},{provide:Mh,useFactory:gA,deps:[tr,Co,Iu]},{provide:Nv,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Ov},{provide:d.PXZ,multi:!0,useFactory:pA},[Fv,{provide:d.ip1,multi:!0,useFactory:Mw,deps:[Fv]},{provide:Ow,useFactory:yA,deps:[Fv]},{provide:d.tb,multi:!0,useExisting:Ow}]]}}static forChild(t){return{ngModule:n,providers:[Xm(t)]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Pv,8),d.LFG(tr,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function gA(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Mh(n,e,t)}function mA(n,e,t={}){return t.useHash?new Te(n,e):new he(n,e)}function Rw(n){return"guarded"}function Xm(n){return[{provide:d.deG,multi:!0,useValue:n},{provide:Rv,multi:!0,useValue:n}]}let Fv=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Yi.xQ}appInitializer(){return this.injector.get(k,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const a=new Promise(_=>r=_),c=this.injector.get(tr),f=this.injector.get(Iu);return"disabled"===f.initialNavigation?(c.setUpLocationChangeListener(),r(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?(0,Je.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),c.initialNavigation()):r(!0),a})}bootstrapListener(t){const r=this.injector.get(Iu),a=this.injector.get(wp),c=this.injector.get(Mh),f=this.injector.get(tr),_=this.injector.get(d.z2F);t===_.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&f.initialNavigation(),a.setUpPreloading(),c.init(),f.resetRootComponentType(_.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Mw(n){return n.appInitializer.bind(n)}function yA(n){return n.bootstrapListener.bind(n)}const Ow=new d.OlP("Router Initializer");var yi=V(8939),_A=V(6682),Cp=V(309),vA=V(7771),EA=V(8858);class Pw extends Yi.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new bA(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,c=r.length;let f;if(this.closed)throw new Ss.N;if(this.isStopped||this.hasError?f=Xf.w.EMPTY:(this.observers.push(e),f=new EA.W(this,e)),a&&e.add(e=new Cp.ht(e,a)),t)for(let _=0;_<c&&!e.closed;_++)e.next(r[_]);else for(let _=0;_<c&&!e.closed;_++)e.next(r[_].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),f}_getNow(){return(this.scheduler||vA.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,a=this._events,c=a.length;let f=0;for(;f<c&&!(e-a[f].time<r);)f++;return c>t&&(f=Math.max(f,c-t)),f>0&&a.splice(0,f),a}}class bA{constructor(e,t){this.time=e,this.value=t}}function kw(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},a=>a.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let a,f,c=0,_=!1,w=!1;return function(x){let P;c++,!a||_?(_=!1,a=new Pw(n,e,r),P=a.subscribe(this),f=x.subscribe({next(H){a.next(H)},error(H){_=!0,a.error(H)},complete(){w=!0,f=void 0,a.complete()}}),w&&(f=void 0)):P=a.subscribe(this),this.add(()=>{c--,P.unsubscribe(),P=void 0,f&&!w&&t&&0===c&&(f.unsubscribe(),f=void 0,a=void 0)})}}(r))}function bt(n,e){return e?Un(()=>n,e):Un(()=>n)}var ey=V(3101),Dn=V(6643);V(2329);var me=V(8239),Sa=V(5452),Oh=V(6034),wt=V(3854),Cu=V(5601);const jv=new Map,TA={activated:!1,tokenObservers:[]},$v={initialized:!1,enabled:!1};function ss(n){return jv.get(n)||TA}function Tu(n,e){jv.set(n,e)}function Hv(){return $v}class vN{constructor(e,t,r,a,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,me.Z)(function*(){t.stop();try{t.pending=new wt.BH,yield(n=t.getNextRun(e),new Promise(e=>{setTimeout(e,n)})),t.pending.resolve(),yield t.pending.promise,t.pending=new wt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}var n})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ao=new wt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function ty(n){if(!ss(n).activated)throw ao.create("use-before-activation",{appName:n.name})}function qv(n,e){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,me.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});a&&(r["X-Firebase-Client"]=a.getPlatformInfoString());const c={method:"POST",body:JSON.stringify(e),headers:r};let f,_;try{f=yield fetch(n,c)}catch(P){throw ao.create("fetch-network-error",{originalErrorMessage:P.message})}if(200!==f.status)throw ao.create("fetch-status-error",{httpStatus:f.status});try{_=yield f.json()}catch(P){throw ao.create("fetch-parse-error",{originalErrorMessage:P.message})}const w=_.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw ao.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const S=1e3*Number(w[1]),x=Date.now();return{token:_.attestationToken,expireTimeMillis:x+S,issuedAtTimeMillis:x}})).apply(this,arguments)}function Gv(n,e){const{projectId:t,appId:r,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const Ph="firebase-app-check-store";let Zv=null;function ny(){return Zv||(Zv=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var a;e(ao.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=r=>{const a=r.target.result;switch(r.oldVersion){case 0:a.createObjectStore(Ph,{keyPath:"compositeKey"})}}}catch(t){e(ao.create("storage-open",{originalErrorMessage:t.message}))}}),Zv)}function Bl(){return(Bl=(0,me.Z)(function*(n,e){const r=(yield ny()).transaction(Ph,"readwrite"),c=r.objectStore(Ph).put({compositeKey:n,value:e});return new Promise((f,_)=>{c.onsuccess=w=>{f()},r.onerror=w=>{var S;_(ao.create("storage-set",{originalErrorMessage:null===(S=w.target.error)||void 0===S?void 0:S.message}))}})})).apply(this,arguments)}const Au=new Cu.Yd("@firebase/app-check");function zv(n,e){return(0,wt.hl)()?function(n,e){return function(n,e){return Bl.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Au.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Kv(){return Hv().enabled}function Sp(){return Yv.apply(this,arguments)}function Yv(){return(Yv=(0,me.Z)(function*(){const n=Hv();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const wN={error:"UNKNOWN_ERROR"};function Hw(n){return wt.US.encodeString(JSON.stringify(n),!1)}function Rp(n){return Qv.apply(this,arguments)}function Qv(){return(Qv=(0,me.Z)(function*(n,e=!1){const t=n.app;ty(t);const r=ss(t);let c,f,a=r.token;if(!a){const _=yield r.cachedTokenPromise;_&&xp(_)&&(a=_,Tu(t,Object.assign(Object.assign({},r),{token:a})),os(t,{token:a.token}))}if(!e&&a&&xp(a))return{token:a.token};if(Kv()){const _=yield qv(Gv(t,yield Sp()),n.platformLoggerProvider);return yield zv(t,_),Tu(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{a=yield r.provider.getToken()}catch(_){Au.error(_),c=_}return a?(f={token:a.token},Tu(t,Object.assign(Object.assign({},r),{token:a})),yield zv(t,a)):f=kA(c),os(t,f),f})).apply(this,arguments)}function Xv(n,e){const t=ss(n),r=t.tokenObservers.filter(a=>a.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Tu(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function os(n,e){const t=ss(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(a){}}function xp(n){return n.expireTimeMillis-Date.now()>0}function kA(n){return{token:Hw(wN),error:n}}class IN{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=ss(this.app);for(const t of e)Xv(this.app,t.next);return Promise.resolve()}}const Kw="app-check-internal";(0,Sa._registerComponent)(new Oh.wA("app-check",n=>function(n,e){return new IN(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Kw).initialize()})),(0,Sa._registerComponent)(new Oh.wA(Kw,n=>function(n){return{getToken:e=>Rp(n,e),addTokenListener:e=>function(n,e,t,r){const{app:a}=n,c=ss(a),f={next:t,error:r,type:e},_=Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,f]});if(!_.tokenRefresher){const w=function(n){const{app:e}=n;return new vN((0,me.Z)(function*(){let r;if(r=ss(e).token?yield Rp(n,!0):yield Rp(n),r.error)throw r.error}),()=>!0,()=>{const t=ss(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n);_.tokenRefresher=w}if(!_.tokenRefresher.isRunning()&&c.isTokenAutoRefreshEnabled&&_.tokenRefresher.start(),c.token&&xp(c.token)){const w=c.token;Promise.resolve().then(()=>t({token:w.token})).catch(()=>{})}else null==c.token&&c.cachedTokenPromise.then(w=>{w&&xp(w)&&t({token:w.token})}).catch(()=>{});Tu(a,_)}(n,"INTERNAL",e),removeTokenListener:e=>Xv(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Sa.registerVersion)("@firebase/app-check","0.4.2");class oy{constructor(){return(0,Dn.vb)("app-check")}}"undefined"!=typeof window&&window;var uE=V(7841);const lE=new d.OlP("angularfire2.auth.use-emulator"),cE=new d.OlP("angularfire2.auth.settings"),dE=new d.OlP("angularfire2.auth.tenant-id"),hE=new d.OlP("angularfire2.auth.langugage-code"),Ra=new d.OlP("angularfire2.auth.use-device-language"),Np=new d.OlP("angularfire.auth.persistence"),eI=(n,e,t,r,a,c,f,_)=>(0,yi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=a,c&&w.useDeviceLanguage(),f)for(const[S,x]of Object.entries(f))w.settings[S]=x;return _&&w.setPersistence(_),w},[t,r,a,c,f,_]);let uy=(()=>{class n{constructor(t,r,a,c,f,_,w,S,x,P,H,K){const ye=new Yi.xQ,Fe=(0,Je.of)(void 0).pipe((0,Cp.QV)(f.outsideAngular),Un(()=>c.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,4671)))),(0,ft.U)(()=>(0,yi.on)(t,c,r)),(0,ft.U)(qe=>eI(qe,c,_,S,x,P,w,H)),kw({bufferSize:1,refCount:!1}));if(Io(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Je.of)(null);else{Fe.pipe(Ms()).subscribe();const _t=Fe.pipe(Un(lt=>lt.getRedirectResult().then(_n=>_n,()=>null)),Dn.iC,kw({bufferSize:1,refCount:!1})),Mt=Fe.pipe(Un(lt=>new Yr.y(_n=>({unsubscribe:c.runOutsideAngular(()=>lt.onAuthStateChanged(si=>_n.next(si),si=>_n.error(si),()=>_n.complete()))})))),Lt=Fe.pipe(Un(lt=>new Yr.y(_n=>({unsubscribe:c.runOutsideAngular(()=>lt.onIdTokenChanged(si=>_n.next(si),si=>_n.error(si),()=>_n.complete()))}))));this.authState=_t.pipe(bt(Mt),(0,ey.R)(f.outsideAngular),(0,Cp.QV)(f.insideAngular)),this.user=_t.pipe(bt(Lt),(0,ey.R)(f.outsideAngular),(0,Cp.QV)(f.insideAngular)),this.idToken=this.user.pipe(Un(lt=>lt?(0,Xt.D)(lt.getIdToken()):(0,Je.of)(null))),this.idTokenResult=this.user.pipe(Un(lt=>lt?(0,Xt.D)(lt.getIdTokenResult()):(0,Je.of)(null))),this.credential=(0,_A.T)(_t,ye,this.authState.pipe(Oi(lt=>!lt))).pipe((0,ft.U)(lt=>(null==lt?void 0:lt.user)?lt:null),(0,ey.R)(f.outsideAngular),(0,Cp.QV)(f.insideAngular))}return(0,yi.pX)(this,Fe,c,{spy:{apply:(qe,_t,Mt)=>{(qe.startsWith("signIn")||qe.startsWith("createUser"))&&Mt.then(Lt=>ye.next(Lt))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(yi.Dh),d.LFG(yi.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Dn.HU),d.LFG(lE,8),d.LFG(cE,8),d.LFG(dE,8),d.LFG(hE,8),d.LFG(Ra,8),d.LFG(Np,8),d.LFG(oy,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),MN=(()=>{class n{constructor(){uE.Z.registerVersion("angularfire",Dn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[uy]}),n})();var ed=V(3637);function ly(){return n=>n.lift(new Mp)}class Mp{call(e,t){return t.subscribe(new Op(e))}}class Op extends Vn.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class fE{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new tI(e,this.compare,this.keySelector))}}class tI extends Vn.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:a}=this;t=a?a(e):e}catch(a){return this.destination.error(a)}let r=!1;if(this.hasKey)try{const{compare:a}=this;r=a(this.key,t)}catch(a){return this.destination.error(a)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}V(4671);var Ke,pE=V(4486),ZA="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Bo={},gE=gE||{},It=ZA||self;function Ru(){}function cy(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Pp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var $l="closure_uid_"+(1e9*Math.random()>>>0),WA=0;function KA(n,e,t){return n.call.apply(n.bind,arguments)}function YA(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,r),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function Jr(n,e,t){return(Jr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?KA:YA).apply(null,arguments)}function mE(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Xr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,a,c){for(var f=Array(arguments.length-2),_=2;_<arguments.length;_++)f[_-2]=arguments[_];return e.prototype[a].apply(r,f)}}function xu(){this.s=this.s,this.o=this.o}var yE={};xu.prototype.s=!1,xu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,$l)&&n[$l]||(n[$l]=++WA)}(this);delete yE[n]}},xu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const QA=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},xa=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,a="string"==typeof n?n.split(""):n;for(let c=0;c<r;c++)c in a&&e.call(t,a[c],c,n)};function dy(n){return Array.prototype.concat.apply([],arguments)}function nI(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function hy(n){return/^[\s\xa0]*$/.test(n)}var vi,rI=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function _i(n,e){return-1!=n.indexOf(e)}function fy(n,e){return n<e?-1:n>e?1:0}e:{var vE=It.navigator;if(vE){var iI=vE.userAgent;if(iI){vi=iI;break e}}vi=""}function EE(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Lh(n){const e={};for(const t in n)e[t]=n[t];return e}var py="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bE(n,e){let t,r;for(let a=1;a<arguments.length;a++){for(t in r=arguments[a],r)n[t]=r[t];for(let c=0;c<py.length;c++)t=py[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function gy(n){return gy[" "](n),n}gy[" "]=Ru;var kp,n,oI=_i(vi,"Opera"),Vh=_i(vi,"Trident")||_i(vi,"MSIE"),aI=_i(vi,"Edge"),wE=aI||Vh,uI=_i(vi,"Gecko")&&!(_i(vi.toLowerCase(),"webkit")&&!_i(vi,"Edge"))&&!(_i(vi,"Trident")||_i(vi,"MSIE"))&&!_i(vi,"Edge"),lI=_i(vi.toLowerCase(),"webkit")&&!_i(vi,"Edge");function JA(){var n=It.document;return n?n.documentMode:void 0}e:{var IE="",CE=(n=vi,uI?/rv:([^\);]+)(\)|;)/.exec(n):aI?/Edge\/([\d\.]+)/.exec(n):Vh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):lI?/WebKit\/(\S+)/.exec(n):oI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(CE&&(IE=CE?CE[1]:""),Vh){var cI=JA();if(null!=cI&&cI>parseFloat(IE)){kp=String(cI);break e}}kp=IE}var PN={};function TE(){return e=PN,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=rI(String(kp)).split("."),t=rI("9").split("."),r=Math.max(e.length,t.length);for(let f=0;0==n&&f<r;f++){var a=e[f]||"",c=t[f]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==a[0].length&&0==c[0].length)break;n=fy(0==a[1].length?0:parseInt(a[1],10),0==c[1].length?0:parseInt(c[1],10))||fy(0==a[2].length,0==c[2].length)||fy(a[2],c[2]),a=a[3],c=c[3]}while(0==n)}return 0<=n}();var e}var dI=It.document&&Vh&&(JA()||parseInt(kp,10))||void 0,kN=function(){if(!It.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{It.addEventListener("test",Ru,e),It.removeEventListener("test",Ru,e)}catch(t){}return n}();function In(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function my(n,e){if(In.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(uI){e:{try{gy(e.nodeName);var a=!0;break e}catch(c){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:FN[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&my.Z.h.call(this)}}In.prototype.h=function(){this.defaultPrevented=!0},Xr(my,In);var FN={2:"touch",3:"pen",4:"mouse"};my.prototype.h=function(){my.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var yy="closure_listenable_"+(1e6*Math.random()|0),hI=0;function fI(n,e,t,r,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=a,this.key=++hI,this.ca=this.fa=!1}function Fp(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function _y(n){this.src=n,this.g={},this.h=0}function pI(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],a=QA(r,e);(c=0<=a)&&Array.prototype.splice.call(r,a,1),c&&(Fp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function vy(n,e,t,r){for(var a=0;a<n.length;++a){var c=n[a];if(!c.ca&&c.listener==e&&c.capture==!!t&&c.ia==r)return a}return-1}_y.prototype.add=function(n,e,t,r,a){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var f=vy(n,e,r,a);return-1<f?(e=n[f],t||(e.fa=!1)):((e=new fI(e,this.src,c,!!r,a)).fa=t,n.push(e)),e};var Lp="closure_lm_"+(1e6*Math.random()|0),SE={};function Ey(n,e,t,r,a){if(r&&r.once)return mI(n,e,t,r,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)Ey(n,e[c],t,r,a);return null}return t=Ls(t),n&&n[yy]?n.N(e,t,Pp(r)?!!r.capture:!!r,a):gI(n,e,t,!1,r,a)}function gI(n,e,t,r,a,c){if(!e)throw Error("Invalid event type");var f=Pp(a)?!!a.capture:!!a,_=Hl(n);if(_||(n[Lp]=_=new _y(n)),(t=_.add(e,t,r,f,c)).proxy)return t;if(r=function(){var e=by;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)kN||(a=f),void 0===a&&(a=!1),n.addEventListener(e.toString(),r,a);else if(n.attachEvent)n.attachEvent(_I(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function mI(n,e,t,r,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)mI(n,e[c],t,r,a);return null}return t=Ls(t),n&&n[yy]?n.O(e,t,Pp(r)?!!r.capture:!!r,a):gI(n,e,t,!0,r,a)}function yI(n,e,t,r,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)yI(n,e[c],t,r,a);else r=Pp(r)?!!r.capture:!!r,t=Ls(t),n&&n[yy]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=vy(c=n.g[e],t,r,a))&&(Fp(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=Hl(n))&&(e=n.g[e.toString()],n=-1,e&&(n=vy(e,t,r,a)),(t=-1<n?e[n]:null)&&RE(t))}function RE(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[yy])pI(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(_I(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Hl(e))?(pI(t,n),0==t.h&&(t.src=null,e[Lp]=null)):Fp(n)}}}function _I(n){return n in SE?SE[n]:SE[n]="on"+n}function by(n,e){if(n.ca)n=!0;else{e=new my(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&RE(n),n=t.call(r,e)}return n}function Hl(n){return(n=n[Lp])instanceof _y?n:null}var wy="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ls(n){return"function"==typeof n?n:(n[wy]||(n[wy]=function(e){return n.handleEvent(e)}),n[wy])}function Hn(){xu.call(this),this.i=new _y(this),this.P=this,this.I=null}function ei(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new In(e,n);else if(e instanceof In)e.target=e.target||n;else{var a=e;bE(e=new In(r,n),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var f=e.g=t[c];a=Iy(f,r,!0,e)&&a}if(a=Iy(f=e.g=n,r,!0,e)&&a,a=Iy(f,r,!1,e)&&a,t)for(c=0;c<t.length;c++)a=Iy(f=e.g=t[c],r,!1,e)&&a}function Iy(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var f=e[c];if(f&&!f.ca&&f.capture==t){var _=f.listener,w=f.ia||f.src;f.fa&&pI(n.i,f),a=!1!==_.call(w,r)&&a}}return a&&!r.defaultPrevented}Xr(Hn,xu),Hn.prototype[yy]=!0,Hn.prototype.removeEventListener=function(n,e,t,r){yI(this,n,e,t,r)},Hn.prototype.M=function(){if(Hn.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Fp(t[r]);delete n.g[e],n.h--}}this.I=null},Hn.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Hn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Vp=It.JSON.stringify;function Na(){var n=nd;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Bp,ti=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new td,n=>n.reset());class td{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Cy(n){It.setTimeout(()=>{throw n},0)}function as(n,e){Bp||function(){var n=It.Promise.resolve(void 0);Bp=function(){n.then(Bh)}}(),ql||(Bp(),ql=!0),nd.add(n,e)}var ql=!1,nd=new class{constructor(){this.h=this.g=null}add(e,t){const r=ti.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Bh(){for(var n;n=Na();){try{n.h.call(n.g)}catch(t){Cy(t)}var e=ti;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}ql=!1}function Nu(n,e){Hn.call(this),this.h=n||1,this.g=e||It,this.j=Jr(this.kb,this),this.l=Date.now()}function Gl(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Zl(n,e,t){if("function"==typeof n)t&&(n=Jr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Jr(n.handleEvent,n)}return 2147483647<Number(e)?-1:It.setTimeout(n,e||0)}function rd(n){n.g=Zl(()=>{n.g=null,n.i&&(n.i=!1,rd(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Xr(Nu,Hn),(Ke=Nu.prototype).da=!1,Ke.S=null,Ke.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ei(this,"tick"),this.da&&(Gl(this),this.start()))}},Ke.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ke.M=function(){Nu.Z.M.call(this),Gl(this),delete this.g};class jh extends xu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:rd(this)}M(){super.M(),this.g&&(It.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $h(n){xu.call(this),this.h=n,this.g={}}Xr($h,xu);var xE=[];function NE(n,e,t,r){Array.isArray(t)||(t&&(xE[0]=t.toString()),t=xE);for(var a=0;a<t.length;a++){var c=Ey(e,t[a],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function ME(n){EE(n.g,function(e,t){this.g.hasOwnProperty(t)&&RE(e)},n),n.g={}}function jp(){this.g=!0}function id(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<a.length;f++)a[f]=""}}}return Vp(t)}catch(_){return e}}(n,t)+(r?" "+r:"")})}$h.prototype.M=function(){$h.Z.M.call(this),ME(this)},$h.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jp.prototype.Aa=function(){this.g=!1},jp.prototype.info=function(){};var zl={},wI=null;function $p(){return wI=wI||new Hn}function OE(n){In.call(this,zl.Ma,n)}function Hp(n){const e=$p();ei(e,new OE(e,n))}function tS(n,e){In.call(this,zl.STAT_EVENT,n),this.stat=e}function Li(n){const e=$p();ei(e,new tS(e,n))}function PE(n,e){In.call(this,zl.Na,n),this.size=e}function qp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return It.setTimeout(function(){n()},e)}zl.Ma="serverreachability",Xr(OE,In),zl.STAT_EVENT="statevent",Xr(tS,In),zl.Na="timingevent",Xr(PE,In);var Gp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},II={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function kE(){}function CI(){}kE.prototype.h=null;var AI,Hh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function TI(){In.call(this,"d")}function DI(){In.call(this,"c")}function Ty(){}function Dy(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new $h(this),this.P=rS,this.W=new Nu(n=wE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new SI}function SI(){this.i=null,this.g="",this.h=!1}Xr(TI,In),Xr(DI,In),Xr(Ty,kE),Ty.prototype.g=function(){return new XMLHttpRequest},Ty.prototype.i=function(){return{}},AI=new Ty;var rS=45e3,Zp={},qh={};function FE(n,e,t){n.K=1,n.v=Zh(Ou(e)),n.s=t,n.U=!0,iS(n,null)}function iS(n,e){n.F=Date.now(),Gh(n),n.A=Ou(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),HE(t.h,"t",r),n.C=0,t=n.l.H,n.h=new SI,n.g=$I(n.l,t?e:null,!n.s),0<n.O&&(n.L=new jh(Jr(n.Ia,n,n.g),n.O)),NE(n.V,n.g,"readystatechange",n.gb),e=n.H?Lh(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Hp(1),function(n,e,t,r,a,c){n.info(function(){if(n.g)if(c)for(var f="",_=c.split("&"),w=0;w<_.length;w++){var S=_[w].split("=");if(1<S.length){var x=S[0];S=S[1];var P=x.split("_");f=2<=P.length&&"type"==P[1]?f+(x+"=")+S+"&":f+(x+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(n.j,n.u,n.A,n.m,n.X,n.s)}function sS(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function oS(n,e,t){let a,r=!0;for(;!n.I&&n.C<t.length;){if(a=aS(n,t),a==qh){4==e&&(n.o=4,Li(14),r=!1),id(n.j,n.m,null,"[Incomplete Response]");break}if(a==Zp){n.o=4,Li(15),id(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}id(n.j,n.m,a,null),Sy(n,a)}sS(n)&&a!=qh&&a!=Zp&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Li(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),uo(e),e.L=!0,Li(11))):(id(n.j,n.m,t,"[Invalid Chunked Response]"),sd(n),Ma(n))}function aS(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?qh:(t=Number(e.substring(t,r)),isNaN(t)?Zp:(r+=1)+t>e.length?qh:(e=e.substr(r,t),n.C=r+t,e))}function Gh(n){n.Y=Date.now()+n.P,uS(n,n.P)}function uS(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=qp(Jr(n.eb,n),e)}function Ay(n){n.B&&(It.clearTimeout(n.B),n.B=null)}function Ma(n){0==n.l.G||n.I||n0(n.l,n)}function sd(n){Ay(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Gl(n.W),ME(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Sy(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Fy(t.i,n)))if(t.I=n.N,!n.J&&Fy(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(S){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=qp(Jr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;us(t),By(t)}t0(t),Li(18)}if(1>=ky(t.i)&&t.ka){try{t.ka()}catch(S){}t.ka=void 0}}else dd(t,11)}else if((n.J||t.g==n)&&us(t),!hy(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let S=a[e];if(t.U=S[0],S=S[1],2==t.G)if("c"==S[0]){t.J=S[1],t.la=S[2];const x=S[3];null!=x&&(t.ma=x,t.h.info("VER="+t.ma));const P=S[4];null!=P&&(t.za=P,t.h.info("SVER="+t.za));const H=S[5];null!=H&&"number"==typeof H&&0<H&&(t.K=r=1.5*H,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const K=n.g;if(K){const ye=K.g?K.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ye){var c=r.i;!c.g&&(_i(ye,"spdy")||_i(ye,"quic")||_i(ye,"h2"))&&(c.j=c.l,c.g=new Set,c.h&&(qE(c,c.h),c.h=null))}if(r.D){const Fe=K.g?K.g.getResponseHeader("X-HTTP-Session-Id"):null;Fe&&(r.sa=Fe,An(r.F,r.D,Fe))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var f=n;if((r=t).oa=jI(r,r.H?r.la:null,r.W),f.J){GE(r.i,f);var _=f,w=r.K;w&&_.setTimeout(w),_.B&&(Ay(_),Gh(_)),r.g=f}else UI(r);0<t.l.length&&Jp(t)}else"stop"!=S[0]&&"close"!=S[0]||dd(t,7);else 3==t.G&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?dd(t,7):QE(t):"noop"!=S[0]&&t.j&&t.j.wa(S),t.A=0)}Hp(4)}catch(S){}}function Ry(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(cy(n)||"string"==typeof n)xa(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(cy(n)||"string"==typeof n){t=[];for(var r=n.length,a=0;a<r;a++)t.push(a)}else for(a in t=[],r=0,n)t[r++]=a;a=(r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(cy(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n)).length;for(var c=0;c<a;c++)e.call(void 0,r[c],t&&t[c],n)}}function Mu(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Mu)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function LE(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Wl(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var a={};for(t=e=0;e<n.g.length;)Wl(a,r=n.g[e])||(n.g[t++]=r,a[r]=1),e++;n.g.length=t}}function Wl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Ke=Dy.prototype).setTimeout=function(n){this.P=n},Ke.gb=function(n){n=n.target;const e=this.L;e&&3==ku(n)?e.l():this.Ia(n)},Ke.Ia=function(n){try{if(n==this.g)e:{const x=ku(this.g);var e=this.g.Da();const P=this.g.ba();if(!(3>x)&&(3!=x||wE||this.g&&(this.h.h||this.g.ga()||YE(this.g)))){this.I||4!=x||7==e||Hp(8==e||0>=P?3:2),Ay(this);var t=this.g.ba();this.N=t;t:if(sS(this)){var r=YE(this.g);n="";var a=r.length,c=4==ku(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){sd(this),Ma(this);var f="";break t}this.h.i=new It.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==a-1});r.splice(0,a),this.h.g+=n,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=200==t,function(n,e,t,r,a,c,f){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.X,x,t),this.i){if(this.$&&!this.J){t:{if(this.g){var _,w=this.g;if((_=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hy(_)){var S=_;break t}}S=null}if(!(t=S)){this.i=!1,this.o=3,Li(12),sd(this),Ma(this);break e}id(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Sy(this,t)}this.U?(oS(this,x,f),wE&&this.i&&3==x&&(NE(this.V,this.W,"tick",this.fb),this.W.start())):(id(this.j,this.m,f,null),Sy(this,f)),4==x&&sd(this),this.i&&!this.I&&(4==x?n0(this.l,this):(this.i=!1,Gh(this)))}else 400==t&&0<f.indexOf("Unknown SID")?(this.o=3,Li(12)):(this.o=0,Li(13)),sd(this),Ma(this)}}}catch(x){}},Ke.fb=function(){if(this.g){var n=ku(this.g),e=this.g.ga();this.C<e.length&&(Ay(this),oS(this,n,e),this.i&&4!=n&&Gh(this))}},Ke.cancel=function(){this.I=!0,sd(this)},Ke.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Hp(3),Li(17)),sd(this),this.o=2,Ma(this)):uS(this,this.Y-n)},(Ke=Mu.prototype).R=function(){LE(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Ke.T=function(){return LE(this),this.g.concat()},Ke.get=function(n,e){return Wl(this.h,n)?this.h[n]:e},Ke.set=function(n,e){Wl(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Ke.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var a=t[r],c=this.get(a);n.call(e,c,a,this)}};var RI=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function od(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof od){this.g=void 0!==e?e:n.g,xy(this,n.j),this.s=n.s,zp(this,n.i),Ny(this,n.m),this.l=n.l,e=n.h;var t=new ad;t.i=e.i,e.g&&(t.g=new Mu(e.g),t.h=e.h),VE(this,t),this.o=n.o}else n&&(t=String(n).match(RI))?(this.g=!!e,xy(this,t[1]||"",!0),this.s=Wp(t[2]||""),zp(this,t[3]||"",!0),Ny(this,t[4]),this.l=Wp(t[5]||"",!0),VE(this,t[6]||"",!0),this.o=Wp(t[7]||"")):(this.g=!!e,this.h=new ad(null,this.g))}function Ou(n){return new od(n)}function xy(n,e,t){n.j=t?Wp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function zp(n,e,t){n.i=t?Wp(e,!0):e}function Ny(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function VE(n,e,t){e instanceof ad?(n.h=e,function(n,e){e&&!n.j&&(Pu(n),n.i=null,n.g.forEach(function(t,r){var a=r.toLowerCase();r!=a&&(hS(this,r),HE(this,a,t))},n)),n.j=e}(n.h,n.g)):(t||(e=My(e,dS)),n.h=new ad(e,n.g))}function An(n,e,t){n.h.set(e,t)}function Zh(n){return An(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Wp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function My(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Kp),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Kp(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}od.prototype.toString=function(){var n=[],e=this.j;e&&n.push(My(e,xI,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(My(e,xI,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(My(t,"/"==t.charAt(0)?jE:BE,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",My(t,$E)),n.join("")};var xI=/[#\/\?@]/g,BE=/[#\?:]/g,jE=/[#\?]/g,dS=/[#\?@]/g,$E=/#/g;function ad(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Pu(n){n.g||(n.g=new Mu,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),a=null;if(0<=r){var c=n[t].substring(0,r);a=n[t].substring(r+1)}else c=n[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function hS(n,e){Pu(n),e=ud(n,e),Wl(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Wl((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&LE(n)))}function NI(n,e){return Pu(n),e=ud(n,e),Wl(n.g.h,e)}function HE(n,e,t){hS(n,e),0<t.length&&(n.i=null,n.g.set(ud(n,e),nI(t)),n.h+=t.length)}function ud(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Oy(n){this.l=n||OI,n=It.PerformanceNavigationTiming?0<(n=It.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(It.g&&It.g.Ea&&It.g.Ea()&&It.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ke=ad.prototype).add=function(n,e){Pu(this),this.i=null,n=ud(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ke.forEach=function(n,e){Pu(this),this.g.forEach(function(t,r){xa(t,function(a){n.call(e,a,r,this)},this)},this)},Ke.T=function(){Pu(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var a=n[r],c=0;c<a.length;c++)t.push(e[r]);return t},Ke.R=function(n){Pu(this);var e=[];if("string"==typeof n)NI(this,n)&&(e=dy(e,this.g.get(ud(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=dy(e,n[t])}return e},Ke.set=function(n,e){return Pu(this),this.i=null,NI(this,n=ud(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ke.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Ke.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],a=encodeURIComponent(String(r));r=this.R(r);for(var c=0;c<r.length;c++){var f=a;""!==r[c]&&(f+="="+encodeURIComponent(String(r[c]))),n.push(f)}}return this.i=n.join("&")};var OI=10;function Py(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ky(n){return n.h?1:n.g?n.g.size:0}function Fy(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function qE(n,e){n.g?n.g.add(e):n.h=e}function GE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function ZE(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return nI(n.i)}function Yp(){}function PI(){this.g=new Yp}function pS(n,e,t){const r=t||"";try{Ry(n,function(a,c){let f=a;Pp(a)&&(f=Vp(a)),e.push(r+c+"="+encodeURIComponent(f))})}catch(a){throw e.push(r+"type="+encodeURIComponent("_badmap")),a}}function Ly(n,e,t,r,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(r)}catch(c){}}function zh(n){this.l=n.$b||null,this.j=n.ib||!1}function Wh(n,e){Hn.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Vy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Oy.prototype.cancel=function(){if(this.i=ZE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Yp.prototype.stringify=function(n){return It.JSON.stringify(n,void 0)},Yp.prototype.parse=function(n){return It.JSON.parse(n,void 0)},Xr(zh,kE),zh.prototype.g=function(){return new Wh(this.l,this.j)},zh.prototype.i=function(n){return function(){return n}}({}),Xr(Wh,Hn);var Vy=0;function zE(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Kh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Yh(n)}function Yh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ke=Wh.prototype).open=function(n,e){if(this.readyState!=Vy)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Yh(this)},Ke.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||It).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ke.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Kh(this)),this.readyState=Vy},Ke.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Yh(this)),this.g&&(this.readyState=3,Yh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==It.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zE(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Ke.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Kh(this):Yh(this),3==this.readyState&&zE(this)}},Ke.Ua=function(n){this.g&&(this.response=this.responseText=n,Kh(this))},Ke.Ta=function(n){this.g&&(this.response=n,Kh(this))},Ke.ha=function(){this.g&&Kh(this)},Ke.setRequestHeader=function(n,e){this.v.append(n,e)},Ke.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ke.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Wh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var kI=It.JSON.parse;function nr(n){Hn.call(this),this.headers=new Mu,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=WE,this.K=this.L=!1}Xr(nr,Hn);var WE="",FI=/^https?$/i,VN=["POST","PUT"];function yS(n){return"content-type"==n.toLowerCase()}function KE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,LI(n),Qp(n)}function LI(n){n.D||(n.D=!0,ei(n,"complete"),ei(n,"error"))}function dr(n){if(n.h&&void 0!==gE&&(!n.C[1]||4!=ku(n)||2!=n.ba()))if(n.v&&4==ku(n))Zl(n.Fa,0,n);else if(ei(n,"readystatechange"),4==ku(n)){n.h=!1;try{const _=n.ba();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===_){var a=String(n.H).match(RI)[1]||null;if(!a&&It.self&&It.self.location){var c=It.self.location.protocol;a=c.substr(0,c.length-1)}r=!FI.test(a?a.toLowerCase():"")}t=r}if(t)ei(n,"complete"),ei(n,"success");else{n.m=6;try{var f=2<ku(n)?n.g.statusText:""}catch(w){f=""}n.j=f+" ["+n.ba()+"]",LI(n)}}finally{Qp(n)}}}function Qp(n,e){if(n.g){VI(n);const t=n.g,r=n.C[0]?Ru:null;n.g=null,n.C=null,e||ei(n,"ready");try{t.onreadystatechange=r}catch(a){}}}function VI(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(It.clearTimeout(n.A),n.A=null)}function ku(n){return n.g?n.g.readyState:0}function YE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case WE:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Uy(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return EE(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):An(n,e,t))}function Qh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function ld(n){this.za=0,this.l=[],this.h=new jp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Qh("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Qh("baseRetryDelayMs",5e3,n),this.$a=Qh("retryDelaySeedMs",1e4,n),this.Ya=Qh("forwardChannelMaxRetries",2,n),this.ra=Qh("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Oy(n&&n.concurrentRequestLimit),this.Ca=new PI,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function QE(n){if(JE(n),3==n.G){var e=n.V++,t=Ou(n.F);An(t,"SID",n.J),An(t,"RID",e),An(t,"TYPE","terminate"),cd(n,t),(e=new Dy(n,n.h,e,void 0)).K=2,e.v=Zh(Ou(t)),t=!1,It.navigator&&It.navigator.sendBeacon&&(t=It.navigator.sendBeacon(e.v.toString(),"")),!t&&It.Image&&((new Image).src=e.v,t=!0),t||(e.g=$I(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Gh(e)}BI(n)}function By(n){n.g&&(uo(n),n.g.cancel(),n.g=null)}function JE(n){By(n),n.u&&(It.clearTimeout(n.u),n.u=null),us(n),n.i.cancel(),n.m&&("number"==typeof n.m&&It.clearTimeout(n.m),n.m=null)}function XE(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Jp(n)}function Jp(n){Py(n.i)||n.m||(n.m=!0,as(n.Ha,n),n.C=0)}function e0(n,e){var t;t=e?e.m:n.V++;const r=Ou(n.F);An(r,"SID",n.J),An(r,"RID",t),An(r,"AID",n.U),cd(n,r),n.o&&n.s&&Uy(r,n.o,n.s),t=new Dy(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=jo(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),qE(n.i,t),FE(t,r,e)}function cd(n,e){n.j&&Ry({},function(t,r){An(e,r,t)})}function jo(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Jr(n.j.Oa,n.j,n):null;e:{var a=n.l;let c=-1;for(;;){const f=["count="+t];-1==c?0<t?(c=a[0].h,f.push("ofs="+c)):c=0:f.push("ofs="+c);let _=!0;for(let w=0;w<t;w++){let S=a[w].h;const x=a[w].g;if(S-=c,0>S)c=Math.max(0,a[w].h-100),_=!1;else try{pS(x,f,"req"+S+"_")}catch(P){r&&r(x)}}if(_){r=f.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function UI(n){n.g||n.u||(n.Y=1,as(n.Ga,n),n.A=0)}function t0(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=qp(Jr(n.Ga,n),r0(n,n.A)),n.A++,0))}function uo(n){null!=n.B&&(It.clearTimeout(n.B),n.B=null)}function lo(n){n.g=new Dy(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ou(n.oa);An(e,"RID","rpc"),An(e,"SID",n.J),An(e,"CI",n.N?"0":"1"),An(e,"AID",n.U),cd(n,e),An(e,"TYPE","xmlhttp"),n.o&&n.s&&Uy(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Zh(Ou(e)),t.s=null,t.U=!0,iS(t,n)}function us(n){null!=n.v&&(It.clearTimeout(n.v),n.v=null)}function n0(n,e){var t=null;if(n.g==e){us(n),uo(n),n.g=null;var r=2}else{if(!Fy(n.i,e))return;t=e.D,GE(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;ei(r=$p(),new PE(r,t,e,a)),Jp(n)}else UI(n);else if(3==(a=e.o)||0==a&&0<n.I||!(1==r&&function(n,e){return!(ky(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=qp(Jr(n.Ha,n,e),r0(n,n.C)),n.C++,0)))}(n,e)||2==r&&t0(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:dd(n,5);break;case 4:dd(n,10);break;case 3:dd(n,6);break;default:dd(n,2)}}function r0(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function dd(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Jr(n.jb,n);t||(t=new od("//www.google.com/images/cleardot.gif"),It.location&&"http"==It.location.protocol||xy(t,"https"),Zh(t)),function(n,e){const t=new jp;if(It.Image){const r=new Image;r.onload=mE(Ly,t,r,"TestLoadImage: loaded",!0,e),r.onerror=mE(Ly,t,r,"TestLoadImage: error",!1,e),r.onabort=mE(Ly,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=mE(Ly,t,r,"TestLoadImage: timeout",!1,e),It.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Li(2);n.G=0,n.j&&n.j.va(e),BI(n),JE(n)}function BI(n){n.G=0,n.I=-1,n.j&&((0!=ZE(n.i).length||0!=n.l.length)&&(n.i.i.length=0,nI(n.l),n.l.length=0),n.j.ua())}function jI(n,e,t){let r=function(n){return n instanceof od?Ou(n):new od(n,void 0)}(t);if(""!=r.i)e&&zp(r,e+"."+r.i),Ny(r,r.m);else{const a=It.location;r=function(n,e,t,r){var a=new od(null,void 0);return n&&xy(a,n),e&&zp(a,e),t&&Ny(a,t),r&&(a.l=r),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return n.aa&&EE(n.aa,function(a,c){An(r,c,a)}),t=n.sa,(e=n.D)&&t&&An(r,e,t),An(r,"VER",n.ma),cd(n,r),r}function $I(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new nr(t&&n.Ba&&!n.qa?new zh({ib:!0}):n.qa)).L=n.H,e}function jy(){}function Kl(){if(Vh&&!(10<=Number(dI)))throw Error("Environmental error: no available transport.")}function Vs(n,e){Hn.call(this),this.g=new ld(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!hy(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!hy(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new hd(this)}function s0(n){TI.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function HI(){DI.call(this),this.status=1}function hd(n){this.g=n}(Ke=nr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():AI.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:AI),this.g.onreadystatechange=Jr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(c){return void KE(this,c)}n=t||"";const a=new Mu(this.headers);r&&Ry(r,function(c,f){a.set(f,c)}),r=function(n){e:{var e=yS;const t=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<t;a++)if(a in r&&e.call(void 0,r[a],a,n)){e=a;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(a.T()),t=It.FormData&&n instanceof It.FormData,!(0<=QA(VN,e))||r||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(c,f){this.g.setRequestHeader(f,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{VI(this),0<this.B&&((this.K=function(n){return Vh&&TE()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jr(this.pa,this)):this.A=Zl(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){KE(this,c)}},Ke.pa=function(){void 0!==gE&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ei(this,"timeout"),this.abort(8))},Ke.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ei(this,"complete"),ei(this,"abort"),Qp(this))},Ke.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qp(this,!0)),nr.Z.M.call(this)},Ke.Fa=function(){this.s||(this.F||this.v||this.l?dr(this):this.cb())},Ke.cb=function(){dr(this)},Ke.ba=function(){try{return 2<ku(this)?this.g.status:-1}catch(n){return-1}},Ke.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Ke.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),kI(e)}},Ke.Da=function(){return this.m},Ke.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ke=ld.prototype).ma=8,Ke.G=1,Ke.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Ke.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new Dy(this,this.h,n,void 0);let c=this.s;if(this.P&&(c?(c=Lh(c),bE(c,this.P)):c=this.P),null===this.o&&(a.H=c),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=jo(this,a,e),An(t=Ou(this.F),"RID",n),An(t,"CVER",22),this.D&&An(t,"X-HTTP-Session-Id",this.D),cd(this,t),this.o&&c&&Uy(t,this.o,c),qE(this.i,a),this.Ra&&An(t,"TYPE","init"),this.ja?(An(t,"$req",e),An(t,"SID","null"),a.$=!0,FE(a,t,null)):FE(a,t,e),this.G=2}}else 3==this.G&&(n?e0(this,n):0==this.l.length||Py(this.i)||e0(this))},Ke.Ga=function(){if(this.u=null,lo(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=qp(Jr(this.bb,this),n)}},Ke.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Li(10),By(this),lo(this))},Ke.ab=function(){null!=this.v&&(this.v=null,By(this),t0(this),Li(19))},Ke.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Li(2)):(this.h.info("Failed to ping google.com"),Li(1))},(Ke=jy.prototype).xa=function(){},Ke.wa=function(){},Ke.va=function(){},Ke.ua=function(){},Ke.Oa=function(){},Kl.prototype.g=function(n,e){return new Vs(n,e)},Xr(Vs,Hn),Vs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),as(Jr(n.hb,n,e))),Li(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=jI(n,null,n.W),Jp(n)},Vs.prototype.close=function(){QE(this.g)},Vs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,XE(this.g,e)}else this.v?((e={}).__data__=Vp(n),XE(this.g,e)):XE(this.g,n)},Vs.prototype.M=function(){this.g.j=null,delete this.j,QE(this.g),delete this.g,Vs.Z.M.call(this)},Xr(s0,TI),Xr(HI,DI),Xr(hd,jy),hd.prototype.xa=function(){ei(this.g,"a")},hd.prototype.wa=function(n){ei(this.g,new s0(n))},hd.prototype.va=function(n){ei(this.g,new HI(n))},hd.prototype.ua=function(){ei(this.g,"b")},Kl.prototype.createWebChannel=Kl.prototype.g,Vs.prototype.send=Vs.prototype.u,Vs.prototype.open=Vs.prototype.m,Vs.prototype.close=Vs.prototype.close,Gp.NO_ERROR=0,Gp.TIMEOUT=8,Gp.HTTP_ERROR=6,II.COMPLETE="complete",CI.EventType=Hh,Hh.OPEN="a",Hh.CLOSE="b",Hh.ERROR="c",Hh.MESSAGE="d",Hn.prototype.listen=Hn.prototype.N,nr.prototype.listenOnce=nr.prototype.O,nr.prototype.getLastError=nr.prototype.La,nr.prototype.getLastErrorCode=nr.prototype.Da,nr.prototype.getStatus=nr.prototype.ba,nr.prototype.getResponseJson=nr.prototype.Qa,nr.prototype.getResponseText=nr.prototype.ga,nr.prototype.send=nr.prototype.ea;var qI=Bo.createWebChannelTransport=function(){return new Kl},$y=Bo.getStatEventTarget=function(){return $p()},o0=Bo.ErrorCode=Gp,GI=Bo.EventType=II,ZI=Bo.Event=zl,Hy=Bo.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},qy=Bo.FetchXmlHttpFactory=zh,Xp=Bo.WebChannel=CI,zI=Bo.XhrIo=nr;const a0="@firebase/firestore";class Lr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lr.UNAUTHENTICATED=new Lr(null),Lr.GOOGLE_CREDENTIALS=new Lr("google-credentials-uid"),Lr.FIRST_PARTY=new Lr("first-party-uid"),Lr.MOCK_USER=new Lr("mock-user");let fd="9.1.3";const Fu=new Cu.Yd("@firebase/firestore");function Gy(){return Fu.logLevel}function Ue(n,...e){if(Fu.logLevel<=Cu.in.DEBUG){const t=e.map(u0);Fu.debug(`Firestore (${fd}): ${n}`,...t)}}function hr(n,...e){if(Fu.logLevel<=Cu.in.ERROR){const t=e.map(u0);Fu.error(`Firestore (${fd}): ${n}`,...t)}}function eg(n,...e){if(Fu.logLevel<=Cu.in.WARN){const t=e.map(u0);Fu.warn(`Firestore (${fd}): ${n}`,...t)}}function u0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${fd}) INTERNAL ASSERTION FAILED: `+n;throw hr(e),new Error(e)}function pt(n,e){n||rt()}function He(n,e){return n}const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class KI{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class ES{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Lr.UNAUTHENTICATED))}shutdown(){}}class bS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class wS{constructor(e){this.t=e,this.currentUser=Lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let a=this.i;const c=S=>this.i!==a?(a=this.i,t(S)):Promise.resolve();let f=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Vr,e.enqueueRetryable(()=>c(this.currentUser))};const _=()=>{const S=f;e.enqueueRetryable((0,me.Z)(function*(){yield S.promise,yield c(r.currentUser)}))},w=S=>{Ue("FirebaseCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),_()};this.t.onInit(S=>w(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?w(S):(Ue("FirebaseCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Vr)}},0),_()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ue("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pt("string"==typeof r.accessToken),new KI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return pt(null===e||"string"==typeof e),new Lr(e)}}class IS{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Lr.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class CS{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new IS(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Us{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.g(r),this.p=r=>t.writeSequenceNumber(r))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function YI(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Us.T=-1;class l0{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const a=YI(40);for(let c=0;c<a.length;++c)r.length<20&&a[c]<t&&(r+=e.charAt(a[c]%e.length))}return r}}function Pt(n,e){return n<e?-1:n>e?1:0}function pd(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}function c0(n){return n+"\0"}class Dr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dr.fromMillis(Date.now())}static fromDate(e){return Dr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Dr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class At{constructor(e){this.timestamp=e}static fromTimestamp(e){return new At(e)}static min(){return new At(new Dr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function d0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Yl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Zy(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Jh{constructor(e,t,r){void 0===t?t=0:t>e.length&&rt(),void 0===r?r=e.length-t:r>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Jh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const c=e.get(a),f=t.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class kt extends Jh{construct(e,t,r){return new kt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new kt(t)}static emptyPath(){return new kt([])}}const TS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ni extends Jh{construct(e,t,r){return new ni(e,t,r)}static isValidIdentifier(e){return TS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ni.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ni(["__name__"])}static fromServerFormat(e){const t=[];let r="",a=0;const c=()=>{if(0===r.length)throw new Oe(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let f=!1;for(;a<e.length;){const _=e[a];if("\\"===_){if(a+1===e.length)throw new Oe(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[a+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Oe(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,a+=2}else"`"===_?(f=!f,a++):"."!==_||f?(r+=_,a++):(c(),a++)}if(c(),f)throw new Oe(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ni(t)}static emptyPath(){return new ni([])}}class $o{constructor(e){this.fields=e,e.sort(ni.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class fr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new fr(t)}static fromUint8Array(e){const t=function(r){let a="";for(let c=0;c<r.length;++c)a+=String.fromCharCode(r[c]);return a}(e);return new fr(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fr.EMPTY_BYTE_STRING=new fr("");const jN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lu(n){if(pt(!!n),"string"==typeof n){let e=0;const t=jN.exec(n);if(pt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rr(n.seconds),nanos:rr(n.nanos)}}function rr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function tg(n){return"string"==typeof n?fr.fromBase64String(n):fr.fromUint8Array(n)}function ot(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function QI(n){const e=n.mapValue.fields.__previous_value__;return ot(e)?QI(e):e}function ng(n){const e=Lu(n.mapValue.fields.__local_write_time__.timestampValue);return new Dr(e.seconds,e.nanos)}function gd(n){return null==n}function md(n){return 0===n&&1/n==-1/0}function JI(n){return"number"==typeof n&&Number.isInteger(n)&&!md(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(kt.fromString(e))}static fromName(e){return new Xe(kt.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===kt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return kt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new kt(e.slice()))}}function Oa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ot(n)?4:10:rt()}function en(n,e){const t=Oa(n);if(t!==Oa(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ng(n).isEqual(ng(e));case 3:return function(r,a){if("string"==typeof r.timestampValue&&"string"==typeof a.timestampValue&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const c=Lu(r.timestampValue),f=Lu(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,tg(n.bytesValue).isEqual(tg(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,a){return rr(r.geoPointValue.latitude)===rr(a.geoPointValue.latitude)&&rr(r.geoPointValue.longitude)===rr(a.geoPointValue.longitude)}(n,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return rr(r.integerValue)===rr(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const c=rr(r.doubleValue),f=rr(a.doubleValue);return c===f?md(c)===md(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return pd(n.arrayValue.values||[],e.arrayValue.values||[],en);case 10:return function(r,a){const c=r.mapValue.fields||{},f=a.mapValue.fields||{};if(d0(c)!==d0(f))return!1;for(const _ in c)if(c.hasOwnProperty(_)&&(void 0===f[_]||!en(c[_],f[_])))return!1;return!0}(n,e);default:return rt()}var a}function zy(n,e){return void 0!==(n.values||[]).find(t=>en(t,e))}function yd(n,e){const t=Oa(n),r=Oa(e);if(t!==r)return Pt(t,r);switch(t){case 0:return 0;case 1:return Pt(n.booleanValue,e.booleanValue);case 2:return function(a,c){const f=rr(a.integerValue||a.doubleValue),_=rr(c.integerValue||c.doubleValue);return f<_?-1:f>_?1:f===_?0:isNaN(f)?isNaN(_)?0:-1:1}(n,e);case 3:return Wy(n.timestampValue,e.timestampValue);case 4:return Wy(ng(n),ng(e));case 5:return Pt(n.stringValue,e.stringValue);case 6:return function(a,c){const f=tg(a),_=tg(c);return f.compareTo(_)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const f=a.split("/"),_=c.split("/");for(let w=0;w<f.length&&w<_.length;w++){const S=Pt(f[w],_[w]);if(0!==S)return S}return Pt(f.length,_.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const f=Pt(rr(a.latitude),rr(c.latitude));return 0!==f?f:Pt(rr(a.longitude),rr(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,c){const f=a.values||[],_=c.values||[];for(let w=0;w<f.length&&w<_.length;++w){const S=yd(f[w],_[w]);if(S)return S}return Pt(f.length,_.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,c){const f=a.fields||{},_=Object.keys(f),w=c.fields||{},S=Object.keys(w);_.sort(),S.sort();for(let x=0;x<_.length&&x<S.length;++x){const P=Pt(_[x],S[x]);if(0!==P)return P;const H=yd(f[_[x]],w[S[x]]);if(0!==H)return H}return Pt(_.length,S.length)}(n.mapValue,e.mapValue);default:throw rt()}}function Wy(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Pt(n,e);const t=Lu(n),r=Lu(e),a=Pt(t.seconds,r.seconds);return 0!==a?a:Pt(t.nanos,r.nanos)}function h0(n){return Ky(n)}function Ky(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const a=Lu(r);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?tg(n.bytesValue).toBase64():"referenceValue"in n?Xe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let a="[",c=!0;for(const f of r.values||[])c?c=!1:a+=",",a+=Ky(f);return a+"]"}(n.arrayValue):"mapValue"in n?function(r){const a=Object.keys(r.fields||{}).sort();let c="{",f=!0;for(const _ of a)f?f=!1:c+=",",c+=`${_}:${Ky(r.fields[_])}`;return c+"}"}(n.mapValue):rt();var e}function rg(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Yy(n){return!!n&&"integerValue"in n}function Qy(n){return!!n&&"arrayValue"in n}function XI(n){return!!n&&"nullValue"in n}function eC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Jy(n){return!!n&&"mapValue"in n}function Vu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Yl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Vu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vu(n.arrayValue.values[t]);return e}return Object.assign({},n)}class Ei{constructor(e){this.value=e}static empty(){return new Ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Jy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vu(t)}setAll(e){let t=ni.emptyPath(),r={},a=[];e.forEach((f,_)=>{if(!t.isImmediateParentOf(_)){const w=this.getFieldsMap(t);this.applyChanges(w,r,a),r={},a=[],t=_.popLast()}f?r[_.lastSegment()]=Vu(f):a.push(_.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,a)}delete(e){const t=this.field(e.popLast());Jy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return en(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Jy(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Yl(t,(a,c)=>e[a]=c);for(const a of r)delete e[a]}clone(){return new Ei(Vu(this.value))}}function tC(n){const e=[];return Yl(n.fields,(t,r)=>{const a=new ni([t]);if(Jy(r)){const c=tC(r.mapValue).fields;if(0===c.length)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new $o(e)}class kn{constructor(e,t,r,a,c){this.key=e,this.documentType=t,this.version=r,this.data=a,this.documentState=c}static newInvalidDocument(e){return new kn(e,0,At.min(),Ei.empty(),0)}static newFoundDocument(e,t,r){return new kn(e,1,t,r,0)}static newNoDocument(e,t){return new kn(e,2,t,Ei.empty(),0)}static newUnknownDocument(e,t){return new kn(e,3,t,Ei.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new kn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xy{constructor(e,t=null,r=[],a=[],c=null,f=null,_=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=c,this.startAt=f,this.endAt=_,this.A=null}}function f0(n,e=null,t=[],r=[],a=null,c=null,f=null){return new Xy(n,e,t,r,a,c,f)}function Xh(n){const e=He(n);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+h0(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(a=r).field.canonicalString()+a.dir;var a}).join(","),gd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=g0(e.startAt)),e.endAt&&(t+="|ub:",t+=g0(e.endAt)),e.A=t}return e.A}function e_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!$N(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(r=e.filters[a]).op||!t.field.isEqual(r.field)||!en(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!m0(n.startAt,e.startAt)&&m0(n.endAt,e.endAt)}function Ql(n){return Xe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ar extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,r):new AS(e,t,r):"array-contains"===t?new iC(e,r):"in"===t?new RS(e,r):"not-in"===t?new sC(e,r):"array-contains-any"===t?new xS(e,r):new Ar(e,t,r)}static R(e,t,r){return"in"===t?new SS(e,r):new rC(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(yd(t,this.value)):null!==t&&Oa(this.value)===Oa(t)&&this.P(yd(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class AS extends Ar{constructor(e,t,r){super(e,t,r),this.key=Xe.fromName(r.referenceValue)}matches(e){const t=Xe.comparator(e.key,this.key);return this.P(t)}}class SS extends Ar{constructor(e,t){super(e,"in",t),this.keys=p0(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rC extends Ar{constructor(e,t){super(e,"not-in",t),this.keys=p0(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function p0(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Xe.fromName(r.referenceValue))}class iC extends Ar{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qy(t)&&zy(t.arrayValue,this.value)}}class RS extends Ar{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&zy(this.value.arrayValue,t)}}class sC extends Ar{constructor(e,t){super(e,"not-in",t)}matches(e){if(zy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!zy(this.value.arrayValue,t)}}class xS extends Ar{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>zy(this.value.arrayValue,r))}}class ig{constructor(e,t){this.position=e,this.before=t}}function g0(n){return`${n.before?"b":"a"}:${n.position.map(e=>h0(e)).join(",")}`}class sg{constructor(e,t="asc"){this.field=e,this.dir=t}}function $N(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function NS(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const c=e[a],f=n.position[a];if(r=c.field.isKeyField()?Xe.comparator(Xe.fromName(f.referenceValue),t.key):yd(f,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function m0(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!en(n.position[t],e.position[t]))return!1;return!0}class co{constructor(e,t=null,r=[],a=[],c=null,f="F",_=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=c,this.limitType=f,this.startAt=_,this.endAt=w,this.V=null,this.S=null}}function oC(n,e,t,r,a,c,f,_){return new co(n,e,t,r,a,c,f,_)}function ef(n){return new co(n)}function og(n){return!gd(n.limit)&&"F"===n.limitType}function Jl(n){return!gd(n.limit)&&"L"===n.limitType}function y0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function _0(n){for(const e of n.filters)if(e.v())return e.field;return null}function v0(n){return null!==n.collectionGroup}function tf(n){const e=He(n);if(null===e.V){e.V=[];const t=_0(e),r=y0(e);if(null!==t&&null===r)t.isKeyField()||e.V.push(new sg(t)),e.V.push(new sg(ni.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.V.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new sg(ni.keyField(),c))}}}return e.V}function ho(n){const e=He(n);if(!e.S)if("F"===e.limitType)e.S=f0(e.path,e.collectionGroup,tf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of tf(e))t.push(new sg(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new ig(e.endAt.position,!e.endAt.before):null,a=e.startAt?new ig(e.startAt.position,!e.startAt.before):null;e.S=f0(e.path,e.collectionGroup,t,e.filters,e.limit,r,a)}return e.S}function E0(n,e,t){return new co(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ag(n,e){return e_(ho(n),ho(e))&&n.limitType===e.limitType}function aC(n){return`${Xh(ho(n))}|lt:${n.limitType}`}function Xl(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${h0(r.value)}`;var r}).join(", ")}]`),gd(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+g0(n.startAt)),n.endAt&&(e+=", endAt: "+g0(n.endAt)),`Target(${e})`}(ho(n))}; limitType=${n.limitType})`}function ug(n,e){return e.isFoundDocument()&&function(t,r){const a=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Xe.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,r){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===r.data.field(a.field))return!1;return!0}(n,e)&&function(t,r){for(const a of t.filters)if(!a.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!NS(t.startAt,tf(t),r)||t.endAt&&NS(t.endAt,tf(t),r)));var t,r}function b0(n){return(e,t)=>{let r=!1;for(const a of tf(n)){const c=MS(a,e,t);if(0!==c)return c;r=r||a.field.isKeyField()}return 0}}function MS(n,e,t){const r=n.field.isKeyField()?Xe.comparator(e.key,t.key):function(a,c,f){const _=c.data.field(a),w=f.data.field(a);return null!==_&&null!==w?yd(_,w):rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}function w0(n,e){if(n.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:md(e)?"-0":e}}function uC(n){return{integerValue:""+n}}function I0(n,e){return JI(e)?uC(e):w0(n,e)}class t_{constructor(){this._=void 0}}function C0(n,e,t){return n instanceof _d?function(r,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof vd?lC(n,e):n instanceof Ed?n_(n,e):function(r,a){const c=T0(r,a),f=D0(c)+D0(r.C);return Yy(c)&&Yy(r.C)?uC(f):w0(r.N,f)}(n,e)}function OS(n,e,t){return n instanceof vd?lC(n,e):n instanceof Ed?n_(n,e):t}function T0(n,e){return n instanceof nf?Yy(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class _d extends t_{}class vd extends t_{constructor(e){super(),this.elements=e}}function lC(n,e){const t=cC(e);for(const r of n.elements)t.some(a=>en(a,r))||t.push(r);return{arrayValue:{values:t}}}class Ed extends t_{constructor(e){super(),this.elements=e}}function n_(n,e){let t=cC(e);for(const r of n.elements)t=t.filter(a=>!en(a,r));return{arrayValue:{values:t}}}class nf extends t_{constructor(e,t){super(),this.N=e,this.C=t}}function D0(n){return rr(n.integerValue||n.doubleValue)}function cC(n){return Qy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class lg{constructor(e,t){this.field=e,this.transform=t}}class kS{constructor(e,t){this.version=e,this.transformResults=t}}class pr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pr}static exists(e){return new pr(void 0,e)}static updateTime(e){return new pr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function r_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class i_{}function FS(n,e,t){n instanceof rf?function(r,a,c){const f=r.value.clone(),_=gC(r.fieldTransforms,a,c.transformResults);f.setAll(_),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof ec?function(r,a,c){if(!r_(r.precondition,a))return void a.convertToUnknownDocument(c.version);const f=gC(r.fieldTransforms,a,c.transformResults),_=a.data;_.setAll(pC(r)),_.setAll(f),a.convertToFoundDocument(c.version,_).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function s_(n,e,t){var a;n instanceof rf?function(r,a,c){if(!r_(r.precondition,a))return;const f=r.value.clone(),_=o_(r.fieldTransforms,c,a);f.setAll(_),a.convertToFoundDocument(fC(a),f).setHasLocalMutations()}(n,e,t):n instanceof ec?function(r,a,c){if(!r_(r.precondition,a))return;const f=o_(r.fieldTransforms,c,a),_=a.data;_.setAll(pC(r)),_.setAll(f),a.convertToFoundDocument(fC(a),_).setHasLocalMutations()}(n,e,t):r_(n.precondition,a=e)&&a.convertToNoDocument(At.min())}function dC(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),c=T0(r.transform,a||null);null!=c&&(null==t&&(t=Ei.empty()),t.set(r.field,c))}return t||null}function hC(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&pd(t,r,(a,c)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof vd&&r instanceof vd||t instanceof Ed&&r instanceof Ed?pd(t.elements,r.elements,en):t instanceof nf&&r instanceof nf?en(t.C,r.C):t instanceof _d&&r instanceof _d);var t,r}(a,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function fC(n){return n.isFoundDocument()?n.version:At.min()}class rf extends i_{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}}class ec extends i_{constructor(e,t,r,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=c,this.type=1}}function pC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function gC(n,e,t){const r=new Map;pt(n.length===t.length);for(let a=0;a<t.length;a++){const c=n[a],f=c.transform,_=e.data.field(c.field);r.set(c.field,OS(f,_,t[a]))}return r}function o_(n,e,t){const r=new Map;for(const a of n){const c=a.transform,f=t.data.field(a.field);r.set(a.field,C0(c,f,e))}return r}class bd extends i_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class a_ extends i_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class A0{constructor(e){this.count=e}}var gr,Ht;function u_(n){switch(n){default:return rt();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0}}function mC(n){if(void 0===n)return hr("GRPC error has no .code"),ve.UNKNOWN;switch(n){case gr.OK:return ve.OK;case gr.CANCELLED:return ve.CANCELLED;case gr.UNKNOWN:return ve.UNKNOWN;case gr.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case gr.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case gr.INTERNAL:return ve.INTERNAL;case gr.UNAVAILABLE:return ve.UNAVAILABLE;case gr.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case gr.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case gr.NOT_FOUND:return ve.NOT_FOUND;case gr.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case gr.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case gr.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case gr.ABORTED:return ve.ABORTED;case gr.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case gr.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case gr.DATA_LOSS:return ve.DATA_LOSS;default:return rt()}}(Ht=gr||(gr={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";class mr{constructor(e,t){this.comparator=e,this.root=t||Ur.EMPTY}insert(e,t){return new mr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ur.BLACK,null,null))}remove(e){return new mr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ur.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new l_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new l_(this.root,e,this.comparator,!1)}getReverseIterator(){return new l_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new l_(this.root,e,this.comparator,!0)}}class l_{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ur{constructor(e,t,r,a,c){this.key=e,this.value=t,this.color=null!=r?r:Ur.RED,this.left=null!=a?a:Ur.EMPTY,this.right=null!=c?c:Ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,c){return new Ur(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=a?a:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const c=r(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,r),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ur.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Ur.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}Ur.EMPTY=null,Ur.RED=!0,Ur.BLACK=!1,Ur.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,r,a){return this}insert(n,e,t){return new Ur(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jn{constructor(e){this.comparator=e,this.data=new mr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new S0(this.data.getIterator())}getIteratorFrom(e){return new S0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof jn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new jn(this.comparator);return t.data=e,t}}class S0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const HN=new mr(Xe.comparator);function fo(){return HN}const sf=new mr(Xe.comparator);function yC(){return sf}const R0=new mr(Xe.comparator);function cg(){return R0}const LS=new jn(Xe.comparator);function qt(...n){let e=LS;for(const t of n)e=e.add(t);return e}const VS=new jn(Pt);function x0(){return VS}class dg{constructor(e,t,r,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,ls.createSynthesizedTargetChangeForCurrentChange(e,t)),new dg(At.min(),r,x0(),fo(),qt())}}class ls{constructor(e,t,r,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t){return new ls(fr.EMPTY_BYTE_STRING,t,qt(),qt(),qt())}}class hg{constructor(e,t,r,a){this.k=e,this.removedTargetIds=t,this.key=r,this.$=a}}class US{constructor(e,t){this.targetId=e,this.O=t}}class fg{constructor(e,t,r=fr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class _C{constructor(){this.F=0,this.M=vC(),this.L=fr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=qt(),t=qt(),r=qt();return this.M.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:rt()}}),new ls(this.L,this.B,e,t,r)}G(){this.U=!1,this.M=vC()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class BS{constructor(e){this.tt=e,this.et=new Map,this.nt=fo(),this.st=jS(),this.it=new jn(Pt)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,t=>{const r=this.ut(t);switch(e.state){case 0:this.ht(t)&&r.j(e.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(e.resumeToken);break;case 2:r.X(),r.q||this.removeTarget(t);break;case 3:this.ht(t)&&(r.Z(),r.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),r.j(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((r,a)=>{this.ht(a)&&t(a)})}ft(e){const t=e.targetId,r=e.O.count,a=this.dt(t);if(a){const c=a.target;if(Ql(c))if(0===r){const f=new Xe(c.path);this.at(t,f,kn.newNoDocument(f,At.min()))}else pt(1===r);else this.wt(t)!==r&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((c,f)=>{const _=this.dt(f);if(_){if(c.current&&Ql(_.target)){const w=new Xe(_.target.path);null!==this.nt.get(w)||this.gt(f,w)||this.at(f,w,kn.newNoDocument(w,e))}c.K&&(t.set(f,c.W()),c.G())}});let r=qt();this.st.forEach((c,f)=>{let _=!0;f.forEachWhile(w=>{const S=this.dt(w);return!S||2===S.purpose||(_=!1,!1)}),_&&(r=r.add(c))});const a=new dg(e,t,this.it,this.nt,r);return this.nt=fo(),this.st=jS(),this.it=new jn(Pt),a}ot(e,t){if(!this.ht(e))return;const r=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,r),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,r){if(!this.ht(e))return;const a=this.ut(e);this.gt(e,t)?a.H(t,1):a.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),r&&(this.nt=this.nt.insert(t,r))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new _C,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new jn(Pt),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||Ue("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new _C),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function jS(){return new mr(Xe.comparator)}function vC(){return new mr(Xe.comparator)}const $S={asc:"ASCENDING",desc:"DESCENDING"},HS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class N0{constructor(e,t){this.databaseId=e,this.D=t}}function af(n,e){return n.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function c_(n,e){return n.D?e.toBase64():e.toUint8Array()}function EC(n,e){return af(n,e.toTimestamp())}function Br(n){return pt(!!n),At.fromTimestamp(function(e){const t=Lu(e);return new Dr(t.seconds,t.nanos)}(n))}function bC(n,e){return(t=n,new kt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function wC(n){const e=kt.fromString(n);return pt(xC(e)),e}function pg(n,e){return bC(n.databaseId,e.path)}function Pa(n,e){const t=wC(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Xe(IC(t))}function d_(n,e){return bC(n.databaseId,e)}function M0(n){const e=wC(n);return 4===e.length?kt.emptyPath():IC(e)}function uf(n){return new kt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function IC(n){return pt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function CC(n,e,t){return{name:pg(n,e),fields:t.value.mapValue.fields}}function O0(n,e,t){const r=Pa(n,e.name),a=Br(e.updateTime),c=new Ei({mapValue:{fields:e.fields}}),f=kn.newFoundDocument(r,a,c);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function gg(n,e){let t;if(e instanceof rf)t={update:CC(n,e.key,e.value)};else if(e instanceof bd)t={delete:pg(n,e.key)};else if(e instanceof ec)t={update:CC(n,e.key,e.data),updateMask:GN(e.fieldMask)};else{if(!(e instanceof a_))return rt();t={verify:pg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,c){const f=c.transform;if(f instanceof _d)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof vd)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ed)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof nf)return{fieldPath:c.field.canonicalString(),increment:f.C};throw rt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:EC(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:rt()),t;var a}function mg(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?pr.updateTime(Br(a.updateTime)):void 0!==a.exists?pr.exists(a.exists):pr.none():pr.none(),r=e.updateTransforms?e.updateTransforms.map(a=>function(c,f){let _=null;"setToServerValue"in f?(pt("REQUEST_TIME"===f.setToServerValue),_=new _d):"appendMissingElements"in f?_=new vd(f.appendMissingElements.values||[]):"removeAllFromArray"in f?_=new Ed(f.removeAllFromArray.values||[]):"increment"in f?_=new nf(c,f.increment):rt();const w=ni.fromServerFormat(f.fieldPath);return new lg(w,_)}(n,a)):[];var a;if(e.update){const a=Pa(n,e.update.name),c=new Ei({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new $o((e.updateMask.fieldPaths||[]).map(S=>ni.fromServerFormat(S)));return new ec(a,c,f,t,r)}return new rf(a,c,t,r)}if(e.delete){const a=Pa(n,e.delete);return new bd(a,t)}if(e.verify){const a=Pa(n,e.verify);return new a_(a,t)}return rt()}function lf(n,e){return{documents:[d_(n,e.path)]}}function TC(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=d_(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=d_(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const a=function(_){if(0===_.length)return;const w=_.map(S=>function(x){if("=="===x.op){if(eC(x.value))return{unaryFilter:{field:cf(x.field),op:"IS_NAN"}};if(XI(x.value))return{unaryFilter:{field:cf(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(eC(x.value))return{unaryFilter:{field:cf(x.field),op:"IS_NOT_NAN"}};if(XI(x.value))return{unaryFilter:{field:cf(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cf(x.field),op:ZS(x.op),value:x.value}}}(S));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);a&&(t.structuredQuery.where=a);const c=function(_){if(0!==_.length)return _.map(w=>{return{field:cf((S=w).field),direction:GS(S.dir)};var S})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=(w=e.limit,n.D||gd(w)?w:{value:w});var w;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=SC(e.startAt)),e.endAt&&(t.structuredQuery.endAt=SC(e.endAt)),t}function DC(n){let e=M0(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){pt(1===r);const x=t.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let c=[];t.where&&(c=AC(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(x=>{return new sg(df((P=x).field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let _=null;t.limit&&(_=function(x){let P;return P="object"==typeof x?x.value:x,gd(P)?null:P}(t.limit));let w=null;t.startAt&&(w=RC(t.startAt));let S=null;return t.endAt&&(S=RC(t.endAt)),oC(e,a,f,c,_,"F",w,S)}function AC(n){return n?void 0!==n.unaryFilter?[WS(n)]:void 0!==n.fieldFilter?[zS(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>AC(e)).reduce((e,t)=>e.concat(t)):rt():[]}function SC(n){return{before:n.before,values:n.position}}function RC(n){return new ig(n.values||[],!!n.before)}function GS(n){return $S[n]}function ZS(n){return HS[n]}function cf(n){return{fieldPath:n.canonicalString()}}function df(n){return ni.fromServerFormat(n.fieldPath)}function zS(n){return Ar.create(df(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}function WS(n){switch(n.unaryFilter.op){case"IS_NAN":const e=df(n.unaryFilter.field);return Ar.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=df(n.unaryFilter.field);return Ar.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=df(n.unaryFilter.field);return Ar.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=df(n.unaryFilter.field);return Ar.create(a,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}function GN(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xC(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Vi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=NC(e)),e=KS(n.get(t),e);return NC(e)}function KS(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const c=n.charAt(a);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function NC(n){return n+"\x01\x01"}function Uu(n){const e=n.length;if(pt(e>=2),2===e)return pt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),kt.emptyPath();const t=e-2,r=[];let a="";for(let c=0;c<e;){const f=n.indexOf("\x01",c);switch((f<0||f>t)&&rt(),n.charAt(f+1)){case"\x01":const _=n.substring(c,f);let w;0===a.length?w=_:(a+=_,w=a,a=""),r.push(w);break;case"\x10":a+=n.substring(c,f),a+="\0";break;case"\x11":a+=n.substring(c,f+1);break;default:rt()}c=f+2}return new kt(r)}class p_{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Sr{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}Sr.store="owner",Sr.key="owner";class Bu{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}Bu.store="mutationQueues",Bu.keyPath="userId";class Sn{constructor(e,t,r,a,c){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=a,this.mutations=c}}Sn.store="mutations",Sn.keyPath="batchId",Sn.userMutationsIndex="userMutationsIndex",Sn.userMutationsKeyPath=["userId","batchId"];class Ui{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Vi(t)]}static key(e,t,r){return[e,Vi(t),r]}}Ui.store="documentMutations",Ui.PLACEHOLDER=new Ui;class YS{constructor(e,t){this.path=e,this.readTime=t}}class g_{constructor(e,t){this.path=e,this.version=t}}class qn{constructor(e,t,r,a,c,f){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=a,this.readTime=c,this.parentPath=f}}qn.store="remoteDocuments",qn.readTimeIndex="readTimeIndex",qn.readTimeIndexPath="readTime",qn.collectionReadTimeIndex="collectionReadTimeIndex",qn.collectionReadTimeIndexPath=["parentPath","readTime"];class ka{constructor(e){this.byteSize=e}}ka.store="remoteDocumentGlobal",ka.key="remoteDocumentGlobalKey";class Bi{constructor(e,t,r,a,c,f,_){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=a,this.lastListenSequenceNumber=c,this.lastLimboFreeSnapshotVersion=f,this.query=_}}Bi.store="targets",Bi.keyPath="targetId",Bi.queryTargetsIndexName="queryTargetsIndex",Bi.queryTargetsKeyPath=["canonicalId","targetId"];class jr{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}jr.store="targetDocuments",jr.keyPath=["targetId","path"],jr.documentTargetsIndex="documentTargetsIndex",jr.documentTargetsKeyPath=["path","targetId"];class ji{constructor(e,t,r,a){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=a}}ji.key="targetGlobalKey",ji.store="targetGlobal";class tc{constructor(e,t){this.collectionId=e,this.parent=t}}tc.store="collectionParents",tc.keyPath=["collectionId","parent"];class Fa{constructor(e,t,r,a){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=a}}Fa.store="clientMetadata",Fa.keyPath="clientId";class hf{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}hf.store="bundles",hf.keyPath="bundleId";class ff{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}ff.store="namedQueries",ff.keyPath="name";const MC=[Bu.store,Sn.store,Ui.store,qn.store,Bi.store,Sr.store,ji.store,jr.store,Fa.store,ka.store,tc.store,hf.store,ff.store],OC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class P0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ne((r,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ne?t:Ne.resolve(t)}catch(t){return Ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ne.reject(t)}static resolve(e){return new Ne((t,r)=>{t(e)})}static reject(e){return new Ne((t,r)=>{r(e)})}static waitFor(e){return new Ne((t,r)=>{let a=0,c=0,f=!1;e.forEach(_=>{++a,_.next(()=>{++c,f&&c===a&&t()},w=>r(w))}),f=!0,c===a&&t()})}static or(e){let t=Ne.resolve(!1);for(const r of e)t=t.next(a=>a?Ne.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,c)=>{r.push(t.call(this,a,c))}),this.waitFor(r)}}class wd{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new Vr,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new Gt(e,t.error)):this.Et.resolve()},this.transaction.onerror=r=>{const a=yt(r.target.error);this.Et.reject(new Gt(e,a))}}static open(e,t,r,a){try{return new wd(t,e.transaction(a,r))}catch(c){throw new Gt(t,c)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(Ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new pf(t)}}class La{constructor(e,t,r){this.name=e,this.version=t,this.At=r,12.2===La.Rt((0,wt.z$)())&&hr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ue("SimpleDb","Removing database:",e),Ho(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,wt.hl)())return!1;if(La.Pt())return!0;const e=(0,wt.z$)(),t=La.Rt(e),r=0<t&&t<10,a=La.vt(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Dt(e){var t=this;return(0,me.Z)(function*(){return t.db||(Ue("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,a)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=f=>{r(f.target.result)},c.onblocked=()=>{a(new Gt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=f=>{const _=f.target.error;a("VersionError"===_.name?new Oe(ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===_.name?new Oe(ve.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+_):new Gt(e,_))},c.onupgradeneeded=f=>{Ue("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.At.Ct(f.target.result,c.transaction,f.oldVersion,t.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=r=>t.Nt(r)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,a){var c=this;return(0,me.Z)(function*(){const f="readonly"===t;let _=0;for(;;){++_;try{c.db=yield c.Dt(e);const w=wd.open(c.db,e,f?"readonly":"readwrite",r),S=a(w).catch(x=>(w.abort(x),Ne.reject(x))).toPromise();return S.catch(()=>{}),yield w.It,S}catch(w){const S="FirebaseError"!==w.name&&_<3;if(Ue("SimpleDb","Transaction failed with error:",w.message,"Retrying:",S),c.close(),!S)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class yg{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return Ho(this.kt.delete())}}class Gt extends Oe{constructor(e,t){super(ve.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function cs(n){return"IndexedDbTransactionError"===n.name}class pf{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ue("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ho(r)}add(e){return Ue("SimpleDb","ADD",this.store.name,e,e),Ho(this.store.add(e))}get(e){return Ho(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ue("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ue("SimpleDb","DELETE",this.store.name,e),Ho(this.store.delete(e))}count(){return Ue("SimpleDb","COUNT",this.store.name),Ho(this.store.count())}Lt(e,t){const r=this.cursor(this.options(e,t)),a=[];return this.Bt(r,(c,f)=>{a.push(f)}).next(()=>a)}Ut(e,t){Ue("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.qt=!1;const a=this.cursor(r);return this.Bt(a,(c,f,_)=>_.delete())}Kt(e,t){let r;t?r=e:(r={},t=e);const a=this.cursor(r);return this.Bt(a,t)}jt(e){const t=this.cursor({});return new Ne((r,a)=>{t.onerror=c=>{const f=yt(c.target.error);a(f)},t.onsuccess=c=>{const f=c.target.result;f?e(f.primaryKey,f.value).next(_=>{_?f.continue():r()}):r()}})}Bt(e,t){const r=[];return new Ne((a,c)=>{e.onerror=f=>{c(f.target.error)},e.onsuccess=f=>{const _=f.target.result;if(!_)return void a();const w=new yg(_),S=t(_.primaryKey,_.value,w);if(S instanceof Ne){const x=S.catch(P=>(w.done(),Ne.reject(P)));r.push(x)}w.isDone?a():null===w.Ft?_.continue():_.continue(w.Ft)}}).next(()=>Ne.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.qt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ho(n){return new Ne((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const a=yt(r.target.error);t(a)}})}let QS=!1;function yt(n){const e=La.Rt((0,wt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return QS||(QS=!0,setTimeout(()=>{throw r},0)),r}}return n}class Bs extends P0{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function bi(n,e){const t=He(n);return La.St(t.Qt,e)}class ju{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&FS(c,e,r[a])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&s_(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&s_(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),a=r;this.applyToLocalView(a),r.isValidDocument()||a.convertToNoDocument(At.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qt())}isEqual(e){return this.batchId===e.batchId&&pd(this.mutations,e.mutations,(t,r)=>hC(t,r))&&pd(this.baseMutations,e.baseMutations,(t,r)=>hC(t,r))}}class PC{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){pt(e.mutations.length===r.length);let a=cg();const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,r[f].version);return new PC(e,t,r,a)}}class $u{constructor(e,t,r,a,c=At.min(),f=At.min(),_=fr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=_}withSequenceNumber(e){return new $u(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new $u(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new $u(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class k0{constructor(e){this.Wt=e}}function kC(n,e){if(e.document)return O0(n.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=Xe.fromSegments(e.noDocument.path),r=wi(e.noDocument.readTime),a=kn.newNoDocument(t,r);return e.hasCommittedMutations?a.setHasCommittedMutations():a}if(e.unknownDocument){const t=Xe.fromSegments(e.unknownDocument.path),r=wi(e.unknownDocument.version);return kn.newUnknownDocument(t,r)}return rt()}function FC(n,e,t){const r=F0(t),a=e.key.path.popLast().toArray();if(e.isFoundDocument()){const c={name:pg(_=n.Wt,(w=e).key),fields:w.data.value.mapValue.fields,updateTime:af(_,w.version.toTimestamp())};return new qn(null,null,c,e.hasCommittedMutations,r,a)}var _,w;if(e.isNoDocument()){const c=e.key.path.toArray(),f=hn(e.version),_=e.hasCommittedMutations;return new qn(null,new YS(c,f),null,_,r,a)}if(e.isUnknownDocument()){const c=e.key.path.toArray(),f=hn(e.version);return new qn(new g_(c,f),null,null,!0,r,a)}return rt()}function F0(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function js(n){const e=new Dr(n[0],n[1]);return At.fromTimestamp(e)}function hn(n){const e=n.toTimestamp();return new p_(e.seconds,e.nanoseconds)}function wi(n){const e=new Dr(n.seconds,n.nanoseconds);return At.fromTimestamp(e)}function Id(n,e){const t=(e.baseMutations||[]).map(c=>mg(n.Wt,c));for(let c=0;c<e.mutations.length-1;++c){const f=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(f.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const r=e.mutations.map(c=>mg(n.Wt,c)),a=Dr.fromMillis(e.localWriteTimeMs);return new ju(e.batchId,a,t,r)}function _g(n){const e=wi(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?wi(n.lastLimboFreeSnapshotVersion):At.min();let r;var a;return void 0!==n.query.documents?(pt(1===(a=n.query).documents.length),r=ho(ef(M0(a.documents[0])))):r=ho(DC(n.query)),new $u(r,n.targetId,0,n.lastListenSequenceNumber,e,t,fr.fromBase64String(n.resumeToken))}function L0(n,e){const t=hn(e.snapshotVersion),r=hn(e.lastLimboFreeSnapshotVersion);let a;a=Ql(e.target)?lf(n.Wt,e.target):TC(n.Wt,e.target);const c=e.resumeToken.toBase64();return new Bi(e.targetId,Xh(e.target),t,c,e.sequenceNumber,r,a)}function vg(n){const e=DC({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?E0(e,e.limit,"L"):e}class gf{getBundleMetadata(e,t){return mf(e).get(t).next(r=>{if(r)return{id:(a=r).bundleId,createTime:wi(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return mf(e).put({bundleId:(r=t).id,createTime:hn(Br(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return LC(e).get(t).next(r=>{if(r)return{name:(a=r).name,query:vg(a.bundledQuery),readTime:wi(a.readTime)};var a})}saveNamedQuery(e,t){return LC(e).put({name:(r=t).name,readTime:hn(Br(r.readTime)),bundledQuery:r.bundledQuery});var r}}function mf(n){return bi(n,hf.store)}function LC(n){return bi(n,ff.store)}class Cd{constructor(){this.Gt=new V0}addToCollectionParentIndex(e,t){return this.Gt.add(t),Ne.resolve()}getCollectionParents(e,t){return Ne.resolve(this.Gt.getEntries(t))}}class V0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new jn(kt.comparator),c=!a.has(r);return this.index[t]=a.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new jn(kt.comparator)).toArray()}}class VC{constructor(){this.zt=new V0}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const r=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const c={collectionId:r,parent:Vi(a)};return m_(e).put(c)}return Ne.resolve()}getCollectionParents(e,t){const r=[],a=IDBKeyRange.bound([t,""],[c0(t),""],!1,!0);return m_(e).Lt(a).next(c=>{for(const f of c){if(f.collectionId!==t)break;r.push(Uu(f.parent))}return r})}}function m_(n){return bi(n,tc.store)}const yf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ii{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ii(e,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function U0(n,e,t){const r=n.store(Sn.store),a=n.store(Ui.store),c=[],f=IDBKeyRange.only(t.batchId);let _=0;const w=r.Kt({range:f},(x,P,H)=>(_++,H.delete()));c.push(w.next(()=>{pt(1===_)}));const S=[];for(const x of t.mutations){const P=Ui.key(e,x.key.path,t.batchId);c.push(a.delete(P)),S.push(x.key)}return Ne.waitFor(c).next(()=>S)}function Hu(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw rt();e=n.noDocument}return JSON.stringify(e).length}Ii.DEFAULT_COLLECTION_PERCENTILE=10,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ii.DEFAULT=new Ii(41943040,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ii.DISABLED=new Ii(-1,0,0);class B0{constructor(e,t,r,a){this.userId=e,this.N=t,this.Ht=r,this.referenceDelegate=a,this.Jt={}}static Yt(e,t,r,a){pt(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new B0(c,t,r,a)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qu(e).Kt({index:Sn.userMutationsIndex,range:r},(a,c,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,r,a){const c=Td(e),f=qu(e);return f.add({}).next(_=>{pt("number"==typeof _);const w=new ju(_,t,r,a),S=function(H,K,ye){const Fe=ye.baseMutations.map(_t=>gg(H.Wt,_t)),qe=ye.mutations.map(_t=>gg(H.Wt,_t));return new Sn(K,ye.batchId,ye.localWriteTime.toMillis(),Fe,qe)}(this.N,this.userId,w),x=[];let P=new jn((H,K)=>Pt(H.canonicalString(),K.canonicalString()));for(const H of a){const K=Ui.key(this.userId,H.key.path,_);P=P.add(H.key.path.popLast()),x.push(f.put(S)),x.push(c.put(K,Ui.PLACEHOLDER))}return P.forEach(H=>{x.push(this.Ht.addToCollectionParentIndex(e,H))}),e.addOnCommittedListener(()=>{this.Jt[_]=w.keys()}),Ne.waitFor(x).next(()=>w)})}lookupMutationBatch(e,t){return qu(e).get(t).next(r=>r?(pt(r.userId===this.userId),Id(this.N,r)):null)}Xt(e,t){return this.Jt[t]?Ne.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const a=r.keys();return this.Jt[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return qu(e).Kt({index:Sn.userMutationsIndex,range:a},(f,_,w)=>{_.userId===this.userId&&(pt(_.batchId>=r),c=Id(this.N,_)),w.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return qu(e).Kt({index:Sn.userMutationsIndex,range:t,reverse:!0},(a,c,f)=>{r=c.batchId,f.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return qu(e).Lt(Sn.userMutationsIndex,t).next(r=>r.map(a=>Id(this.N,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Ui.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(r),c=[];return Td(e).Kt({range:a},(f,_,w)=>{const[S,x,P]=f,H=Uu(x);if(S===this.userId&&t.path.isEqual(H))return qu(e).get(P).next(K=>{if(!K)throw rt();pt(K.userId===this.userId),c.push(Id(this.N,K))});w.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new jn(Pt);const a=[];return t.forEach(c=>{const f=Ui.prefixForPath(this.userId,c.path),_=IDBKeyRange.lowerBound(f),w=Td(e).Kt({range:_},(S,x,P)=>{const[H,K,ye]=S,Fe=Uu(K);H===this.userId&&c.path.isEqual(Fe)?r=r.add(ye):P.done()});a.push(w)}),Ne.waitFor(a).next(()=>this.Zt(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1,c=Ui.prefixForPath(this.userId,r),f=IDBKeyRange.lowerBound(c);let _=new jn(Pt);return Td(e).Kt({range:f},(w,S,x)=>{const[P,H,K]=w,ye=Uu(H);P===this.userId&&r.isPrefixOf(ye)?ye.length===a&&(_=_.add(K)):x.done()}).next(()=>this.Zt(e,_))}Zt(e,t){const r=[],a=[];return t.forEach(c=>{a.push(qu(e).get(c).next(f=>{if(null===f)throw rt();pt(f.userId===this.userId),r.push(Id(this.N,f))}))}),Ne.waitFor(a).next(()=>r)}removeMutationBatch(e,t){return U0(e.Qt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),Ne.forEach(r,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ne.resolve();const r=IDBKeyRange.lowerBound(Ui.prefixForUser(this.userId)),a=[];return Td(e).Kt({range:r},(c,f,_)=>{if(c[0]===this.userId){const w=Uu(c[1]);a.push(w)}else _.done()}).next(()=>{pt(0===a.length)})})}containsKey(e,t){return Eg(e,this.userId,t)}ee(e){return j0(e).get(this.userId).next(t=>t||new Bu(this.userId,-1,""))}}function Eg(n,e,t){const r=Ui.prefixForPath(e,t.path),a=r[1],c=IDBKeyRange.lowerBound(r);let f=!1;return Td(n).Kt({range:c,qt:!0},(_,w,S)=>{const[x,P,H]=_;x===e&&P===a&&(f=!0),S.done()}).next(()=>f)}function qu(n){return bi(n,Sn.store)}function Td(n){return bi(n,Ui.store)}function j0(n){return bi(n,Bu.store)}class Va{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Va(0)}static ie(){return new Va(-1)}}class JS{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const r=new Va(t.highestTargetId);return t.highestTargetId=r.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(t=>At.fromTimestamp(new Dr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.re(e).next(a=>(a.highestListenSequenceNumber=t,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.oe(e,a)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.re(e).next(r=>(r.targetCount+=1,this.ce(t,r),this.oe(e,r))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>nc(e).delete(t.targetId)).next(()=>this.re(e)).next(r=>(pt(r.targetCount>0),r.targetCount-=1,this.oe(e,r)))}removeTargets(e,t,r){let a=0;const c=[];return nc(e).Kt((f,_)=>{const w=_g(_);w.sequenceNumber<=t&&null===r.get(w.targetId)&&(a++,c.push(this.removeTargetData(e,w)))}).next(()=>Ne.waitFor(c)).next(()=>a)}forEachTarget(e,t){return nc(e).Kt((r,a)=>{const c=_g(a);t(c)})}re(e){return y_(e).get(ji.key).next(t=>(pt(null!==t),t))}oe(e,t){return y_(e).put(ji.key,t)}ae(e,t){return nc(e).put(L0(this.N,t))}ce(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.re(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Xh(t),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return nc(e).Kt({range:a,index:Bi.queryTargetsIndexName},(f,_,w)=>{const S=_g(_);e_(t,S.target)&&(c=S,w.done())}).next(()=>c)}addMatchingKeys(e,t,r){const a=[],c=Dd(e);return t.forEach(f=>{const _=Vi(f.path);a.push(c.put(new jr(r,_))),a.push(this.referenceDelegate.addReference(e,r,f))}),Ne.waitFor(a)}removeMatchingKeys(e,t,r){const a=Dd(e);return Ne.forEach(t,c=>{const f=Vi(c.path);return Ne.waitFor([a.delete([r,f]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,t){const r=Dd(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),a=Dd(e);let c=qt();return a.Kt({range:r,qt:!0},(f,_,w)=>{const S=Uu(f[1]),x=new Xe(S);c=c.add(x)}).next(()=>c)}containsKey(e,t){const r=Vi(t.path),a=IDBKeyRange.bound([r],[c0(r)],!1,!0);let c=0;return Dd(e).Kt({index:jr.documentTargetsIndex,qt:!0,range:a},([f,_],w,S)=>{0!==f&&(c++,S.done())}).next(()=>c>0)}Tt(e,t){return nc(e).get(t).next(r=>r?_g(r):null)}}function nc(n){return bi(n,Bi.store)}function y_(n){return bi(n,ji.store)}function Dd(n){return bi(n,jr.store)}function _f(n){return gt.apply(this,arguments)}function gt(){return(gt=(0,me.Z)(function*(n){if(n.code!==ve.FAILED_PRECONDITION||n.message!==OC)throw n;Ue("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function XS([n,e],[t,r]){const a=Pt(n,t);return 0===a?Pt(e,r):a}class bg{constructor(e){this.ue=e,this.buffer=new jn(XS),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();XS(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class eR{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const r=this.de?3e5:6e4;Ue("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,me.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(a){cs(a)?Ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield _f(a)}yield t._e(e)}))}}class tR{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ne.resolve(Us.T);const r=new bg(t);return this.me.forEachTarget(e,a=>r.fe(a.sequenceNumber)).next(()=>this.me.ye(e,a=>r.fe(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.me.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),Ne.resolve(yf)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yf):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let r,a,c,f,_,w,S;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(P=>(P>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),a=this.params.maximumSequenceNumbersToCollect):a=P,f=Date.now(),this.nthSequenceNumber(e,a))).next(P=>(r=P,_=Date.now(),this.removeTargets(e,r,t))).next(P=>(c=P,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(P=>(S=Date.now(),Gy()<=Cu.in.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-x}ms\n\tDetermined least recently used ${a} in `+(_-f)+`ms\n\tRemoved ${c} targets in `+(w-_)+`ms\n\tRemoved ${P} documents in `+(S-w)+`ms\nTotal Duration: ${S-x}ms`),Ne.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:P})))}}class nR{constructor(e,t){this.db=e,this.garbageCollector=new tR(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Te(e){let t=0;return this.ye(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(r,a)=>t(a))}addReference(e,t,r){return $0(e,r)}removeReference(e,t,r){return $0(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return $0(e,t)}Ie(e,t){return function(r,a){let c=!1;return j0(r).jt(f=>Eg(r,f,a).next(_=>(_&&(c=!0),Ne.resolve(!_)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Ee(e,(f,_)=>{if(_<=t){const w=this.Ie(e,f).next(S=>{if(!S)return c++,r.getEntry(e,f).next(()=>(r.removeEntry(f),Dd(e).delete([0,Vi(f.path)])))});a.push(w)}}).next(()=>Ne.waitFor(a)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return $0(e,t)}Ee(e,t){const r=Dd(e);let a,c=Us.T;return r.Kt({index:jr.documentTargetsIndex},([f,_],{path:w,sequenceNumber:S})=>{0===f?(c!==Us.T&&t(new Xe(Uu(a)),c),c=S,a=w):c=Us.T}).next(()=>{c!==Us.T&&t(new Xe(Uu(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function $0(n,e){return Dd(n).put((r=n.currentSequenceNumber,new jr(0,Vi(e.path),r)));var r}class wg{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[a,c]of r)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0!==a){for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return 1===r.length?delete this.inner[t]:r.splice(a,1),!0;return!1}forEach(e){Yl(this.inner,(t,r)=>{for(const[a,c]of r)e(a,c)})}isEmpty(){return Zy(this.inner)}}class UC{constructor(){this.changes=new wg(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:At.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:kn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ne.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ci{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,r){return Ua(e).put(__(t),r)}removeEntry(e,t){const r=Ua(e),a=__(t);return r.delete(a)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Ae(e,r)))}getEntry(e,t){return Ua(e).get(__(t)).next(r=>this.Re(t,r))}be(e,t){return Ua(e).get(__(t)).next(r=>({document:this.Re(t,r),size:Hu(r)}))}getEntries(e,t){let r=fo();return this.Pe(e,t,(a,c)=>{const f=this.Re(a,c);r=r.insert(a,f)}).next(()=>r)}ve(e,t){let r=fo(),a=new mr(Xe.comparator);return this.Pe(e,t,(c,f)=>{const _=this.Re(c,f);r=r.insert(c,_),a=a.insert(c,Hu(f))}).next(()=>({documents:r,Ve:a}))}Pe(e,t,r){if(t.isEmpty())return Ne.resolve();const a=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),c=t.getIterator();let f=c.getNext();return Ua(e).Kt({range:a},(_,w,S)=>{const x=Xe.fromSegments(_);for(;f&&Xe.comparator(f,x)<0;)r(f,null),f=c.getNext();f&&f.isEqual(x)&&(r(f,w),f=c.hasNext()?c.getNext():null),f?S.Mt(f.path.toArray()):S.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r){let a=fo();const c=t.path.length+1,f={};if(r.isEqual(At.min())){const _=t.path.toArray();f.range=IDBKeyRange.lowerBound(_)}else{const _=t.path.toArray(),w=F0(r);f.range=IDBKeyRange.lowerBound([_,w],!0),f.index=qn.collectionReadTimeIndex}return Ua(e).Kt(f,(_,w,S)=>{if(_.length!==c)return;const x=kC(this.N,w);t.path.isPrefixOf(x.key.path)?ug(t,x)&&(a=a.insert(x.key,x)):S.done()}).next(()=>a)}newChangeBuffer(e){return new rR(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return BC(e).get(ka.key).next(t=>(pt(!!t),t))}Ae(e,t){return BC(e).put(ka.key,t)}Re(e,t){if(t){const r=kC(this.N,t);if(!r.isNoDocument()||!r.version.isEqual(At.min()))return r}return kn.newInvalidDocument(e)}}class rR extends UC{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new wg(r=>r.toString(),(r,a)=>r.isEqual(a))}applyChanges(e){const t=[];let r=0,a=new jn((c,f)=>Pt(c.canonicalString(),f.canonicalString()));return this.changes.forEach((c,f)=>{const _=this.De.get(c);if(f.document.isValidDocument()){const w=FC(this.Se.N,f.document,this.getReadTime(c));a=a.add(c.path.popLast()),r+=Hu(w)-_,t.push(this.Se.addEntry(e,c,w))}else if(r-=_,this.trackRemovals){const w=FC(this.Se.N,kn.newNoDocument(c,At.min()),this.getReadTime(c));t.push(this.Se.addEntry(e,c,w))}else t.push(this.Se.removeEntry(e,c))}),a.forEach(c=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,c))}),t.push(this.Se.updateMetadata(e,r)),Ne.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(r=>(this.De.set(t,r.size),r.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:r,Ve:a})=>(a.forEach((c,f)=>{this.De.set(c,f)}),r))}}function BC(n){return bi(n,ka.store)}function Ua(n){return bi(n,qn.store)}function __(n){return n.path.toArray()}class iR{constructor(e){this.N=e}Ct(e,t,r,a){pt(r<a&&r>=0&&a<=11);const c=new wd("createOrUpgrade",t);var _;r<1&&a>=1&&(e.createObjectStore(Sr.store),(_=e).createObjectStore(Bu.store,{keyPath:Bu.keyPath}),_.createObjectStore(Sn.store,{keyPath:Sn.keyPath,autoIncrement:!0}).createIndex(Sn.userMutationsIndex,Sn.userMutationsKeyPath,{unique:!0}),_.createObjectStore(Ui.store),jC(e),function(_){_.createObjectStore(qn.store)}(e));let f=Ne.resolve();return r<3&&a>=3&&(0!==r&&(function(_){_.deleteObjectStore(jr.store),_.deleteObjectStore(Bi.store),_.deleteObjectStore(ji.store)}(e),jC(e)),f=f.next(()=>function(_){const w=_.store(ji.store),S=new ji(0,0,At.min().toTimestamp(),0);return w.put(ji.key,S)}(c))),r<4&&a>=4&&(0!==r&&(f=f.next(()=>function(_,w){return w.store(Sn.store).Lt().next(S=>{_.deleteObjectStore(Sn.store),_.createObjectStore(Sn.store,{keyPath:Sn.keyPath,autoIncrement:!0}).createIndex(Sn.userMutationsIndex,Sn.userMutationsKeyPath,{unique:!0});const x=w.store(Sn.store),P=S.map(H=>x.put(H));return Ne.waitFor(P)})}(e,c))),f=f.next(()=>{!function(_){_.createObjectStore(Fa.store,{keyPath:Fa.keyPath})}(e)})),r<5&&a>=5&&(f=f.next(()=>this.Ce(c))),r<6&&a>=6&&(f=f.next(()=>(function(_){_.createObjectStore(ka.store)}(e),this.Ne(c)))),r<7&&a>=7&&(f=f.next(()=>this.xe(c))),r<8&&a>=8&&(f=f.next(()=>this.ke(e,c))),r<9&&a>=9&&(f=f.next(()=>{(function(_){_.objectStoreNames.contains("remoteDocumentChanges")&&_.deleteObjectStore("remoteDocumentChanges")})(e),function(_){const w=_.objectStore(qn.store);w.createIndex(qn.readTimeIndex,qn.readTimeIndexPath,{unique:!1}),w.createIndex(qn.collectionReadTimeIndex,qn.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&a>=10&&(f=f.next(()=>this.$e(c))),r<11&&a>=11&&(f=f.next(()=>{(function(_){_.createObjectStore(hf.store,{keyPath:hf.keyPath})})(e),function(_){_.createObjectStore(ff.store,{keyPath:ff.keyPath})}(e)})),f}Ne(e){let t=0;return e.store(qn.store).Kt((r,a)=>{t+=Hu(a)}).next(()=>{const r=new ka(t);return e.store(ka.store).put(ka.key,r)})}Ce(e){const t=e.store(Bu.store),r=e.store(Sn.store);return t.Lt().next(a=>Ne.forEach(a,c=>{const f=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.Lt(Sn.userMutationsIndex,f).next(_=>Ne.forEach(_,w=>{pt(w.userId===c.userId);const S=Id(this.N,w);return U0(e,c.userId,S).next(()=>{})}))}))}xe(e){const t=e.store(jr.store),r=e.store(qn.store);return e.store(ji.store).get(ji.key).next(a=>{const c=[];return r.Kt((f,_)=>{const w=new kt(f),S=[0,Vi(w)];c.push(t.get(S).next(x=>x?Ne.resolve():t.put(new jr(0,Vi(w),a.highestListenSequenceNumber))))}).next(()=>Ne.waitFor(c))})}ke(e,t){e.createObjectStore(tc.store,{keyPath:tc.keyPath});const r=t.store(tc.store),a=new V0,c=f=>{if(a.add(f)){const _=f.lastSegment(),w=f.popLast();return r.put({collectionId:_,parent:Vi(w)})}};return t.store(qn.store).Kt({qt:!0},(f,_)=>{const w=new kt(f);return c(w.popLast())}).next(()=>t.store(Ui.store).Kt({qt:!0},([f,_,w],S)=>{const x=Uu(_);return c(x.popLast())}))}$e(e){const t=e.store(Bi.store);return t.Kt((r,a)=>{const c=_g(a),f=L0(this.N,c);return t.put(f)})}}function jC(n){n.createObjectStore(jr.store,{keyPath:jr.keyPath}).createIndex(jr.documentTargetsIndex,jr.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Bi.store,{keyPath:Bi.keyPath}).createIndex(Bi.queryTargetsIndexName,Bi.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(ji.store)}const H0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class q0{constructor(e,t,r,a,c,f,_,w,S,x){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Oe=c,this.window=f,this.document=_,this.Fe=S,this.Me=x,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=P=>Promise.resolve(),!q0.bt())throw new Oe(ve.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new nR(this,a),this.We=t+"main",this.N=new k0(w),this.Ge=new La(this.We,11,new iR(this.N)),this.ze=new JS(this.referenceDelegate,this.N),this.Ht=new VC,this.He=new Ci(this.N,this.Ht),this.Je=new gf,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===x&&hr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(ve.FAILED_PRECONDITION,H0);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new Us(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var r=(0,me.Z)(function*(a){if(t.started)return e(a)});return function(a){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,me.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,me.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>vf(e).put(new Fa(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(cs(e))return Ue("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return Ig(e).get(Sr.key).next(t=>Ne.resolve(this.cn(t)))}un(e){return vf(e).delete(this.clientId)}hn(){var e=this;return(0,me.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const a=bi(r,Fa.store);return a.Lt().next(c=>{const f=e.fn(c,18e5),_=c.filter(w=>-1===f.indexOf(w));return Ne.forEach(_,w=>a.delete(w.clientId)).next(()=>_)})}).catch(()=>[]);if(e.Ye)for(const r of t)e.Ye.removeItem(e.dn(r.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Ne.resolve(!0):Ig(e).get(Sr.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.cn(t)&&this.networkEnabled)return!0;if(!this.cn(t)){if(!t.allowTabSynchronization)throw new Oe(ve.FAILED_PRECONDITION,H0);return!1}}return!(!this.networkEnabled||!this.inForeground)||vf(e).Lt().next(r=>void 0===this.fn(r,5e3).find(a=>{if(this.clientId!==a.clientId){const f=!this.inForeground&&a.inForeground,_=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||f&&_)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ue("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,me.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[Sr.store,Fa.store],t=>{const r=new Bs(t,Us.T);return e.on(r).next(()=>e.un(r))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(r=>this.ln(r.updateTimeMs,t)&&!this.wn(r.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>vf(e).Lt().next(t=>this.fn(t,18e5).map(r=>r.clientId)))}get started(){return this.Be}getMutationQueue(e){return B0.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,r){let c;return Ue("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",MC,f=>(c=new Bs(f,this.Le?this.Le.next():Us.T),"readwrite-primary"===t?this.sn(c).next(_=>!!_||this.rn(c)).next(_=>{if(!_)throw hr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Oe(ve.FAILED_PRECONDITION,OC);return r(c)}).next(_=>this.an(c).next(()=>_)):this.Tn(c).next(()=>r(c)))).then(f=>(c.raiseOnCommittedEvent(),f))}Tn(e){return Ig(e).get(Sr.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.cn(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(ve.FAILED_PRECONDITION,H0)})}an(e){const t=new Sr(this.clientId,this.allowTabSynchronization,Date.now());return Ig(e).put(Sr.key,t)}static bt(){return La.bt()}on(e){const t=Ig(e);return t.get(Sr.key).next(r=>this.cn(r)?(Ue("IndexedDbPersistence","Releasing primary lease."),t.delete(Sr.key)):Ne.resolve())}ln(e,t){const r=Date.now();return!(e<r-t||e>r&&(hr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,wt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const r=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return Ue("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return hr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){hr("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ig(n){return bi(n,Sr.store)}function vf(n){return bi(n,Fa.store)}function G0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class sR{constructor(e,t){this.progress=e,this.En=t}}class Z0{constructor(e,t,r){this.He=e,this.In=t,this.Ht=r}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Rn(e,t,r))}Rn(e,t,r){return this.He.getEntry(e,t).next(a=>{for(const c of r)c.applyToLocalView(a);return a})}bn(e,t){e.forEach((r,a)=>{for(const c of t)c.applyToLocalView(a)})}Pn(e,t){return this.He.getEntries(e,t).next(r=>this.vn(e,r).next(()=>r))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.bn(t,r))}getDocumentsMatchingQuery(e,t,r){return Xe.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.Vn(e,t.path):v0(t)?this.Sn(e,t,r):this.Dn(e,t,r);var a}Vn(e,t){return this.An(e,new Xe(t)).next(r=>{let a=yC();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}Sn(e,t,r){const a=t.collectionGroup;let c=yC();return this.Ht.getCollectionParents(e,a).next(f=>Ne.forEach(f,_=>{const w=(S=t,x=_.child(a),new co(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,x;return this.Dn(e,w,r).next(S=>{S.forEach((x,P)=>{c=c.insert(x,P)})})}).next(()=>c))}Dn(e,t,r){let a,c;return this.He.getDocumentsMatchingQuery(e,t,r).next(f=>(a=f,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(f=>(c=f,this.Cn(e,c,a).next(_=>{a=_;for(const w of c)for(const S of w.mutations){const x=S.key;let P=a.get(x);null==P&&(P=kn.newInvalidDocument(x),a=a.insert(x,P)),s_(S,P,w.localWriteTime),P.isFoundDocument()||(a=a.remove(x))}}))).next(()=>(a.forEach((f,_)=>{ug(t,_)||(a=a.remove(f))}),a))}Cn(e,t,r){let a=qt();for(const f of t)for(const _ of f.mutations)_ instanceof ec&&null===r.get(_.key)&&(a=a.add(_.key));let c=r;return this.He.getEntries(e,a).next(f=>(f.forEach((_,w)=>{w.isFoundDocument()&&(c=c.insert(_,w))}),c))}}class Cg{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Nn=r,this.xn=a}static kn(e,t){let r=qt(),a=qt();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Cg(e,t.fromCache,r,a)}}class $C{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,r,a){return 0===(c=t).filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())||r.isEqual(At.min())?this.Fn(e,t):this.On.Pn(e,a).next(c=>{const f=this.Mn(t,c);return(og(t)||Jl(t))&&this.Ln(t.limitType,f,a,r)?this.Fn(e,t):(Gy()<=Cu.in.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xl(t)),this.On.getDocumentsMatchingQuery(e,t,r).next(_=>(f.forEach(w=>{_=_.insert(w.key,w)}),_)))});var c}Mn(e,t){let r=new jn(b0(e));return t.forEach((a,c)=>{ug(e,c)&&(r=r.add(c))}),r}Ln(e,t,r,a){if(r.size!==t.size)return!0;const c="F"===e?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Fn(e,t){return Gy()<=Cu.in.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",Xl(t)),this.On.getDocumentsMatchingQuery(e,t,At.min())}}class ZN{constructor(e,t,r,a){this.persistence=e,this.Bn=t,this.N=a,this.Un=new mr(Pt),this.qn=new wg(c=>Xh(c),e_),this.Kn=At.min(),this.In=e.getMutationQueue(r),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new Z0(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function HC(n,e,t,r){return new ZN(n,e,t,r)}function qC(n,e){return z0.apply(this,arguments)}function z0(){return(z0=(0,me.Z)(function*(n,e){const t=He(n);let r=t.In,a=t.Qn;const c=yield t.persistence.runTransaction("Handle user change","readonly",f=>{let _;return t.In.getAllMutationBatches(f).next(w=>(_=w,r=t.persistence.getMutationQueue(e),a=new Z0(t.jn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(f))).next(w=>{const S=[],x=[];let P=qt();for(const H of _){S.push(H.batchId);for(const K of H.mutations)P=P.add(K.key)}for(const H of w){x.push(H.batchId);for(const K of H.mutations)P=P.add(K.key)}return a.Pn(f,P).next(H=>({Wn:H,removedBatchIds:S,addedBatchIds:x}))})});return t.In=r,t.Qn=a,t.Bn.$n(t.Qn),c})).apply(this,arguments)}function oR(n,e){const t=He(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),c=t.jn.newChangeBuffer({trackRemovals:!0});return function(f,_,w,S){const x=w.batch,P=x.keys();let H=Ne.resolve();return P.forEach(K=>{H=H.next(()=>S.getEntry(_,K)).next(ye=>{const Fe=w.docVersions.get(K);pt(null!==Fe),ye.version.compareTo(Fe)<0&&(x.applyToRemoteDocument(ye,w),ye.isValidDocument()&&S.addEntry(ye,w.commitVersion))})}),H.next(()=>f.In.removeMutationBatch(_,x))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.In.performConsistencyCheck(r)).next(()=>t.Qn.Pn(r,a))})}function GC(n){const e=He(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function aR(n,e){const t=He(n),r=e.snapshotVersion;let a=t.Un;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=t.jn.newChangeBuffer({trackRemovals:!0});a=t.Un;const _=[];e.targetChanges.forEach((S,x)=>{const P=a.get(x);if(!P)return;_.push(t.ze.removeMatchingKeys(c,S.removedDocuments,x).next(()=>t.ze.addMatchingKeys(c,S.addedDocuments,x)));const H=S.resumeToken;if(H.approximateByteSize()>0){const K=P.withResumeToken(H,r).withSequenceNumber(c.currentSequenceNumber);a=a.insert(x,K),ye=P,qe=S,pt((Fe=K).resumeToken.approximateByteSize()>0),(0===ye.resumeToken.approximateByteSize()||Fe.snapshotVersion.toMicroseconds()-ye.snapshotVersion.toMicroseconds()>=3e8||qe.addedDocuments.size+qe.modifiedDocuments.size+qe.removedDocuments.size>0)&&_.push(t.ze.updateTargetData(c,K))}var ye,Fe,qe});let w=fo();if(e.documentUpdates.forEach((S,x)=>{e.resolvedLimboDocuments.has(S)&&_.push(t.persistence.referenceDelegate.updateLimboDocument(c,S))}),_.push(Ef(c,f,e.documentUpdates,r,void 0).next(S=>{w=S})),!r.isEqual(At.min())){const S=t.ze.getLastRemoteSnapshotVersion(c).next(x=>t.ze.setTargetsMetadata(c,c.currentSequenceNumber,r));_.push(S)}return Ne.waitFor(_).next(()=>f.apply(c)).next(()=>t.Qn.vn(c,w)).next(()=>w)}).then(c=>(t.Un=a,c))}function Ef(n,e,t,r,a){let c=qt();return t.forEach(f=>c=c.add(f)),e.getEntries(n,c).next(f=>{let _=fo();return t.forEach((w,S)=>{const x=f.get(w),P=(null==a?void 0:a.get(w))||r;S.isNoDocument()&&S.version.isEqual(At.min())?(e.removeEntry(w,P),_=_.insert(w,S)):!x.isValidDocument()||S.version.compareTo(x.version)>0||0===S.version.compareTo(x.version)&&x.hasPendingWrites?(e.addEntry(S,P),_=_.insert(w,S)):Ue("LocalStore","Ignoring outdated watch update for ",w,". Current version:",x.version," Watch version:",S.version)}),_})}function uR(n,e){const t=He(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.In.getNextMutationBatchAfterBatchId(r,e)))}function bf(n,e){const t=He(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.ze.getTargetData(r,e).next(c=>c?(a=c,Ne.resolve(a)):t.ze.allocateTargetId(r).next(f=>(a=new $u(e,f,0,r.currentSequenceNumber),t.ze.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Un.get(r.targetId);return(null===a||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Un=t.Un.insert(r.targetId,r),t.qn.set(e,r.targetId)),r})}function Ad(n,e,t){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,me.Z)(function*(n,e,t){const r=He(n),a=r.Un.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,f=>r.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!cs(f))throw f;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}r.Un=r.Un.remove(e),r.qn.delete(a.target)})).apply(this,arguments)}function W0(n,e,t){const r=He(n);let a=At.min(),c=qt();return r.persistence.runTransaction("Execute query","readonly",f=>function(_,w,S){const x=He(_),P=x.qn.get(S);return void 0!==P?Ne.resolve(x.Un.get(P)):x.ze.getTargetData(w,S)}(r,f,ho(e)).next(_=>{if(_)return a=_.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(f,_.targetId).next(w=>{c=w})}).next(()=>r.Bn.getDocumentsMatchingQuery(f,e,t?a:At.min(),t?c:qt())).next(_=>({documents:_,Gn:c})))}function K0(n,e){const t=He(n),r=He(t.ze),a=t.Un.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",c=>r.Tt(c,e).next(f=>f?f.target:null))}function ZC(n){const e=He(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,a,c){const f=He(r);let _=fo(),w=F0(c);const S=Ua(a),x=IDBKeyRange.lowerBound(w,!0);return S.Kt({index:qn.readTimeIndex,range:x},(P,H)=>{const K=kC(f.N,H);_=_.insert(K.key,K),w=H.readTime}).next(()=>({En:_,readTime:js(w)}))}(e.jn,t,e.Kn)).then(({En:t,readTime:r})=>(e.Kn=r,t))}function Y0(){return(Y0=(0,me.Z)(function*(n){const e=He(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const a=Ua(r);let c=At.min();return a.Kt({index:qn.readTimeIndex,reverse:!0},(f,_,w)=>{_.readTime&&(c=js(_.readTime)),w.done()}).next(()=>c)}(t)).then(t=>{e.Kn=t})})).apply(this,arguments)}function Q0(){return(Q0=(0,me.Z)(function*(n,e,t,r){const a=He(n);let c=qt(),f=fo(),_=cg();for(const x of t){const P=e.zn(x.metadata.name);x.document&&(c=c.add(P)),f=f.insert(P,e.Hn(x)),_=_.insert(P,e.Jn(x.metadata.readTime))}const w=a.jn.newChangeBuffer({trackRemovals:!0}),S=yield bf(a,(x=r,ho(ef(kt.fromString(`__bundle__/docs/${x}`)))));var x;return a.persistence.runTransaction("Apply bundle documents","readwrite",x=>Ef(x,w,f,At.min(),_).next(P=>(w.apply(x),P)).next(P=>a.ze.removeMatchingKeysForTargetId(x,S.targetId).next(()=>a.ze.addMatchingKeys(x,c,S.targetId)).next(()=>a.Qn.vn(x,P)).next(()=>P)))})).apply(this,arguments)}function zC(n,e){return J0.apply(this,arguments)}function J0(){return(J0=(0,me.Z)(function*(n,e,t=qt()){const r=yield bf(n,ho(vg(e.bundledQuery))),a=He(n);return a.persistence.runTransaction("Save named query","readwrite",c=>{const f=Br(e.readTime);if(r.snapshotVersion.compareTo(f)>=0)return a.Je.saveNamedQuery(c,e);const _=r.withResumeToken(fr.EMPTY_BYTE_STRING,f);return a.Un=a.Un.insert(_.targetId,_),a.ze.updateTargetData(c,_).next(()=>a.ze.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>a.ze.addMatchingKeys(c,t,r.targetId)).next(()=>a.Je.saveNamedQuery(c,e))})})).apply(this,arguments)}class dR{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Ne.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var r;return this.Yn.set(t.id,{id:(r=t).id,version:r.version,createTime:Br(r.createTime)}),Ne.resolve()}getNamedQuery(e,t){return Ne.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(r=t).name,query:vg(r.bundledQuery),readTime:Br(r.readTime)}),Ne.resolve();var r}}class WC{constructor(){this.Zn=new jn(ri.ts),this.es=new jn(ri.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new ri(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new ri(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}cs(e){const t=new Xe(new kt([])),r=new ri(t,e),a=new ri(t,e+1),c=[];return this.es.forEachInRange([r,a],f=>{this.rs(f),c.push(f.key)}),c}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Xe(new kt([])),r=new ri(t,e),a=new ri(t,e+1);let c=qt();return this.es.forEachInRange([r,a],f=>{c=c.add(f.key)}),c}containsKey(e){const t=new ri(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ri{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Xe.comparator(e.key,t.key)||Pt(e.ls,t.ls)}static ns(e,t){return Pt(e.ls,t.ls)||Xe.comparator(e.key,t.key)}}class zN{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new jn(ri.ts)}checkEmpty(e){return Ne.resolve(0===this.In.length)}addMutationBatch(e,t,r,a){const c=this.fs;this.fs++;const f=new ju(c,t,r,a);this.In.push(f);for(const _ of a)this.ds=this.ds.add(new ri(_.key,c)),this.Ht.addToCollectionParentIndex(e,_.key.path.popLast());return Ne.resolve(f)}lookupMutationBatch(e,t){return Ne.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const a=this._s(t+1),c=a<0?0:a;return Ne.resolve(this.In.length>c?this.In[c]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Ne.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ri(t,0),a=new ri(t,Number.POSITIVE_INFINITY),c=[];return this.ds.forEachInRange([r,a],f=>{const _=this.ws(f.ls);c.push(_)}),Ne.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new jn(Pt);return t.forEach(a=>{const c=new ri(a,0),f=new ri(a,Number.POSITIVE_INFINITY);this.ds.forEachInRange([c,f],_=>{r=r.add(_.ls)})}),Ne.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let c=r;Xe.isDocumentKey(c)||(c=c.child(""));const f=new ri(new Xe(c),0);let _=new jn(Pt);return this.ds.forEachWhile(w=>{const S=w.key.path;return!!r.isPrefixOf(S)&&(S.length===a&&(_=_.add(w.ls)),!0)},f),Ne.resolve(this.gs(_))}gs(e){const t=[];return e.forEach(r=>{const a=this.ws(r);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){pt(0===this.ys(t.batchId,"removed")),this.In.shift();let r=this.ds;return Ne.forEach(t.mutations,a=>{const c=new ri(a.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.ds=r})}te(e){}containsKey(e,t){const r=new ri(t,0),a=this.ds.firstAfterOrEqual(r);return Ne.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Ne.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class X0{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new mr(Xe.comparator),this.size=0}addEntry(e,t,r){const a=t.key,c=this.docs.get(a),f=c?c.size:0,_=this.ps(t);return this.docs=this.docs.insert(a,{document:t.clone(),size:_,readTime:r}),this.size+=_-f,this.Ht.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ne.resolve(r?r.document.clone():kn.newInvalidDocument(t))}getEntries(e,t){let r=fo();return t.forEach(a=>{const c=this.docs.get(a);r=r.insert(a,c?c.document.clone():kn.newInvalidDocument(a))}),Ne.resolve(r)}getDocumentsMatchingQuery(e,t,r){let a=fo();const c=new Xe(t.path.child("")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:_,value:{document:w,readTime:S}}=f.getNext();if(!t.path.isPrefixOf(_.path))break;S.compareTo(r)<=0||ug(t,w)&&(a=a.insert(w.key,w.clone()))}return Ne.resolve(a)}Ts(e,t){return Ne.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new hR(this)}getSize(e){return Ne.resolve(this.size)}}class hR extends UC{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.document.isValidDocument()?t.push(this.Se.addEntry(e,a.document,this.getReadTime(r))):this.Se.removeEntry(r)}),Ne.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class fR{constructor(e){this.persistence=e,this.Es=new wg(t=>Xh(t),e_),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.Is=0,this.As=new WC,this.targetCount=0,this.Rs=Va.se()}forEachTarget(e,t){return this.Es.forEach((r,a)=>t(a)),Ne.resolve()}getLastRemoteSnapshotVersion(e){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ne.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Is&&(this.Is=t),Ne.resolve()}ae(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Va(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Ne.resolve()}updateTargetData(e,t){return this.ae(t),Ne.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(e,t,r){let a=0;const c=[];return this.Es.forEach((f,_)=>{_.sequenceNumber<=t&&null===r.get(_.targetId)&&(this.Es.delete(f),c.push(this.removeMatchingKeysForTargetId(e,_.targetId)),a++)}),Ne.waitFor(c).next(()=>a)}getTargetCount(e){return Ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.Es.get(t)||null;return Ne.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),Ne.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),Ne.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return Ne.resolve(r)}containsKey(e,t){return Ne.resolve(this.As.containsKey(t))}}class pR{constructor(e,t){this.bs={},this.Le=new Us(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new fR(this),this.Ht=new Cd,this.He=new X0(this.Ht,r=>this.referenceDelegate.Ps(r)),this.N=new k0(t),this.Je=new dR(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new zN(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,r){Ue("MemoryPersistence","Starting transaction:",e);const a=new gR(this.Le.next());return this.referenceDelegate.vs(),r(a).next(c=>this.referenceDelegate.Vs(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ss(e,t){return Ne.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class gR extends P0{constructor(e){super(),this.currentSequenceNumber=e}}class eb{constructor(e){this.persistence=e,this.Ds=new WC,this.Cs=null}static Ns(e){return new eb(e)}get xs(){if(this.Cs)return this.Cs;throw rt()}addReference(e,t,r){return this.Ds.addReference(r,t),this.xs.delete(r.toString()),Ne.resolve()}removeReference(e,t,r){return this.Ds.removeReference(r,t),this.xs.add(r.toString()),Ne.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Ne.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(a=>this.xs.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.xs.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.xs,r=>{const a=Xe.fromPath(r);return this.ks(e,a).next(c=>{c||t.removeEntry(a)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return Ne.or([()=>Ne.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function KC(n,e){return`firestore_clients_${n}_${e}`}function tb(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Tg(n,e){return`firestore_targets_${n}_${e}`}class v_{constructor(e,t,r,a){this.user=e,this.batchId=t,this.state=r,this.error=a}static $s(e,t,r){const a=JSON.parse(r);let c,f="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return f&&a.error&&(f="string"==typeof a.error.message&&"string"==typeof a.error.code,f&&(c=new Oe(a.error.code,a.error.message))),f?new v_(e,t,a.state,c):(hr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ba{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static $s(e,t){const r=JSON.parse(t);let a,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(a=new Oe(r.error.code,r.error.message))),c?new Ba(e,r.state,a):(hr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rr{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const r=JSON.parse(t);let a="object"==typeof r&&r.activeTargetIds instanceof Array,c=x0();for(let f=0;a&&f<r.activeTargetIds.length;++f)a=JI(r.activeTargetIds[f]),c=c.add(r.activeTargetIds[f]);return a?new Rr(e,c):(hr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class E_{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new E_(t.clientId,t.onlineState):(hr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class $s{constructor(){this.activeTargetIds=x0()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dg{constructor(e,t,r,a,c){this.window=e,this.Oe=t,this.persistenceKey=r,this.Ls=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new mr(Pt),this.started=!1,this.Ks=[];const f=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.js=KC(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new $s),this.Ws=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(_){return`firestore_bundle_loaded_${_}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,me.Z)(function*(){const t=yield e.syncEngine.pn();for(const a of t){if(a===e.Ls)continue;const c=e.getItem(KC(e.persistenceKey,a));if(c){const f=Rr.$s(a,c);f&&(e.qs=e.qs.insert(f.clientId,f))}}e.Ys();const r=e.storage.getItem(e.Hs);if(r){const a=e.Xs(r);a&&e.Zs(a)}for(const a of e.Ks)e.Us(a);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((r,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,r){this.ei(e,t,r),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Tg(this.persistenceKey,e));if(r){const a=Ba.$s(e,r);a&&(t=a.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Tg(this.persistenceKey,e))}updateQueryState(e,t,r){this.ii(e,t,r)}handleUserChange(e,t,r){t.forEach(a=>{this.ni(a)}),this.currentUser=e,r.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ue("SharedClientState","READ",e,t),t}setItem(e,t){Ue("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ue("SharedClientState","EVENT",r.key,r.newValue),r.key===this.js)return void hr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,me.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ws.test(r.key)){if(null==r.newValue){const a=t.ai(r.key);return t.ci(a,null)}{const a=t.ui(r.key,r.newValue);if(a)return t.ci(a.clientId,a)}}else if(t.Gs.test(r.key)){if(null!==r.newValue){const a=t.hi(r.key,r.newValue);if(a)return t.li(a)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const a=t.fi(r.key,r.newValue);if(a)return t.di(a)}}else if(r.key===t.Hs){if(null!==r.newValue){const a=t.Xs(r.newValue);if(a)return t.Zs(a)}}else if(r.key===t.Qs){const a=function(c){let f=Us.T;if(null!=c)try{const _=JSON.parse(c);pt("number"==typeof _),f=_}catch(_){hr("SharedClientState","Failed to read sequence number from WebStorage",_)}return f}(r.newValue);a!==Us.T&&t.sequenceNumberHandler(a)}else if(r.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(r)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,r){const a=new v_(this.currentUser,e,t,r),c=tb(this.persistenceKey,this.currentUser,e);this.setItem(c,a.Os())}ni(e){const t=tb(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,r){const a=Tg(this.persistenceKey,e),c=new Ba(e,t,r);this.setItem(a,c.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const r=this.ai(e);return Rr.$s(r,t)}hi(e,t){const r=this.Gs.exec(e),a=Number(r[1]);return v_.$s(new Lr(void 0!==r[2]?r[2]:null),a,t)}fi(e,t){const r=this.zs.exec(e),a=Number(r[1]);return Ba.$s(a,t)}Xs(e){return E_.$s(e)}li(e){var t=this;return(0,me.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);Ue("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ci(e,t){const r=t?this.qs.insert(e,t):this.qs.remove(e),a=this.ti(this.qs),c=this.ti(r),f=[],_=[];return c.forEach(w=>{a.has(w)||f.push(w)}),a.forEach(w=>{c.has(w)||_.push(w)}),this.syncEngine.gi(f,_).then(()=>{this.qs=r})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=x0();return e.forEach((r,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class YC{constructor(){this.yi=new $s,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,r){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new $s,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class QC{Ti(e){}shutdown(){}}class nb{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const JC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class mR{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class yR extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,r,a){const c=this.Bi(e,t);Ue("RestConnection","Sending: ",c,r);const f={};return this.Ui(f,a),this.qi(e,c,f,r).then(_=>(Ue("RestConnection","Received: ",_),_),_=>{throw eg("RestConnection",`${e} failed with error: `,_,"url: ",c,"request:",r),_})}Ki(e,t,r,a){return this.Li(e,t,r,a)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+fd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const r in t.authHeaders)t.authHeaders.hasOwnProperty(r)&&(e[r]=t.authHeaders[r])}Bi(e,t){return`${this.Fi}/v1/${t}:${JC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,r,a){return new Promise((c,f)=>{const _=new zI;_.listenOnce(GI.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case o0.NO_ERROR:const S=_.getResponseJson();Ue("Connection","XHR received:",JSON.stringify(S)),c(S);break;case o0.TIMEOUT:Ue("Connection",'RPC "'+e+'" timed out'),f(new Oe(ve.DEADLINE_EXCEEDED,"Request time out"));break;case o0.HTTP_ERROR:const x=_.getStatus();if(Ue("Connection",'RPC "'+e+'" failed with status:',x,"response text:",_.getResponseText()),x>0){const P=_.getResponseJson().error;if(P&&P.status&&P.message){const H=function(K){const ye=K.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(ye)>=0?ye:ve.UNKNOWN}(P.status);f(new Oe(H,P.message))}else f(new Oe(ve.UNKNOWN,"Server responded with status "+_.getStatus()))}else f(new Oe(ve.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Ue("Connection",'RPC "'+e+'" completed.')}});const w=JSON.stringify(a);_.send(t,"POST",w,r,15)})}ji(e,t){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=qI(),c=$y(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new qy({})),this.Ui(f.initMessageHeaders,t),(0,wt.uI)()||(0,wt.b$)()||(0,wt.d)()||(0,wt.w1)()||(0,wt.Mn)()||(0,wt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");Ue("Connection","Creating WebChannel: "+_,f);const w=a.createWebChannel(_,f);let S=!1,x=!1;const P=new mR({vi:K=>{x?Ue("Connection","Not sending because WebChannel is closed:",K):(S||(Ue("Connection","Opening WebChannel transport."),w.open(),S=!0),Ue("Connection","WebChannel sending:",K),w.send(K))},Vi:()=>w.close()}),H=(K,ye,Fe)=>{K.listen(ye,qe=>{try{Fe(qe)}catch(_t){setTimeout(()=>{throw _t},0)}})};return H(w,Xp.EventType.OPEN,()=>{x||Ue("Connection","WebChannel transport opened.")}),H(w,Xp.EventType.CLOSE,()=>{x||(x=!0,Ue("Connection","WebChannel transport closed"),P.$i())}),H(w,Xp.EventType.ERROR,K=>{x||(x=!0,eg("Connection","WebChannel transport errored:",K),P.$i(new Oe(ve.UNAVAILABLE,"The operation could not be completed")))}),H(w,Xp.EventType.MESSAGE,K=>{var ye;if(!x){const Fe=K.data[0];pt(!!Fe);const qe=Fe,_t=qe.error||(null===(ye=qe[0])||void 0===ye?void 0:ye.error);if(_t){Ue("Connection","WebChannel received error:",_t);const Mt=_t.status;let Lt=function(_n){const si=gr[_n];if(void 0!==si)return mC(si)}(Mt),lt=_t.message;void 0===Lt&&(Lt=ve.INTERNAL,lt="Unknown error status: "+Mt+" with message "+_t.message),x=!0,P.$i(new Oe(Lt,lt)),w.close()}else Ue("Connection","WebChannel received:",Fe),P.Oi(Fe)}}),H(c,ZI.STAT_EVENT,K=>{K.stat===Hy.PROXY?Ue("Connection","Detected buffering proxy"):K.stat===Hy.NOPROXY&&Ue("Connection","Detected no buffering proxy")}),setTimeout(()=>{P.ki()},0),P}}function XC(){return"undefined"!=typeof window?window:null}function Ag(){return"undefined"!=typeof document?document:null}function Sg(n){return new N0(n,!0)}class eT{constructor(e,t,r=1e3,a=1.5,c=6e4){this.Oe=e,this.timerId=t,this.Qi=r,this.Wi=a,this.Gi=c,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),a=Math.max(0,t-r);a>0&&Ue("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,a,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class tT{constructor(e,t,r,a,c,f){this.Oe=e,this.er=r,this.nr=a,this.credentialsProvider=c,this.listener=f,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new eT(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var e=this;return(0,me.Z)(function*(){e.ar()&&(yield e.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(e){this._r(),this.stream.send(e)}dr(){var e=this;return(0,me.Z)(function*(){if(e.cr())return e.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(e,t){var r=this;return(0,me.Z)(function*(){r._r(),r.rr.cancel(),r.sr++,3!==e?r.rr.reset():t&&t.code===ve.RESOURCE_EXHAUSTED?(hr(t.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),r.rr.Yi()):t&&t.code===ve.UNAUTHENTICATED&&r.credentialsProvider.invalidateToken(),null!==r.stream&&(r.mr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ci(t)})()}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then(r=>{this.sr===t&&this.yr(r)},r=>{e(()=>{const a=new Oe(ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.pr(a)})})}yr(e){const t=this.gr(this.sr);this.stream=this.Tr(e),this.stream.Si(()=>{t(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(r=>{t(()=>this.pr(r))}),this.stream.onMessage(r=>{t(()=>this.onMessage(r))})}ur(){var e=this;this.state=4,this.rr.Xi((0,me.Z)(function*(){e.state=0,e.start()}))}pr(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget(()=>this.sr===e?t():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _R extends tT{constructor(e,t,r,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,r,c),this.N=a}Tr(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:rt(),a=e.targetChange.targetIds||[],c=function(w,S){return w.D?(pt(void 0===S||"string"==typeof S),fr.fromBase64String(S||"")):(pt(void 0===S||S instanceof Uint8Array),fr.fromUint8Array(S||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,_=f&&function(w){const S=void 0===w.code?ve.UNKNOWN:mC(w.code);return new Oe(S,w.message||"")}(f);t=new fg(r,a,c,_||null)}else if("documentChange"in e){const r=e.documentChange,a=Pa(n,r.document.name),c=Br(r.document.updateTime),f=new Ei({mapValue:{fields:r.document.fields}}),_=kn.newFoundDocument(a,c,f);t=new hg(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,a=Pa(n,r.document),c=r.readTime?Br(r.readTime):At.min(),f=kn.newNoDocument(a,c);t=new hg([],r.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const r=e.documentRemove,a=Pa(n,r.document);t=new hg([],r.removedTargetIds||[],a,null)}else{if(!("filter"in e))return rt();{const r=e.filter,c=new A0(r.count||0);t=new US(r.targetId,c)}}var w;return t}(this.N,e),r=function(a){if(!("targetChange"in a))return At.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?At.min():c.readTime?Br(c.readTime):At.min()}(e);return this.listener.Er(t,r)}Ir(e){const t={};t.database=uf(this.N),t.addTarget=function(a,c){let f;const _=c.target;return f=Ql(_)?{documents:lf(a,_)}:{query:TC(a,_)},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?f.resumeToken=c_(a,c.resumeToken):c.snapshotVersion.compareTo(At.min())>0&&(f.readTime=af(a,c.snapshotVersion.toTimestamp())),f}(this.N,e);const r=function(n,e){const t=function(r,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.wr(t)}Ar(e){const t={};t.database=uf(this.N),t.removeTarget=e,this.wr(t)}}class wf extends tT{constructor(e,t,r,a,c){super(e,"write_stream_connection_backoff","write_stream_idle",t,r,c),this.N=a,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Tr(e){return this.nr.ji("Write",e)}onMessage(e){if(pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(n,e){return n&&n.length>0?(pt(void 0!==e),n.map(t=>function(r,a){let c=Br(r.updateTime?r.updateTime:a);return c.isEqual(At.min())&&(c=Br(a)),new kS(c,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Br(e.commitTime);return this.listener.vr(r,t)}return pt(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=uf(this.N),this.wr(e)}Pr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>gg(this.N,r))};this.wr(t)}}class WN extends class{}{constructor(e,t,r){super(),this.credentials=e,this.nr=t,this.N=r,this.Dr=!1}Cr(){if(this.Dr)throw new Oe(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,r){return this.Cr(),this.credentials.getToken().then(a=>this.nr.Li(e,t,r,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ve.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Oe(ve.UNKNOWN,a.toString())})}Ki(e,t,r){return this.Cr(),this.credentials.getToken().then(a=>this.nr.Ki(e,t,r,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ve.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Oe(ve.UNKNOWN,a.toString())})}terminate(){this.Dr=!0}}class nT{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(hr(t),this.$r=!1):Ue("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class vR{constructor(e,t,r,a,c){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=c,this.Qr.Ti(_=>{r.enqueueAndForget((0,me.Z)(function*(){var w;rc(f)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,me.Z)(function*(S){const x=He(S);x.Kr.add(4),yield If(x),x.Wr.set("Unknown"),x.Kr.delete(4),yield b_(x)}),function(S){return w.apply(this,arguments)})(f))}))}),this.Wr=new nT(r,a)}}function b_(n){return w_.apply(this,arguments)}function w_(){return(w_=(0,me.Z)(function*(n){if(rc(n))for(const e of n.jr)yield e(!0)})).apply(this,arguments)}function If(n){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,me.Z)(function*(n){for(const e of n.jr)yield e(!1)})).apply(this,arguments)}function xg(n,e){const t=He(n);t.qr.has(e.targetId)||(t.qr.set(e.targetId,e),sb(t)?ib(t):ic(t).cr()&&rb(t,e))}function Ng(n,e){const t=He(n),r=ic(t);t.qr.delete(e),r.cr()&&rT(t,e),0===t.qr.size&&(r.cr()?r.lr():rc(t)&&t.Wr.set("Unknown"))}function rb(n,e){n.Gr.Y(e.targetId),ic(n).Ir(e)}function rT(n,e){n.Gr.Y(e),ic(n).Ar(e)}function ib(n){n.Gr=new BS({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.qr.get(e)||null}),ic(n).start(),n.Wr.Or()}function sb(n){return rc(n)&&!ic(n).ar()&&n.qr.size>0}function rc(n){return 0===He(n).Kr.size}function iT(n){n.Gr=void 0}function ER(n){return ob.apply(this,arguments)}function ob(){return(ob=(0,me.Z)(function*(n){n.qr.forEach((e,t)=>{rb(n,e)})})).apply(this,arguments)}function Mg(n,e){return I_.apply(this,arguments)}function I_(){return(I_=(0,me.Z)(function*(n,e){iT(n),sb(n)?(n.Wr.Lr(e),ib(n)):n.Wr.set("Unknown")})).apply(this,arguments)}function sT(n,e,t){return C_.apply(this,arguments)}function C_(){return(C_=(0,me.Z)(function*(n,e,t){if(n.Wr.set("Online"),e instanceof fg&&2===e.state&&e.cause)try{yield(r=(0,me.Z)(function*(a,c){const f=c.cause;for(const _ of c.targetIds)a.qr.has(_)&&(yield a.remoteSyncer.rejectListen(_,f),a.qr.delete(_),a.Gr.removeTarget(_))}),function(a,c){return r.apply(this,arguments)})(n,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Og(n,r)}else if(e instanceof hg?n.Gr.rt(e):e instanceof US?n.Gr.ft(e):n.Gr.ct(e),!t.isEqual(At.min()))try{const r=yield GC(n.localStore);t.compareTo(r)>=0&&(yield function(a,c){const f=a.Gr._t(c);return f.targetChanges.forEach((_,w)=>{if(_.resumeToken.approximateByteSize()>0){const S=a.qr.get(w);S&&a.qr.set(w,S.withResumeToken(_.resumeToken,c))}}),f.targetMismatches.forEach(_=>{const w=a.qr.get(_);if(!w)return;a.qr.set(_,w.withResumeToken(fr.EMPTY_BYTE_STRING,w.snapshotVersion)),rT(a,_);const S=new $u(w.target,_,1,w.sequenceNumber);rb(a,S)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t))}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),yield Og(n,r)}var r})).apply(this,arguments)}function Og(n,e,t){return T_.apply(this,arguments)}function T_(){return(T_=(0,me.Z)(function*(n,e,t){if(!cs(e))throw e;n.Kr.add(1),yield If(n),n.Wr.set("Offline"),t||(t=()=>GC(n.localStore)),n.asyncQueue.enqueueRetryable((0,me.Z)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield t(),n.Kr.delete(1),yield b_(n)}))})).apply(this,arguments)}function ab(n,e){return e().catch(t=>Og(n,t,e))}function Cf(n){return D_.apply(this,arguments)}function D_(){return(D_=(0,me.Z)(function*(n){const e=He(n),t=$a(e);let r=e.Ur.length>0?e.Ur[e.Ur.length-1].batchId:-1;for(;bR(e);)try{const a=yield uR(e.localStore,r);if(null===a){0===e.Ur.length&&t.lr();break}r=a.batchId,wR(e,a)}catch(a){yield Og(e,a)}oT(e)&&aT(e)})).apply(this,arguments)}function bR(n){return rc(n)&&n.Ur.length<10}function wR(n,e){n.Ur.push(e);const t=$a(n);t.cr()&&t.br&&t.Pr(e.mutations)}function oT(n){return rc(n)&&!$a(n).ar()&&n.Ur.length>0}function aT(n){$a(n).start()}function Pg(n){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,me.Z)(function*(n){$a(n).Sr()})).apply(this,arguments)}function IR(n){return kg.apply(this,arguments)}function kg(){return(kg=(0,me.Z)(function*(n){const e=$a(n);for(const t of n.Ur)e.Pr(t.mutations)})).apply(this,arguments)}function ja(n,e,t){return ub.apply(this,arguments)}function ub(){return(ub=(0,me.Z)(function*(n,e,t){const r=n.Ur.shift(),a=PC.from(r,e,t);yield ab(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield Cf(n)})).apply(this,arguments)}function A_(n,e){return lb.apply(this,arguments)}function lb(){return(lb=(0,me.Z)(function*(n,e){var t;e&&$a(n).br&&(yield(t=(0,me.Z)(function*(r,a){if(u_(c=a.code)&&c!==ve.ABORTED){const f=r.Ur.shift();$a(r).hr(),yield ab(r,()=>r.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield Cf(r)}var c}),function(r,a){return t.apply(this,arguments)})(n,e)),oT(n)&&aT(n)})).apply(this,arguments)}function cb(n,e){return uT.apply(this,arguments)}function uT(){return(uT=(0,me.Z)(function*(n,e){const t=He(n);e?(t.Kr.delete(2),yield b_(t)):e||(t.Kr.add(2),yield If(t),t.Wr.set("Unknown"))})).apply(this,arguments)}function ic(n){return n.zr||(n.zr=function(e,t,r){const a=He(e);return a.Cr(),new _R(t,a.nr,a.credentials,a.N,r)}(n.datastore,n.asyncQueue,{Si:ER.bind(null,n),Ci:Mg.bind(null,n),Er:sT.bind(null,n)}),n.jr.push(function(){var e=(0,me.Z)(function*(t){t?(n.zr.hr(),sb(n)?ib(n):n.Wr.set("Unknown")):(yield n.zr.stop(),iT(n))});return function(t){return e.apply(this,arguments)}}())),n.zr}function $a(n){return n.Hr||(n.Hr=function(e,t,r){const a=He(e);return a.Cr(),new wf(t,a.nr,a.credentials,a.N,r)}(n.datastore,n.asyncQueue,{Si:Pg.bind(null,n),Ci:A_.bind(null,n),Vr:IR.bind(null,n),vr:ja.bind(null,n)}),n.jr.push(function(){var e=(0,me.Z)(function*(t){t?(n.Hr.hr(),yield Cf(n)):(yield n.Hr.stop(),n.Ur.length>0&&(Ue("RemoteStore",`Stopping write stream with ${n.Ur.length} pending writes`),n.Ur=[]))});return function(t){return e.apply(this,arguments)}}())),n.Hr}class S_{constructor(e,t,r,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=c,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,r,a,c){const f=Date.now()+r,_=new S_(e,t,f,a,c);return _.start(r),_}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sc(n,e){if(hr("AsyncQueue",`${e}: ${n}`),cs(n))return new Oe(ve.UNAVAILABLE,`${e}: ${n}`);throw n}class oc{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Xe.comparator(t.key,r.key):(t,r)=>Xe.comparator(t.key,r.key),this.keyedMap=yC(),this.sortedSet=new mr(this.comparator)}static emptySet(e){return new oc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof oc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=r.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new oc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class lT{constructor(){this.Jr=new mr(Xe.comparator)}track(e){const t=e.doc.key,r=this.Jr.get(t);r?0!==e.type&&3===r.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==r.type?this.Jr=this.Jr.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Jr=this.Jr.remove(t):1===e.type&&2===r.type?this.Jr=this.Jr.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):rt():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal((t,r)=>{e.push(r)}),e}}class Tf{constructor(e,t,r,a,c,f,_,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=_,this.excludesMetadataChanges=w}static fromInitialDocuments(e,t,r,a){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new Tf(e,t,oc.emptySet(t),c,r,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ag(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class CR{constructor(){this.Xr=void 0,this.listeners=[]}}class TR{constructor(){this.queries=new wg(e=>aC(e),ag),this.onlineState="Unknown",this.Zr=new Set}}function R_(n,e){return Fg.apply(this,arguments)}function Fg(){return(Fg=(0,me.Z)(function*(n,e){const t=He(n),r=e.query;let a=!1,c=t.queries.get(r);if(c||(a=!0,c=new CR),a)try{c.Xr=yield t.onListen(r)}catch(f){const _=sc(f,`Initialization of query '${Xl(e.query)}' failed`);return void e.onError(_)}t.queries.set(r,c),c.listeners.push(e),e.eo(t.onlineState),c.Xr&&e.no(c.Xr)&&hb(t)})).apply(this,arguments)}function x_(n,e){return db.apply(this,arguments)}function db(){return(db=(0,me.Z)(function*(n,e){const t=He(n),r=e.query;let a=!1;const c=t.queries.get(r);if(c){const f=c.listeners.indexOf(e);f>=0&&(c.listeners.splice(f,1),a=0===c.listeners.length)}if(a)return t.queries.delete(r),t.onUnlisten(r)})).apply(this,arguments)}function cT(n,e){const t=He(n);let r=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const _ of f.listeners)_.no(a)&&(r=!0);f.Xr=a}}r&&hb(t)}function dT(n,e,t){const r=He(n),a=r.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);r.queries.delete(e)}function hb(n){n.Zr.forEach(e=>{e.next()})}class N_{constructor(e,t,r){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=r||{}}no(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)3!==a.type&&r.push(a);e=new Tf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){return!e.fromCache||!(this.options.uo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}oo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(e){e=Tf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class hT{constructor(e,t){this.payload=e,this.byteLength=t}ho(){return"metadata"in this.payload}}class fT{constructor(e){this.N=e}zn(e){return Pa(this.N,e)}Hn(e){return e.metadata.exists?O0(this.N,e.document,!1):kn.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return Br(e)}}class pT{constructor(e,t,r){this.lo=e,this.localStore=t,this.N=r,this.queries=[],this.documents=[],this.progress=fb(e)}fo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}wo(e){const t=new Map,r=new fT(this.N);for(const a of e)if(a.metadata.queries){const c=r.zn(a.metadata.name);for(const f of a.metadata.queries){const _=(t.get(f)||qt()).add(c);t.set(f,_)}}return t}complete(){var e=this;return(0,me.Z)(function*(){const t=yield function(n,e,t,r){return Q0.apply(this,arguments)}(e.localStore,new fT(e.N),e.documents,e.lo.id),r=e.wo(e.documents);for(const a of e.queries)yield zC(e.localStore,a,r.get(a.name));return e.progress.taskState="Success",new sR(Object.assign({},e.progress),t)})()}}function fb(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class DR{constructor(e){this.key=e}}class Ti{constructor(e){this.key=e}}class xd{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=qt(),this.mutatedKeys=qt(),this.po=b0(e),this.To=new oc(this.po)}get Eo(){return this._o}Io(e,t){const r=t?t.Ao:new lT,a=t?t.To:this.To;let c=t?t.mutatedKeys:this.mutatedKeys,f=a,_=!1;const w=og(this.query)&&a.size===this.query.limit?a.last():null,S=Jl(this.query)&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((x,P)=>{const H=a.get(x),K=ug(this.query,P)?P:null,ye=!!H&&this.mutatedKeys.has(H.key),Fe=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let qe=!1;H&&K?H.data.isEqual(K.data)?ye!==Fe&&(r.track({type:3,doc:K}),qe=!0):this.Ro(H,K)||(r.track({type:2,doc:K}),qe=!0,(w&&this.po(K,w)>0||S&&this.po(K,S)<0)&&(_=!0)):!H&&K?(r.track({type:0,doc:K}),qe=!0):H&&!K&&(r.track({type:1,doc:H}),qe=!0,(w||S)&&(_=!0)),qe&&(K?(f=f.add(K),c=Fe?c.add(x):c.delete(x)):(f=f.delete(x),c=c.delete(x)))}),og(this.query)||Jl(this.query))for(;f.size>this.query.limit;){const x=og(this.query)?f.last():f.first();f=f.delete(x.key),c=c.delete(x.key),r.track({type:1,doc:x})}return{To:f,Ao:r,Ln:_,mutatedKeys:c}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const a=this.To;this.To=e.To,this.mutatedKeys=e.mutatedKeys;const c=e.Ao.Yr();c.sort((S,x)=>function(P,H){const K=ye=>{switch(ye){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return K(P)-K(H)}(S.type,x.type)||this.po(S.doc,x.doc)),this.bo(r);const f=t?this.Po():[],_=0===this.yo.size&&this.current?1:0,w=_!==this.mo;return this.mo=_,0!==c.length||w?{snapshot:new Tf(this.query,e.To,a,c,e.mutatedKeys,0===_,w,!1),vo:f}:{vo:f}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({To:this.To,Ao:new lT,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.To.has(e)&&!this.To.get(e).hasLocalMutations}bo(e){e&&(e.addedDocuments.forEach(t=>this._o=this._o.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this._o=this._o.delete(t)),this.current=e.current)}Po(){if(!this.current)return[];const e=this.yo;this.yo=qt(),this.To.forEach(r=>{this.Vo(r.key)&&(this.yo=this.yo.add(r.key))});const t=[];return e.forEach(r=>{this.yo.has(r)||t.push(new Ti(r))}),this.yo.forEach(r=>{e.has(r)||t.push(new DR(r))}),t}So(e){this._o=e.Gn,this.yo=qt();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return Tf.fromInitialDocuments(this.query,this.To,this.mutatedKeys,0===this.mo)}}class AR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class SR{constructor(e){this.key=e,this.Co=!1}}class KN{constructor(e,t,r,a,c,f){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.No={},this.xo=new wg(_=>aC(_),ag),this.ko=new Map,this.$o=new Set,this.Oo=new mr(Xe.comparator),this.Fo=new Map,this.Mo=new WC,this.Lo={},this.Bo=new Map,this.Uo=Va.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function Lg(n,e){return pb.apply(this,arguments)}function pb(){return(pb=(0,me.Z)(function*(n,e){const t=RT(n);let r,a;const c=t.xo.get(e);if(c)r=c.targetId,t.sharedClientState.addLocalQueryTarget(r),a=c.view.Do();else{const f=yield bf(t.localStore,ho(e)),_=t.sharedClientState.addLocalQueryTarget(f.targetId);r=f.targetId,a=yield Vg(t,e,r,"current"===_),t.isPrimaryClient&&xg(t.remoteStore,f)}return a})).apply(this,arguments)}function Vg(n,e,t,r){return gb.apply(this,arguments)}function gb(){return(gb=(0,me.Z)(function*(n,e,t,r){n.Ko=(x,P,H)=>{return(K=(0,me.Z)(function*(ye,Fe,qe,_t){let Mt=Fe.view.Io(qe);Mt.Ln&&(Mt=yield W0(ye.localStore,Fe.query,!1).then(({documents:_n})=>Fe.view.Io(_n,Mt)));const Lt=_t&&_t.targetChanges.get(Fe.targetId),lt=Fe.view.applyChanges(Mt,ye.isPrimaryClient,Lt);return O_(ye,Fe.targetId,lt.vo),lt.snapshot}),function(ye,Fe,qe,_t){return K.apply(this,arguments)})(n,x,P,H);var K};const a=yield W0(n.localStore,e,!0),c=new xd(e,a.Gn),f=c.Io(a.documents),_=ls.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),w=c.applyChanges(f,n.isPrimaryClient,_);O_(n,t,w.vo);const S=new AR(e,t,c);return n.xo.set(e,S),n.ko.has(t)?n.ko.get(t).push(e):n.ko.set(t,[e]),w.snapshot})).apply(this,arguments)}function gT(n,e){return mb.apply(this,arguments)}function mb(){return(mb=(0,me.Z)(function*(n,e){const t=He(n),r=t.xo.get(e),a=t.ko.get(r.targetId);if(a.length>1)return t.ko.set(r.targetId,a.filter(c=>!ag(c,e))),void t.xo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ad(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Ng(t.remoteStore,r.targetId),Af(t,r.targetId)}).catch(_f))):(Af(t,r.targetId),yield Ad(t.localStore,r.targetId,!0))})).apply(this,arguments)}function Ug(){return(Ug=(0,me.Z)(function*(n,e,t){const r=xT(n);try{const a=yield function(c,f){const _=He(c),w=Dr.now(),S=f.reduce((P,H)=>P.add(H.key),qt());let x;return _.persistence.runTransaction("Locally write mutations","readwrite",P=>_.Qn.Pn(P,S).next(H=>{x=H;const K=[];for(const ye of f){const Fe=dC(ye,x.get(ye.key));null!=Fe&&K.push(new ec(ye.key,Fe,tC(Fe.value.mapValue),pr.exists(!0)))}return _.In.addMutationBatch(P,w,K,f)})).then(P=>(P.applyToLocalDocumentSet(x),{batchId:P.batchId,changes:x}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,f,_){let w=c.Lo[c.currentUser.toKey()];w||(w=new mr(Pt)),w=w.insert(f,_),c.Lo[c.currentUser.toKey()]=w}(r,a.batchId,t),yield Gu(r,a.changes),yield Cf(r.remoteStore)}catch(a){const c=sc(a,"Failed to persist write");t.reject(c)}})).apply(this,arguments)}function yb(n,e){return M_.apply(this,arguments)}function M_(){return(M_=(0,me.Z)(function*(n,e){const t=He(n);try{const r=yield aR(t.localStore,e);e.targetChanges.forEach((a,c)=>{const f=t.Fo.get(c);f&&(pt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.Co=!0:a.modifiedDocuments.size>0?pt(f.Co):a.removedDocuments.size>0&&(pt(f.Co),f.Co=!1))}),yield Gu(t,r,e)}catch(r){yield _f(r)}})).apply(this,arguments)}function Bg(n,e,t){const r=He(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const a=[];r.xo.forEach((c,f)=>{const _=f.view.eo(e);_.snapshot&&a.push(_.snapshot)}),function(c,f){const _=He(c);_.onlineState=f;let w=!1;_.queries.forEach((S,x)=>{for(const P of x.listeners)P.eo(f)&&(w=!0)}),w&&hb(_)}(r.eventManager,e),a.length&&r.No.Er(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function _b(n,e,t){return mT.apply(this,arguments)}function mT(){return(mT=(0,me.Z)(function*(n,e,t){const r=He(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Fo.get(e),c=a&&a.key;if(c){let f=new mr(Xe.comparator);f=f.insert(c,kn.newNoDocument(c,At.min()));const _=qt().add(c),w=new dg(At.min(),new Map,new jn(Pt),f,_);yield yb(r,w),r.Oo=r.Oo.remove(c),r.Fo.delete(e),P_(r)}else yield Ad(r.localStore,e,!1).then(()=>Af(r,e,t)).catch(_f)})).apply(this,arguments)}function yT(n,e){return vb.apply(this,arguments)}function vb(){return(vb=(0,me.Z)(function*(n,e){const t=He(n),r=e.batch.batchId;try{const a=yield oR(t.localStore,e);$g(t,r,null),jg(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Gu(t,a)}catch(a){yield _f(a)}})).apply(this,arguments)}function _T(n,e,t){return Df.apply(this,arguments)}function Df(){return(Df=(0,me.Z)(function*(n,e,t){const r=He(n);try{const a=yield function(c,f){const _=He(c);return _.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let S;return _.In.lookupMutationBatch(w,f).next(x=>(pt(null!==x),S=x.keys(),_.In.removeMutationBatch(w,x))).next(()=>_.In.performConsistencyCheck(w)).next(()=>_.Qn.Pn(w,S))})}(r.localStore,e);$g(r,e,t),jg(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Gu(r,a)}catch(a){yield _f(a)}})).apply(this,arguments)}function Eb(){return(Eb=(0,me.Z)(function*(n,e){const t=He(n);rc(t.remoteStore)||Ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const f=He(c);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",_=>f.In.getHighestUnacknowledgedBatchId(_))}(t.localStore);if(-1===r)return void e.resolve();const a=t.Bo.get(r)||[];a.push(e),t.Bo.set(r,a)}catch(r){const a=sc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}})).apply(this,arguments)}function jg(n,e){(n.Bo.get(e)||[]).forEach(t=>{t.resolve()}),n.Bo.delete(e)}function $g(n,e,t){const r=He(n);let a=r.Lo[r.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),r.Lo[r.currentUser.toKey()]=a}}function Af(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ko.get(e))n.xo.delete(r),t&&n.No.jo(r,t);n.ko.delete(e),n.isPrimaryClient&&n.Mo.cs(e).forEach(r=>{n.Mo.containsKey(r)||ET(n,r)})}function ET(n,e){n.$o.delete(e.path.canonicalString());const t=n.Oo.get(e);null!==t&&(Ng(n.remoteStore,t),n.Oo=n.Oo.remove(e),n.Fo.delete(t),P_(n))}function O_(n,e,t){for(const r of t)r instanceof DR?(n.Mo.addReference(r.key,e),bT(n,r)):r instanceof Ti?(Ue("SyncEngine","Document no longer in limbo: "+r.key),n.Mo.removeReference(r.key,e),n.Mo.containsKey(r.key)||ET(n,r.key)):rt()}function bT(n,e){const t=e.key,r=t.path.canonicalString();n.Oo.get(t)||n.$o.has(r)||(Ue("SyncEngine","New document in limbo: "+t),n.$o.add(r),P_(n))}function P_(n){for(;n.$o.size>0&&n.Oo.size<n.maxConcurrentLimboResolutions;){const e=n.$o.values().next().value;n.$o.delete(e);const t=new Xe(kt.fromString(e)),r=n.Uo.next();n.Fo.set(r,new SR(t)),n.Oo=n.Oo.insert(t,r),xg(n.remoteStore,new $u(ho(ef(t.path)),r,2,Us.T))}}function Gu(n,e,t){return k_.apply(this,arguments)}function k_(){return(k_=(0,me.Z)(function*(n,e,t){const r=He(n),a=[],c=[],f=[];var _;r.xo.isEmpty()||(r.xo.forEach((_,w)=>{f.push(r.Ko(w,e,t).then(S=>{if(S){r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,S.fromCache?"not-current":"current"),a.push(S);const x=Cg.kn(w.targetId,S);c.push(x)}}))}),yield Promise.all(f),r.No.Er(a),yield(_=(0,me.Z)(function*(w,S){const x=He(w);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>Ne.forEach(S,H=>Ne.forEach(H.Nn,K=>x.persistence.referenceDelegate.addReference(P,H.targetId,K)).next(()=>Ne.forEach(H.xn,K=>x.persistence.referenceDelegate.removeReference(P,H.targetId,K)))))}catch(P){if(!cs(P))throw P;Ue("LocalStore","Failed to update sequence numbers: "+P)}for(const P of S){const H=P.targetId;if(!P.fromCache){const K=x.Un.get(H),Fe=K.withLastLimboFreeSnapshotVersion(K.snapshotVersion);x.Un=x.Un.insert(H,Fe)}}}),function(w,S){return _.apply(this,arguments)})(r.localStore,c))})).apply(this,arguments)}function wT(n,e){return bb.apply(this,arguments)}function bb(){return(bb=(0,me.Z)(function*(n,e){const t=He(n);if(!t.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=yield qC(t.localStore,e);t.currentUser=e,(a=t).Bo.forEach(f=>{f.forEach(_=>{_.reject(new Oe(ve.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Bo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Gu(t,r.Wn)}var a})).apply(this,arguments)}function xR(n,e){const t=He(n),r=t.Fo.get(e);if(r&&r.Co)return qt().add(r.key);{let a=qt();const c=t.ko.get(e);if(!c)return a;for(const f of c){const _=t.xo.get(f);a=a.unionWith(_.view.Eo)}return a}}function IT(n,e){return wb.apply(this,arguments)}function wb(){return(wb=(0,me.Z)(function*(n,e){const t=He(n),r=yield W0(t.localStore,e.query,!0),a=e.view.So(r);return t.isPrimaryClient&&O_(t,e.targetId,a.vo),a})).apply(this,arguments)}function CT(n){return F_.apply(this,arguments)}function F_(){return(F_=(0,me.Z)(function*(n){const e=He(n);return ZC(e.localStore).then(t=>Gu(e,t))})).apply(this,arguments)}function TT(n,e,t,r){return L_.apply(this,arguments)}function L_(){return(L_=(0,me.Z)(function*(n,e,t,r){const a=He(n),c=yield function(f,_){const w=He(f),S=He(w.In);return w.persistence.runTransaction("Lookup mutation documents","readonly",x=>S.Xt(x,_).next(P=>P?w.Qn.Pn(x,P):Ne.resolve(null)))}(a.localStore,e);var _;null!==c?("pending"===t?yield Cf(a.remoteStore):"acknowledged"===t||"rejected"===t?($g(a,e,r||null),jg(a,e),_=e,He(He(a.localStore).In).te(_)):rt(),yield Gu(a,c)):Ue("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Ib(){return(Ib=(0,me.Z)(function*(n,e){const t=He(n);if(RT(t),xT(t),!0===e&&!0!==t.qo){const r=t.sharedClientState.getAllActiveQueryTargets(),a=yield DT(t,r.toArray());t.qo=!0,yield cb(t.remoteStore,!0);for(const c of a)xg(t.remoteStore,c)}else if(!1===e&&!1!==t.qo){const r=[];let a=Promise.resolve();t.ko.forEach((c,f)=>{t.sharedClientState.isLocalQueryTarget(f)?r.push(f):a=a.then(()=>(Af(t,f),Ad(t.localStore,f,!0))),Ng(t.remoteStore,f)}),yield a,yield DT(t,r),function(c){const f=He(c);f.Fo.forEach((_,w)=>{Ng(f.remoteStore,w)}),f.Mo.us(),f.Fo=new Map,f.Oo=new mr(Xe.comparator)}(t),t.qo=!1,yield cb(t.remoteStore,!1)}})).apply(this,arguments)}function DT(n,e,t){return V_.apply(this,arguments)}function V_(){return(V_=(0,me.Z)(function*(n,e,t){const r=He(n),a=[],c=[];for(const f of e){let _;const w=r.ko.get(f);if(w&&0!==w.length){_=yield bf(r.localStore,ho(w[0]));for(const S of w){const x=r.xo.get(S),P=yield IT(r,x);P.snapshot&&c.push(P.snapshot)}}else{const S=yield K0(r.localStore,f);_=yield bf(r.localStore,S),yield Vg(r,MR(S),f,!1)}a.push(_)}return r.No.Er(c),a})).apply(this,arguments)}function MR(n){return oC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function YN(n){const e=He(n);return He(He(e.localStore).persistence).pn()}function QN(n,e,t,r){return AT.apply(this,arguments)}function AT(){return(AT=(0,me.Z)(function*(n,e,t,r){const a=He(n);if(a.qo)Ue("SyncEngine","Ignoring unexpected query state notification.");else if(a.ko.has(e))switch(t){case"current":case"not-current":{const c=yield ZC(a.localStore),f=dg.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Gu(a,c,f);break}case"rejected":yield Ad(a.localStore,e,!0),Af(a,e,r);break;default:rt()}})).apply(this,arguments)}function JN(n,e,t){return ST.apply(this,arguments)}function ST(){return(ST=(0,me.Z)(function*(n,e,t){const r=RT(n);if(r.qo){for(const a of e){if(r.ko.has(a)){Ue("SyncEngine","Adding an already active target "+a);continue}const c=yield K0(r.localStore,a),f=yield bf(r.localStore,c);yield Vg(r,MR(c),f.targetId,!1),xg(r.remoteStore,f)}for(const a of t)r.ko.has(a)&&(yield Ad(r.localStore,a,!1).then(()=>{Ng(r.remoteStore,a),Af(r,a)}).catch(_f))}})).apply(this,arguments)}function RT(n){const e=He(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=yb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_b.bind(null,e),e.No.Er=cT.bind(null,e.eventManager),e.No.jo=dT.bind(null,e.eventManager),e}function xT(n){const e=He(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_T.bind(null,e),e}class OR{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,me.Z)(function*(){t.N=Sg(e.databaseInfo.databaseId),t.sharedClientState=t.Wo(e),t.persistence=t.Go(e),yield t.persistence.start(),t.gcScheduler=t.zo(e),t.localStore=t.Ho(e)})()}zo(e){return null}Ho(e){return HC(this.persistence,new $C,e.initialUser,this.N)}Go(e){return new pR(eb.Ns,this.N)}Wo(e){return new YC}terminate(){var e=this;return(0,me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class PR extends OR{constructor(e,t,r){super(),this.Jo=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,me.Z)(function*(){yield t().call(r,e),yield function(n){return Y0.apply(this,arguments)}(r.localStore),yield r.Jo.initialize(r,e),yield xT(r.Jo.syncEngine),yield Cf(r.Jo.remoteStore),yield r.persistence.nn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ho(e){return HC(this.persistence,new $C,e.initialUser,this.N)}zo(e){return new eR(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Go(e){const t=G0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ii.withCacheSize(this.cacheSizeBytes):Ii.DEFAULT;return new q0(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,XC(),Ag(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(e){return new YC}}class e1 extends PR{constructor(e,t){super(e,t,!1),this.Jo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,me.Z)(function*(){yield t().call(r,e);const a=r.Jo.syncEngine;r.sharedClientState instanceof Dg&&(r.sharedClientState.syncEngine={_i:TT.bind(null,a),mi:QN.bind(null,a),gi:JN.bind(null,a),pn:YN.bind(null,a),wi:CT.bind(null,a)},yield r.sharedClientState.start()),yield r.persistence.nn(function(){var c=(0,me.Z)(function*(f){yield function(n,e){return Ib.apply(this,arguments)}(r.Jo.syncEngine,f),r.gcScheduler&&(f&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):f||r.gcScheduler.stop())});return function(f){return c.apply(this,arguments)}}())})()}Wo(e){const t=XC();if(!Dg.bt(t))throw new Oe(ve.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=G0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Dg(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class NT{initialize(e,t){var r=this;return(0,me.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=a=>Bg(r.syncEngine,a,1),r.remoteStore.remoteSyncer.handleCredentialChange=wT.bind(null,r.syncEngine),yield cb(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new TR}createDatastore(e){const t=Sg(e.databaseInfo.databaseId),r=new yR(e.databaseInfo);return new WN(e.credentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,a=e.asyncQueue,c=_=>Bg(this.syncEngine,_,0),f=nb.bt()?new nb:new QC,new vR(t,r,a,c,f);var t,r,a,c,f}createSyncEngine(e,t){return function(r,a,c,f,_,w,S){const x=new KN(r,a,c,f,_,w);return S&&(x.qo=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,me.Z)(function*(t){const r=He(t);Ue("RemoteStore","RemoteStore shutting down."),r.Kr.add(5),yield If(r),r.Qr.shutdown(),r.Wr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function kR(n,e=10240){let t=0;return{read:()=>(0,me.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Cb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class t1{constructor(e,t){this.Zo=e,this.N=t,this.metadata=new Vr,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(r=>{r&&r.ho()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Zo.cancel()}getMetadata(){var e=this;return(0,me.Z)(function*(){return e.metadata.promise})()}Qo(){var e=this;return(0,me.Z)(function*(){return yield e.getMetadata(),e.ea()})()}ea(){var e=this;return(0,me.Z)(function*(){const t=yield e.na();if(null===t)return null;const r=e.ta.decode(t),a=Number(r);isNaN(a)&&e.sa(`length string (${r}) is not valid number`);const c=yield e.ia(a);return new hT(JSON.parse(c),t.length+a)})()}ra(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}na(){var e=this;return(0,me.Z)(function*(){for(;e.ra()<0&&!(yield e.oa()););if(0===e.buffer.length)return null;const t=e.ra();t<0&&e.sa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ia(e){var t=this;return(0,me.Z)(function*(){for(;t.buffer.length<e;)(yield t.oa())&&t.sa("Reached the end of bundle when more is expected.");const r=t.ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}sa(e){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${e}`)}oa(){var e=this;return(0,me.Z)(function*(){const t=yield e.Zo.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class n1{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,me.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(ve.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(a=(0,me.Z)(function*(c,f){const _=He(c),w=uf(_.N)+"/documents",S={documents:f.map(K=>pg(_.N,K))},x=yield _.Ki("BatchGetDocuments",w,S),P=new Map;x.forEach(K=>{const ye=function(n,e){return"found"in e?function(t,r){pt(!!r.found);const a=Pa(t,r.found.name),c=Br(r.found.updateTime),f=new Ei({mapValue:{fields:r.found.fields}});return kn.newFoundDocument(a,c,f)}(n,e):"missing"in e?function(t,r){pt(!!r.missing),pt(!!r.readTime);const a=Pa(t,r.missing),c=Br(r.readTime);return kn.newNoDocument(a,c)}(n,e):rt()}(_.N,K);P.set(ye.key.toString(),ye)});const H=[];return f.forEach(K=>{const ye=P.get(K.toString());pt(!!ye),H.push(ye)}),H}),function(c,f){return a.apply(this,arguments)})(t.datastore,e);var a;return r.forEach(a=>t.recordVersion(a)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new bd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,me.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,a)=>{const c=Xe.fromPath(a);e.mutations.push(new a_(c,e.precondition(c)))}),yield(r=(0,me.Z)(function*(a,c){const f=He(a),_=uf(f.N)+"/documents",w={writes:c.map(S=>gg(f.N,S))};yield f.Li("Commit",_,w)}),function(a,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rt();t=At.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Oe(ve.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?pr.updateTime(t):pr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(At.min()))throw new Oe(ve.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pr.updateTime(t)}return pr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class FR{constructor(e,t,r,a){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=a,this.aa=5,this.rr=new eT(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var e=this;this.rr.Xi((0,me.Z)(function*(){const t=new n1(e.datastore),r=e.ua(t);r&&r.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.ha(c)}))}).catch(a=>{e.ha(a)})}))}ua(e){try{const t=this.updateFunction(e);return!gd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ha(e){this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(e)}la(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!u_(t)}return!1}}class LR{constructor(e,t,r){var a=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=r,this.user=Lr.UNAUTHENTICATED,this.clientId=l0.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var c=(0,me.Z)(function*(f){Ue("FirestoreClient","Received user=",f.uid),yield a.credentialListener(f),a.user=f});return function(f){return c.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(ve.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(r){const a=sc(r,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function MT(n,e){return OT.apply(this,arguments)}function OT(){return(OT=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,me.Z)(function*(c){r.isEqual(c)||(yield qC(e.localStore,c),r=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function VR(n,e){return PT.apply(this,arguments)}function PT(){return(PT=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Tb(n);Ue("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(a=>{return(c=(0,me.Z)(function*(f,_){const w=He(f);w.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const S=rc(w);w.Kr.add(3),yield If(w),S&&w.Wr.set("Unknown"),yield w.remoteSyncer.handleCredentialChange(_),w.Kr.delete(3),yield b_(w)}),function(f,_){return c.apply(this,arguments)})(e.remoteStore,a);var c}),n.onlineComponents=e})).apply(this,arguments)}function Tb(n){return Db.apply(this,arguments)}function Db(){return(Db=(0,me.Z)(function*(n){return n.offlineComponents||(Ue("FirestoreClient","Using default OfflineComponentProvider"),yield MT(n,new OR)),n.offlineComponents})).apply(this,arguments)}function U_(n){return kT.apply(this,arguments)}function kT(){return(kT=(0,me.Z)(function*(n){return n.onlineComponents||(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield VR(n,new NT)),n.onlineComponents})).apply(this,arguments)}function UR(n){return Tb(n).then(e=>e.persistence)}function FT(n){return Tb(n).then(e=>e.localStore)}function BR(n){return U_(n).then(e=>e.remoteStore)}function Ab(n){return U_(n).then(e=>e.syncEngine)}function Hg(n){return Sb.apply(this,arguments)}function Sb(){return(Sb=(0,me.Z)(function*(n){const e=yield U_(n),t=e.eventManager;return t.onListen=Lg.bind(null,e.syncEngine),t.onUnlisten=gT.bind(null,e.syncEngine),t})).apply(this,arguments)}function VT(n,e,t={}){const r=new Vr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(a,c,f,_,w){const S=new Cb({next:P=>{c.enqueueAndForget(()=>x_(a,x));const H=P.docs.has(f);!H&&P.fromCache?w.reject(new Oe(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&P.fromCache&&_&&"server"===_.source?w.reject(new Oe(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(P)},error:P=>w.reject(P)}),x=new N_(ef(f.path),S,{includeMetadataChanges:!0,uo:!0});return R_(a,x)}(yield Hg(n),n.asyncQueue,e,t,r)})),r.promise}function B_(n,e,t={}){const r=new Vr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(a,c,f,_,w){const S=new Cb({next:P=>{c.enqueueAndForget(()=>x_(a,x)),P.fromCache&&"server"===_.source?w.reject(new Oe(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(P)},error:P=>w.reject(P)}),x=new N_(f,S,{includeMetadataChanges:!0,uo:!0});return R_(a,x)}(yield Hg(n),n.asyncQueue,e,t,r)})),r.promise}class $T{constructor(e,t,r,a,c,f,_,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=_,this.useFetchStreams=w}}class Zu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Zu&&e.projectId===this.projectId&&e.database===this.database}}const xb=new Map;function HT(n,e,t){if(!t)throw new Oe(ve.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function $R(n,e,t,r){if(!0===e&&!0===r)throw new Oe(ve.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function HR(n){if(!Xe.isDocumentKey(n))throw new Oe(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qT(n){if(Xe.isDocumentKey(n))throw new Oe(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Nb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function Ut(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Nb(n);throw new Oe(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function GT(n,e){if(e<=0)throw new Oe(ve.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class qR{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,$R("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class j_{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qR({}),this._settingsFrozen=!1,e instanceof Zu?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Oe(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zu(r.options.projectId)}(e))}get app(){if(!this._app)throw new Oe(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qR(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new ES;switch(t.type){case"gapi":const r=t.client;return pt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new CS(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Oe(ve.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=xb.get(e);t&&(Ue("ComponentProvider","Removing Datastore"),xb.delete(e),t.terminate())}(this),Promise.resolve()}}class Rn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class $i{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $i(this.firestore,e,this._query)}}class zu extends $i{constructor(e,t,r){super(e,t,ef(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new Xe(e))}withConverter(e){return new zu(this.firestore,e,this._path)}}function ZT(n,e,...t){if(n=(0,wt.m9)(n),HT("collection","path",e),n instanceof j_){const r=kt.fromString(e,...t);return qT(r),new zu(n,null,r)}{if(!(n instanceof Rn||n instanceof zu))throw new Oe(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(kt.fromString(e,...t));return qT(r),new zu(n.firestore,null,r)}}function qg(n,e,...t){if(n=(0,wt.m9)(n),1===arguments.length&&(e=l0.I()),HT("doc","path",e),n instanceof j_){const r=kt.fromString(e,...t);return HR(r),new Rn(n,null,new Xe(r))}{if(!(n instanceof Rn||n instanceof zu))throw new Oe(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(kt.fromString(e,...t));return HR(r),new Rn(n.firestore,n instanceof zu?n.converter:null,new Xe(r))}}function zT(n,e){return n=(0,wt.m9)(n),e=(0,wt.m9)(e),(n instanceof Rn||n instanceof zu)&&(e instanceof Rn||e instanceof zu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function GR(n,e){return n=(0,wt.m9)(n),e=(0,wt.m9)(e),n instanceof $i&&e instanceof $i&&n.firestore===e.firestore&&ag(n._query,e._query)&&n.converter===e.converter}class s1{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new eT(this,"async_queue_retry"),this.Ta=()=>{const t=Ag();t&&Ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.rr.tr()};const e=Ag();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ta)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ea(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=Ag();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ta)}}enqueue(e){if(this.Ea(),this.wa)return new Promise(()=>{});const t=new Vr;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.da.push(e),this.Aa()))}Aa(){var e=this;return(0,me.Z)(function*(){if(0!==e.da.length){try{yield e.da[0](),e.da.shift(),e.rr.reset()}catch(t){if(!cs(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}e.da.length>0&&e.rr.Xi(()=>e.Aa())}})()}Ia(e){const t=this.fa.then(()=>(this.ga=!0,e().catch(r=>{throw this.ma=r,this.ga=!1,hr("INTERNAL UNHANDLED ERROR: ",function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f}(r)),r}).then(r=>(this.ga=!1,r))));return this.fa=t,t}enqueueAfterDelay(e,t,r){this.Ea(),this.pa.indexOf(e)>-1&&(t=0);const a=S_.createAndSchedule(this,e,t,r,c=>this.Ra(c));return this._a.push(a),a}Ea(){this.ma&&rt()}verifyOperationInProgress(){}ba(){var e=this;return(0,me.Z)(function*(){let t;do{t=e.fa,yield t}while(t!==e.fa)})()}Pa(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.ba().then(()=>{this._a.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ba()})}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}function Ob(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(n)}class Gg{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Gn extends j_{constructor(e,t){super(e,t),this.type="firestore",this._queue=new s1,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||ds(this),this._firestoreClient.terminate()}}function xr(n){return n._firestoreClient||ds(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function ds(n){var e;const t=n._freezeSettings(),r=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new $T(n._databaseId,c,n._persistenceKey,(_=t).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,_.useFetchStreams));var c,_;n._firestoreClient=new LR(n._credentials,n._queue,r)}function KT(n,e,t){const r=new Vr;return n.asyncQueue.enqueue((0,me.Z)(function*(){try{yield MT(n,t),yield VR(n,e),r.resolve()}catch(a){if(!("FirebaseError"===(c=a).name?c.code===ve.FAILED_PRECONDITION||c.code===ve.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var c})).then(()=>r.promise)}function eD(n){if(n._initialized||n._terminated)throw new Oe(ve.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Wu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ni(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qo(fr.fromBase64String(e))}catch(t){throw new Oe(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qo(fr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ac{constructor(e){this._methodName=e}}class Rf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}}const KR=/^__.*__$/;class Go{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ec(e,this.data,this.fieldMask,t,this.fieldTransforms):new rf(e,this.data,t,this.fieldTransforms)}}class nD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ec(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function YR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class $_{constructor(e,t,r,a,c,f){this.settings=e,this.databaseId=t,this.N=r,this.ignoreUndefinedProperties=a,void 0===c&&this.Sa(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new $_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Ca({path:r,xa:!1});return a.ka(e),a}$a(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Ca({path:r,xa:!1});return a.Sa(),a}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return Kg(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(YR(this.Da)&&KR.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class u1{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=r||Sg(e)}Ba(e,t,r,a=!1){return new $_({Da:e,methodName:t,La:r,path:ni.emptyPath(),xa:!1,Ma:a},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Nd(n){const e=n._freezeSettings(),t=Sg(n._databaseId);return new u1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function H_(n,e,t,r,a,c={}){const f=n.Ba(c.merge||c.mergeFields?2:0,e,t,a);Ub("Data must be an object, but it was:",f,r);const _=Vb(r,f);let w,S;if(c.merge)w=new $o(f.fieldMask),S=f.fieldTransforms;else if(c.mergeFields){const x=[];for(const P of c.mergeFields){const H=G_(e,P,t);if(!f.contains(H))throw new Oe(ve.INVALID_ARGUMENT,`Field '${H}' is specified in your field mask but missing from your input data.`);sD(x,H)||x.push(H)}w=new $o(x),S=f.fieldTransforms.filter(P=>w.covers(P.field))}else w=null,S=f.fieldTransforms;return new Go(new Ei(_),w,S)}class Zg extends ac{_toFieldTransform(e){if(2!==e.Da)throw e.Fa(1===e.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zg}}function QR(n,e,t){return new $_({Da:3,La:e.settings.La,methodName:n._methodName,xa:t},e.databaseId,e.N,e.ignoreUndefinedProperties)}class Fb extends ac{_toFieldTransform(e){return new lg(e.path,new _d)}isEqual(e){return e instanceof Fb}}class rD extends ac{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=QR(this,e,!0),r=this.Ua.map(c=>uc(c,t)),a=new vd(r);return new lg(e.path,a)}isEqual(e){return this===e}}class JR extends ac{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=QR(this,e,!0),r=this.Ua.map(c=>uc(c,t)),a=new Ed(r);return new lg(e.path,a)}isEqual(e){return this===e}}class XR extends ac{constructor(e,t){super(e),this.qa=t}_toFieldTransform(e){const t=new nf(e.N,I0(e.N,this.qa));return new lg(e.path,t)}isEqual(e){return this===e}}function q_(n,e,t,r){const a=n.Ba(1,e,t);Ub("Data must be an object, but it was:",a,r);const c=[],f=Ei.empty();Yl(r,(w,S)=>{const x=Wg(e,w,t);S=(0,wt.m9)(S);const P=a.$a(x);if(S instanceof Zg)c.push(x);else{const H=uc(S,P);null!=H&&(c.push(x),f.set(x,H))}});const _=new $o(c);return new nD(f,_,a.fieldTransforms)}function Lb(n,e,t,r,a,c){const f=n.Ba(1,e,t),_=[G_(e,r,t)],w=[a];if(c.length%2!=0)throw new Oe(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let H=0;H<c.length;H+=2)_.push(G_(e,c[H])),w.push(c[H+1]);const S=[],x=Ei.empty();for(let H=_.length-1;H>=0;--H)if(!sD(S,_[H])){const K=_[H];let ye=w[H];ye=(0,wt.m9)(ye);const Fe=f.$a(K);if(ye instanceof Zg)S.push(K);else{const qe=uc(ye,Fe);null!=qe&&(S.push(K),x.set(K,qe))}}const P=new $o(S);return new nD(x,P,f.fieldTransforms)}function ex(n,e,t,r=!1){return uc(t,n.Ba(r?4:3,e))}function uc(n,e){if(iD(n=(0,wt.m9)(n)))return Ub("Unsupported field value:",e,n),Vb(n,e);if(n instanceof ac)return function(t,r){if(!YR(r.Da))throw r.Fa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Fa(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xa&&4!==e.Da)throw e.Fa("Nested arrays are not supported");return function(t,r){const a=[];let c=0;for(const f of t){let _=uc(f,r.Oa(c));null==_&&(_={nullValue:"NULL_VALUE"}),a.push(_),c++}return{arrayValue:{values:a}}}(n,e)}return function(t,r){if(null===(t=(0,wt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return I0(r.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Dr.fromDate(t);return{timestampValue:af(r.N,a)}}if(t instanceof Dr){const a=new Dr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:af(r.N,a)}}if(t instanceof Rf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof qo)return{bytesValue:c_(r.N,t._byteString)};if(t instanceof Rn){const a=r.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw r.Fa(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:bC(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Fa(`Unsupported field value: ${Nb(t)}`)}(n,e)}function Vb(n,e){const t={};return Zy(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yl(n,(r,a)=>{const c=uc(a,e.Na(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function iD(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Dr||n instanceof Rf||n instanceof qo||n instanceof Rn||n instanceof ac)}function Ub(n,e,t){if(!iD(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Nb(t);throw e.Fa("an object"===r?n+" a custom object":n+" "+r)}var r}function G_(n,e,t){if((e=(0,wt.m9)(e))instanceof Wu)return e._internalPath;if("string"==typeof e)return Wg(n,e);throw Kg("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const zg=new RegExp("[~\\*/\\[\\]]");function Wg(n,e,t){if(e.search(zg)>=0)throw Kg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wu(...e.split("."))._internalPath}catch(r){throw Kg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Kg(n,e,t,r,a){const c=r&&!r.isEmpty(),f=void 0!==a;let _=`Function ${e}() called with invalid data`;t&&(_+=" (via `toFirestore()`)"),_+=". ";let w="";return(c||f)&&(w+=" (found",c&&(w+=` in field ${r}`),f&&(w+=` in document ${a}`),w+=")"),new Oe(ve.INVALID_ARGUMENT,_+n+w)}function sD(n,e){return n.some(t=>t.isEqual(e))}class Yg{constructor(e,t,r,a,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new l1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Bb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class l1 extends Yg{data(){return super.data()}}function Bb(n,e){return"string"==typeof e?Wg(n,e):e instanceof Wu?e._internalPath:e._delegate._internalPath}class xf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ha extends Yg{constructor(e,t,r,a,c,f){super(e,t,r,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Bb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Nf extends Ha{data(e={}){return super.data(e)}}class lc{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new xf(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Nf(this._firestore,this._userDataWriter,r.key,r,new xf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(f=>({type:"added",doc:new Nf(r._firestore,r._userDataWriter,f.doc.key,f.doc,new xf(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const _=new Nf(r._firestore,r._userDataWriter,f.doc.key,f.doc,new xf(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,S=-1;return 0!==f.type&&(w=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),1!==f.type&&(c=c.add(f.doc),S=c.indexOf(f.doc.key)),{type:tx(f.type),doc:_,oldIndex:w,newIndex:S}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function tx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function oD(n,e){return n instanceof Ha&&e instanceof Ha?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof lc&&e instanceof lc&&n._firestore===e._firestore&&GR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function aD(n){if(Jl(n)&&0===n.explicitOrderBy.length)throw new Oe(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mf{}function Md(n,...e){for(const t of e)n=t._apply(n);return n}class c1 extends Mf{constructor(e,t,r){super(),this.Ka=e,this.ja=t,this.Qa=r,this.type="where"}_apply(e){const t=Nd(e.firestore),r=function(a,c,f,_,w,S,x){let P;if(w.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new Oe(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on FieldPath.documentId().`);if("in"===S||"not-in"===S){W_(x,S);const K=[];for(const ye of x)K.push(z_(_,a,ye));P={arrayValue:{values:K}}}else P=z_(_,a,x)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||W_(x,S),P=ex(f,"where",x,"in"===S||"not-in"===S);const H=Ar.create(w,S,P);return function(K,ye){if(ye.v()){const qe=_0(K);if(null!==qe&&!qe.isEqual(ye.field))throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${qe.toString()}' and '${ye.field.toString()}'`);const _t=y0(K);null!==_t&&fD(0,ye.field,_t)}const Fe=function(qe,_t){for(const Mt of qe.filters)if(_t.indexOf(Mt.op)>=0)return Mt.op;return null}(K,function(qe){switch(qe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ye.op));if(null!==Fe)throw new Oe(ve.INVALID_ARGUMENT,Fe===ye.op?`Invalid query. You cannot use more than one '${ye.op.toString()}' filter.`:`Invalid query. You cannot use '${ye.op.toString()}' filters with '${Fe.toString()}' filters.`)}(a,H),H}(e._query,0,t,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new $i(e.firestore,e.converter,function(a,c){const f=a.filters.concat([c]);return new co(a.path,a.collectionGroup,a.explicitOrderBy.slice(),f,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,r))}}class jb extends Mf{constructor(e,t){super(),this.Ka=e,this.Wa=t,this.type="orderBy"}_apply(e){const t=function(r,a,c){if(null!==r.startAt)throw new Oe(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Oe(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new sg(a,c);return function(_,w){if(null===y0(_)){const S=_0(_);null!==S&&fD(0,S,w.field)}}(r,f),f}(e._query,this.Ka,this.Wa);return new $i(e.firestore,e.converter,function(r,a){const c=r.explicitOrderBy.concat([a]);return new co(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class rx extends Mf{constructor(e,t,r){super(),this.type=e,this.Ga=t,this.za=r}_apply(e){return new $i(e.firestore,e.converter,E0(e._query,this.Ga,this.za))}}class cD extends Mf{constructor(e,t,r){super(),this.type=e,this.Ha=t,this.Ja=r}_apply(e){const t=$b(e,this.type,this.Ha,this.Ja);return new $i(e.firestore,e.converter,(a=t,new co((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,a,r.endAt)));var r,a}}class dD extends Mf{constructor(e,t,r){super(),this.type=e,this.Ha=t,this.Ja=r}_apply(e){const t=$b(e,this.type,this.Ha,this.Ja);return new $i(e.firestore,e.converter,(a=t,new co((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,a)));var r,a}}function $b(n,e,t,r){if(t[0]=(0,wt.m9)(t[0]),t[0]instanceof Yg)return function(a,c,f,_,w){if(!_)throw new Oe(ve.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const S=[];for(const x of tf(a))if(x.field.isKeyField())S.push(rg(c,_.key));else{const P=_.data.field(x.field);if(ot(P))throw new Oe(ve.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const H=x.field.canonicalString();throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${H}' (used as the orderBy) does not exist.`)}S.push(P)}return new ig(S,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=Nd(n.firestore);return function(c,f,_,w,S,x){const P=c.explicitOrderBy;if(S.length>P.length)throw new Oe(ve.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const H=[];for(let K=0;K<S.length;K++){const ye=S[K];if(P[K].field.isKeyField()){if("string"!=typeof ye)throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof ye}`);if(!v0(c)&&-1!==ye.indexOf("/"))throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${w}() must be a plain document ID, but '${ye}' contains a slash.`);const Fe=c.path.child(kt.fromString(ye));if(!Xe.isDocumentKey(Fe))throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${w}() must result in a valid document path, but '${Fe}' is not because it contains an odd number of segments.`);const qe=new Xe(Fe);H.push(rg(f,qe))}else{const Fe=ex(_,w,ye);H.push(Fe)}}return new ig(H,x)}(n._query,n.firestore._databaseId,a,e,t,r)}}function z_(n,e,t){if("string"==typeof(t=(0,wt.m9)(t))){if(""===t)throw new Oe(ve.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!v0(e)&&-1!==t.indexOf("/"))throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(kt.fromString(t));if(!Xe.isDocumentKey(r))throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rg(n,new Xe(r))}if(t instanceof Rn)return rg(n,t._key);throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nb(t)}.`)}function W_(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Oe(ve.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function fD(n,e,t){if(!t.isEqual(e))throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Of{convertValue(e,t="none"){switch(Oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(tg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){const r={};return Yl(e.fields,(a,c)=>{r[a]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new Rf(rr(e.latitude),rr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=QI(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ng(e));default:return null}}convertTimestamp(e){const t=Lu(e);return new Dr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=kt.fromString(e);pt(xC(r));const a=new Zu(r.get(1),r.get(3)),c=new Xe(r.popFirst(5));return a.isEqual(t)||hr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function K_(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Hb extends Of{constructor(e){super(),this.firestore=e}convertBytes(e){return new qo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}}class qb{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Nd(e)}set(e,t,r){this._verifyNotCommitted();const a=xn(e,this._firestore),c=K_(a.converter,t,r),f=H_(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,r);return this._mutations.push(f.toMutation(a._key,pr.none())),this}update(e,t,r,...a){this._verifyNotCommitted();const c=xn(e,this._firestore);let f;return f="string"==typeof(t=(0,wt.m9)(t))||t instanceof Wu?Lb(this._dataReader,"WriteBatch.update",c._key,t,r,a):q_(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(f.toMutation(c._key,pr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=xn(e,this._firestore);return this._mutations=this._mutations.concat(new bd(t._key,pr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function xn(n,e){if((n=(0,wt.m9)(n)).firestore!==e)throw new Oe(ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Pd extends Of{constructor(e){super(),this.firestore=e}convertBytes(e){return new qo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}}function ax(n,e,t){n=Ut(n,Rn);const r=Ut(n.firestore,Gn),a=K_(n.converter,e,t);return Pf(r,[H_(Nd(r),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,pr.none())])}function ux(n,e,t,...r){n=Ut(n,Rn);const a=Ut(n.firestore,Gn),c=Nd(a);let f;return f="string"==typeof(e=(0,wt.m9)(e))||e instanceof Wu?Lb(c,"updateDoc",n._key,e,t,r):q_(c,"updateDoc",n._key,e),Pf(a,[f.toMutation(n._key,pr.exists(!0))])}function pD(n,...e){var t,r,a;n=(0,wt.m9)(n);let c={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||Ob(e[f])||(c=e[f],f++);const _={includeMetadataChanges:c.includeMetadataChanges};if(Ob(e[f])){const P=e[f];e[f]=null===(t=P.next)||void 0===t?void 0:t.bind(P),e[f+1]=null===(r=P.error)||void 0===r?void 0:r.bind(P),e[f+2]=null===(a=P.complete)||void 0===a?void 0:a.bind(P)}let w,S,x;if(n instanceof Rn)S=Ut(n.firestore,Gn),x=ef(n._key.path),w={next:P=>{e[f]&&e[f](gD(S,n,P))},error:e[f+1],complete:e[f+2]};else{const P=Ut(n,$i);S=Ut(P.firestore,Gn),x=P._query;const H=new Pd(S);w={next:K=>{e[f]&&e[f](new lc(S,H,P,K))},error:e[f+1],complete:e[f+2]},aD(n._query)}return function(P,H,K,ye){const Fe=new Cb(ye),qe=new N_(H,Fe,K);return P.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return R_(yield Hg(P),qe)})),()=>{Fe.Xo(),P.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return x_(yield Hg(P),qe)}))}}(xr(S),x,_,w)}function Pf(n,e){return function(t,r){const a=new Vr;return t.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(n,e,t){return Ug.apply(this,arguments)}(yield Ab(t),r,a)})),a.promise}(xr(n),e)}function gD(n,e,t){const r=t.docs.get(e._key),a=new Pd(n);return new Ha(n,a,e._key,r,new xf(t.hasPendingWrites,t.fromCache),e.converter)}class hx extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Nd(e)}get(e){const t=xn(e,this._firestore),r=new Hb(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return rt();const c=a[0];if(c.isFoundDocument())return new Yg(this._firestore,r,c.key,c,t.converter);if(c.isNoDocument())return new Yg(this._firestore,r,t._key,null,t.converter);throw rt()})}set(e,t,r){const a=xn(e,this._firestore),c=K_(a.converter,t,r),f=H_(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,r);return this._transaction.set(a._key,f),this}update(e,t,r,...a){const c=xn(e,this._firestore);let f;return f="string"==typeof(t=(0,wt.m9)(t))||t instanceof Wu?Lb(this._dataReader,"Transaction.update",c._key,t,r,a):q_(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,f),this}delete(e){const t=xn(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=xn(e,this._firestore),r=new Pd(this._firestore);return super.get(e).then(a=>new Ha(this._firestore,r,t._key,a._document,new xf(!1,!1),t.converter))}}function Gb(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function mD(){if("undefined"==typeof Uint8Array)throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function yD(){if("undefined"==typeof atob)throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(n){fd=n})(Sa.SDK_VERSION),(0,Sa._registerComponent)(new Oh.wA("firestore",(n,{options:e})=>{const t=n.getProvider("app").getImmediate(),r=new Gn(t,new wS(n.getProvider("auth-internal")));return e=Object.assign({useFetchStreams:!0},e),r._setSettings(e),r},"PUBLIC")),(0,Sa.registerVersion)(a0,"3.1.1",void 0),(0,Sa.registerVersion)(a0,"3.1.1","esm2017");class Qg{constructor(e){this._delegate=e}static fromBase64String(e){return yD(),new Qg(qo.fromBase64String(e))}static fromUint8Array(e){return mD(),new Qg(qo.fromUint8Array(e))}toBase64(){return yD(),this._delegate.toBase64()}toUint8Array(){return mD(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function _D(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class Ex{enableIndexedDbPersistence(e,t){return function(n,e){eD(n=Ut(n,Gn));const t=xr(n),r=n._freezeSettings(),a=new NT;return KT(t,a,new PR(a,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){eD(n=Ut(n,Gn));const e=xr(n),t=n._freezeSettings(),r=new NT;return KT(e,r,new e1(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Oe(ve.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Vr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{yield(t=(0,me.Z)(function*(r){if(!La.bt())return Promise.resolve();const a=r+"main";yield La.delete(a)}),function(r){return t.apply(this,arguments)})(G0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class vD{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Zu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&eg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var a;const c=(n=Ut(n,j_))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&eg("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let f,_;if("string"==typeof r.mockUserToken)f=r.mockUserToken,_=Lr.MOCK_USER;else{f=(0,wt.Sg)(r.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Oe(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Lr(w)}n._credentials=new bS(new KI(f,_))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield UR(n),t=yield BR(n);return e.setNetworkEnabled(!0),function(r){const a=He(r);return a.Kr.delete(0),b_(a)}(t)}))}(xr(n=Ut(n,Gn)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield UR(n),t=yield BR(n);return e.setNetworkEnabled(!1),(r=(0,me.Z)(function*(a){const c=He(a);c.Kr.add(0),yield If(c),c.Wr.set("Offline")}),function(a){return r.apply(this,arguments)})(t);var r}))}(xr(n=Ut(n,Gn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,$R("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new Vr;return e.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(n,e){return Eb.apply(this,arguments)}(yield Ab(e),t)})),t.promise}(xr(n=Ut(n,Gn)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new Cb(e);return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return r=yield Hg(n),a=t,He(r).Zr.add(a),void a.next();var r,a})),()=>{t.Xo(),n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return r=yield Hg(n),a=t,void He(r).Zr.delete(a);var r,a}))}}(xr(n=Ut(n,Gn)),Ob(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ff(this,ZT(this._delegate,e))}catch(t){throw hs(t,"collection()","Firestore.collection()")}}doc(e){try{return new zo(this,qg(this._delegate,e))}catch(t){throw hs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new fs(this,function(n,e){if(n=Ut(n,j_),HT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(ve.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new $i(n,null,(t=e,new co(kt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw hs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new Vr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){const r=yield(a=n,U_(a).then(c=>c.datastore));var a;new FR(n.asyncQueue,r,e,t).run()})),t.promise}(xr(n),t=>e(new hx(n,t)))}(this._delegate,t=>e(new bx(this,t)))}batch(){return xr(this._delegate),new bD(new qb(this._delegate,e=>Pf(this._delegate,e)))}loadBundle(e){return function(n,e){const t=xr(n=Ut(n,Gn)),r=new Gg;return function(n,e,t,r){const a=function(c,f){let _;return _="string"==typeof c?(new TextEncoder).encode(c):c,w=function(w,S){if(w instanceof Uint8Array)return kR(w,S);if(w instanceof ArrayBuffer)return kR(new Uint8Array(w),S);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(_),new t1(w,f);var w}(t,Sg(e));n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){!function(n,e,t){const r=He(n);var a;(a=(0,me.Z)(function*(c,f,_){try{const w=yield f.getMetadata();if(yield function(H,K){const ye=He(H),Fe=Br(K.createTime);return ye.persistence.runTransaction("hasNewerBundle","readonly",qe=>ye.Je.getBundleMetadata(qe,K.id)).then(qe=>!!qe&&qe.createTime.compareTo(Fe)>=0)}(c.localStore,w))return yield f.close(),void _._completeWith((H=w,{taskState:"Success",documentsLoaded:H.totalDocuments,bytesLoaded:H.totalBytes,totalDocuments:H.totalDocuments,totalBytes:H.totalBytes}));_._updateProgress(fb(w));const S=new pT(w,c.localStore,f.N);let x=yield f.Qo();for(;x;){const H=yield S.fo(x);H&&_._updateProgress(H),x=yield f.Qo()}const P=yield S.complete();yield Gu(c,P.En,void 0),yield function(H,K){const ye=He(H);return ye.persistence.runTransaction("Save bundle","readwrite",Fe=>ye.Je.saveBundleMetadata(Fe,K))}(c.localStore,w),_._completeWith(P.progress)}catch(w){eg("SyncEngine",`Loading bundle failed with ${w}`),_._failWith(w)}var H}),function(c,f,_){return a.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield Ab(n),a,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,me.Z)(function*(){return function(t,r){const a=He(t);return a.persistence.runTransaction("Get named query","readonly",c=>a.Je.getNamedQuery(c,r))}(yield FT(n),e)}))}(xr(n=Ut(n,Gn)),e).then(t=>t?new $i(n,null,t.query):null)}(this._delegate,e).then(t=>t?new fs(this,t):null)}}class cc extends Of{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qg(new qo(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return zo.forKey(t,this.firestore,null)}}class bx{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new cc(e)}get(e){const t=ii(e);return this._delegate.get(t).then(r=>new Jg(this._firestore,new Ha(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const a=ii(e);return r?(Gb("Transaction.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const c=ii(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...a),this}delete(e){const t=ii(e);return this._delegate.delete(t),this}}class bD{constructor(e){this._delegate=e}set(e,t,r){const a=ii(e);return r?(Gb("WriteBatch.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const c=ii(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...a),this}delete(e){const t=ii(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class kf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Nf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Xg(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=kf.INSTANCES;let a=r.get(e);a||(a=new WeakMap,r.set(e,a));let c=a.get(t);return c||(c=new kf(e,new cc(e),t),a.set(t,c)),c}}kf.INSTANCES=new WeakMap;class zo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new cc(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new zo(t,new Rn(t._delegate,r,new Xe(e)))}static forKey(e,t,r){return new zo(t,new Rn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ff(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ff(this.firestore,ZT(this._delegate,e))}catch(t){throw hs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,wt.m9)(e))instanceof Rn&&zT(this._delegate,e)}set(e,t){t=Gb("DocumentReference.set",t);try{return t?ax(this._delegate,e,t):ax(this._delegate,e)}catch(r){throw hs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?ux(this._delegate,e):ux(this._delegate,e,t,...r)}catch(a){throw hs(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return Pf(Ut(n.firestore,Gn),[new bd(n._key,pr.none())])}(this._delegate)}onSnapshot(...e){const t=Q_(e),r=wD(e,a=>new Jg(this.firestore,new Ha(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return pD(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Ut(n,Rn);const e=Ut(n.firestore,Gn),t=xr(e),r=new Pd(e);return function(n,e){const t=new Vr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(r=(0,me.Z)(function*(a,c,f){try{const _=yield function(w,S){const x=He(w);return x.persistence.runTransaction("read document","readonly",P=>x.Qn.An(P,S))}(a,c);_.isFoundDocument()?f.resolve(_):_.isNoDocument()?f.resolve(null):f.reject(new Oe(ve.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(_){const w=sc(_,`Failed to get document '${c} from cache`);f.reject(w)}}),function(a,c,f){return r.apply(this,arguments)})(yield FT(n),e,t);var r})),t.promise}(t,n._key).then(a=>new Ha(e,r,n._key,a,new xf(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Ut(n,Rn);const e=Ut(n.firestore,Gn);return VT(xr(e),n._key,{source:"server"}).then(t=>gD(e,n,t))}(this._delegate):function(n){n=Ut(n,Rn);const e=Ut(n.firestore,Gn);return VT(xr(e),n._key).then(t=>gD(e,n,t))}(this._delegate),t.then(r=>new Jg(this.firestore,new Ha(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new zo(this.firestore,this._delegate.withConverter(e?kf.getInstance(this.firestore,e):null))}}function hs(n,e,t){return n.message=n.message.replace(e,t),n}function Q_(n){for(const e of n)if("object"==typeof e&&!_D(e))return e;return{}}function wD(n,e){var t,r;let a;return a=_D(n[0])?n[0]:_D(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{a.next&&a.next(e(c))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(r=a.complete)||void 0===r?void 0:r.bind(a)}}class Jg{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new zo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return oD(this._delegate,e._delegate)}}class Xg extends Jg{data(e){const t=this._delegate.data(e);return function(n,e){n||rt()}(void 0!==t),t}}class fs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new cc(e)}where(e,t,r){try{return new fs(this.firestore,Md(this._delegate,function(n,e,t){const r=e,a=Bb("where",n);return new c1(a,r,t)}(e,t,r)))}catch(a){throw hs(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new fs(this.firestore,Md(this._delegate,function(n,e="asc"){const t=e,r=Bb("orderBy",n);return new jb(r,t)}(e,t)))}catch(r){throw hs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new fs(this.firestore,Md(this._delegate,function(n){return GT("limit",n),new rx("limit",n,"F")}(e)))}catch(t){throw hs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new fs(this.firestore,Md(this._delegate,function(n){return GT("limitToLast",n),new rx("limitToLast",n,"L")}(e)))}catch(t){throw hs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new fs(this.firestore,Md(this._delegate,function(...n){return new cD("startAt",n,!0)}(...e)))}catch(t){throw hs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new fs(this.firestore,Md(this._delegate,function(...n){return new cD("startAfter",n,!1)}(...e)))}catch(t){throw hs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new fs(this.firestore,Md(this._delegate,function(...n){return new dD("endBefore",n,!0)}(...e)))}catch(t){throw hs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new fs(this.firestore,Md(this._delegate,function(...n){return new dD("endAt",n,!1)}(...e)))}catch(t){throw hs(t,"endAt()","Query.endAt()")}}isEqual(e){return GR(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Ut(n,$i);const e=Ut(n.firestore,Gn),t=xr(e),r=new Pd(e);return function(n,e){const t=new Vr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(r=(0,me.Z)(function*(a,c,f){try{const _=yield W0(a,c,!0),w=new xd(c,_.Gn),S=w.Io(_.documents),x=w.applyChanges(S,!1);f.resolve(x.snapshot)}catch(_){const w=sc(_,`Failed to execute query '${c} against cache`);f.reject(w)}}),function(a,c,f){return r.apply(this,arguments)})(yield FT(n),e,t);var r})),t.promise}(t,n._query).then(a=>new lc(e,r,n,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Ut(n,$i);const e=Ut(n.firestore,Gn),t=xr(e),r=new Pd(e);return B_(t,n._query,{source:"server"}).then(a=>new lc(e,r,n,a))}(this._delegate):function(n){n=Ut(n,$i);const e=Ut(n.firestore,Gn),t=xr(e),r=new Pd(e);return aD(n._query),B_(t,n._query).then(a=>new lc(e,r,n,a))}(this._delegate),t.then(r=>new Zb(this.firestore,new lc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Q_(e),r=wD(e,a=>new Zb(this.firestore,new lc(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return pD(this._delegate,t,r)}withConverter(e){return new fs(this.firestore,this._delegate.withConverter(e?kf.getInstance(this.firestore,e):null))}}class wx{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Xg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Zb{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new fs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Xg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new wx(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Xg(this._firestore,r))})}isEqual(e){return oD(this._delegate,e._delegate)}}class Ff extends fs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new zo(this.firestore,e):null}doc(e){try{return new zo(this.firestore,void 0===e?qg(this._delegate):qg(this._delegate,e))}catch(t){throw hs(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=Ut(n.firestore,Gn),r=qg(n),a=K_(n.converter,e);return Pf(t,[H_(Nd(n.firestore),"addDoc",r._key,a,null!==n.converter,{}).toMutation(r._key,pr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new zo(this.firestore,t))}isEqual(e){return zT(this._delegate,e._delegate)}withConverter(e){return new Ff(this.firestore,this._delegate.withConverter(e?kf.getInstance(this.firestore,e):null))}}function ii(n){return Ut(n,Rn)}class ID{constructor(...e){this._delegate=new Wu(...e)}static documentId(){return new ID(ni.keyField().canonicalString())}isEqual(e){return(e=(0,wt.m9)(e))instanceof Wu&&this._delegate._internalPath.isEqual(e._internalPath)}}class dc{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Fb("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new dc(e)}static delete(){const e=new Zg("deleteField");return e._methodName="FieldValue.delete",new dc(e)}static arrayUnion(...e){const t=function(...n){return new rD("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new dc(t)}static arrayRemove(...e){const t=function(...n){return new JR("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new dc(t)}static increment(e){const t=function(n){return new XR("increment",n)}(e);return t._methodName="FieldValue.increment",new dc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Ix={Firestore:vD,GeoPoint:Rf,Timestamp:Dr,Blob:Qg,Transaction:bx,WriteBatch:bD,DocumentReference:zo,DocumentSnapshot:Jg,Query:fs,QueryDocumentSnapshot:Xg,QuerySnapshot:Zb,CollectionReference:Ff,FieldPath:ID,FieldValue:dc,setLogLevel:function(n){!function(n){Fu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function J_(n,e){return function(n,e=ed.z){return new Yr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function em(n,e){return J_(n,e).pipe((0,ft.U)(t=>({payload:t,type:"query"})))}function kd(n,e){return em(n,e).pipe(va(void 0),ly(),(0,ft.U)(([t,r])=>{const a=r.payload.docChanges(),c=a.map(f=>({type:f.type,payload:f}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((f,_)=>{const w=a.find(x=>x.doc.ref.isEqual(f.ref)),S=null==t?void 0:t.payload.docs.find(x=>x.ref.isEqual(f.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(f.metadata)||!w&&S&&JSON.stringify(S.metadata)===JSON.stringify(f.metadata)||c.push({type:"modified",payload:{oldIndex:_,newIndex:_,type:"modified",doc:f}})}),c}))}function tm(n,e,t){return kd(n,t).pipe(Po((r,a)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return X_(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return X_(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return X_(n,e.oldIndex,1)}return n}(n,r))}),n}(r,a.map(c=>c.payload),e),[]),t=>t.lift(new fE(void 0,void 0)),(0,ft.U)(r=>r.map(a=>({type:a.type,payload:a}))))}function X_(n,e,t,...r){const a=n.slice();return a.splice(e,t,...r),a}function SD(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function(n){(function(n,e){n.INTERNAL.registerComponent(new Oh.wA("firestore-compat",t=>((e,t)=>new vD(e,t,new Ex))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Ix)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.4")}(pE.Z);class Wb{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=kd(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ft.U)(r=>r.filter(a=>e.indexOf(a.type)>-1)))),t.pipe(va(void 0),ly(),Oi(([r,a])=>a.length>0||!r),(0,ft.U)(([r,a])=>a),Dn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Po((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=SD(e);return tm(this.query,t,this.afs.schedulers.outsideAngular).pipe(Dn.iC)}valueChanges(e={}){return em(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Dn.iC)}get(e){return(0,Xt.D)(this.query.get(e)).pipe(Dn.iC)}add(e){return this.ref.add(e)}doc(e){return new RD(this.ref.doc(e),this.afs)}}class RD{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:a,query:c}=Lf(r,t);return new Wb(a,c,this.afs)}snapshotChanges(){return function(n,e){return J_(n,e).pipe(va(void 0),ly(),(0,ft.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Dn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ft.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Xt.D)(this.ref.get(e)).pipe(Dn.iC)}}class Tx{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?kd(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Oi(t=>t.length>0),Dn.iC):kd(this.query,this.afs.schedulers.outsideAngular).pipe(Dn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Po((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=SD(e);return tm(this.query,t,this.afs.schedulers.outsideAngular).pipe(Dn.iC)}valueChanges(e={}){return em(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(r=>r.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),Dn.iC)}get(e){return(0,Xt.D)(this.query.get(e)).pipe(Dn.iC)}}const xD=new d.OlP("angularfire2.enableFirestorePersistence"),ev=new d.OlP("angularfire2.firestore.persistenceSettings"),Dx=new d.OlP("angularfire2.firestore.settings"),Hi=new d.OlP("angularfire2.firestore.use-emulator");function Lf(n,e=(t=>t)){return{query:e(n),ref:n}}let hc=(()=>{class n{constructor(t,r,a,c,f,_,w,S,x,P,H,K,ye,Fe,qe,_t,Mt){this.schedulers=w;const Lt=(0,yi.on)(t,_,r),lt=x;P&&eI(Lt,_,H,ye,Fe,qe,K,_t),[this.firestore,this.persistenceEnabled$]=(0,yi.cc)(`${Lt.name}.firestore`,"AngularFirestore",Lt.name,()=>{const _n=_.runOutsideAngular(()=>Lt.firestore());if(c&&_n.settings(c),lt&&_n.useEmulator(...lt),a&&!Io(f)){const si=()=>{try{return(0,Xt.D)(_n.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(hw){return"undefined"!=typeof console&&console.warn(hw),(0,Je.of)(!1)}};return[_n,_.runOutsideAngular(si)]}return[_n,(0,Je.of)(!1)]},[c,lt,a])}collection(t,r){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:f}=Lf(a,r),_=this.schedulers.ngZone.run(()=>c);return new Wb(_,f,this)}collectionGroup(t,r){const a=r||(f=>f),c=this.firestore.collectionGroup(t);return new Tx(a(c),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>r);return new RD(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(yi.Dh),d.LFG(yi.xv,8),d.LFG(xD,8),d.LFG(Dx,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Dn.HU),d.LFG(ev,8),d.LFG(Hi,8),d.LFG(uy,8),d.LFG(lE,8),d.LFG(cE,8),d.LFG(dE,8),d.LFG(hE,8),d.LFG(Ra,8),d.LFG(Np,8),d.LFG(oy,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ND=(()=>{class n{constructor(){uE.Z.registerVersion("angularfire",Dn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:xD,useValue:!0},{provide:ev,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[hc]}),n})();const nm_firebaseConfig={apiKey:"AIzaSyD5ia6VFZV9TIFNSkKhRd8fSQ9Ei5weXic",authDomain:"tp2labo4.firebaseapp.com",projectId:"tp2labo4",storageBucket:"tp2labo4.appspot.com",messagingSenderId:"818660515562",appId:"1:818660515562:web:ed8f3dcdbe804e07914193",measurementId:"G-TQ003QXSD5"};var Kb=V(1555);function Fd(n,e){return new Yr.y(t=>{const r=n.length;if(0===r)return void t.complete();const a=new Array(r);let c=0,f=0;for(let _=0;_<r;_++){const w=(0,Xt.D)(n[_]);let S=!1;t.add(w.subscribe({next:x=>{S||(S=!0,f++),a[_]=x},error:x=>t.error(x),complete:()=>{c++,(c===r||!S)&&(f===r&&t.next(e?e.reduce((x,P,H)=>(x[P]=a[H],x),{}):a),t.complete())}}))}})}let OD=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),Ld=(()=>{class n extends OD{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const qa=new d.OlP("NgValueAccessor"),Sx={provide:qa,useExisting:(0,d.Gpc)(()=>ps),multi:!0},xx=new d.OlP("CompositionEventMode");let ps=(()=>{class n extends OD{constructor(t,r,a){super(t,r),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(xx,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[d._Bn([Sx]),d.qOj]}),n})();function po(n){return null==n||0===n.length}function tv(n){return null!=n&&"number"==typeof n.length}const Di=new d.OlP("NgValidators"),fc=new d.OlP("NgAsyncValidators"),Nx=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Nt{static min(e){return function(n){return e=>{if(po(e.value)||po(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function(n){return e=>{if(po(e.value)||po(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return Jb(e)}static requiredTrue(e){return function(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function(n){return po(n.value)||Nx.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function(n){return e=>po(e.value)||!tv(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function(n){return e=>tv(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function(n){if(!n)return Hs;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(po(r.value))return null;const a=r.value;return e.test(a)?null:{pattern:{requiredPattern:t,actualValue:a}}}}(e)}static nullValidator(e){return null}static compose(e){return ew(e)}static composeAsync(e){return tw(e)}}function Jb(n){return po(n.value)?{required:!0}:null}function Hs(n){return null}function rm(n){return null!=n}function Vd(n){const e=(0,d.QGY)(n)?(0,Xt.D)(n):n;return(0,d.CqO)(e),e}function VD(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function UD(n,e){return e.map(t=>t(n))}function Xb(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function ew(n){if(!n)return null;const e=n.filter(rm);return 0==e.length?null:function(t){return VD(UD(t,e))}}function nv(n){return null!=n?ew(Xb(n)):null}function tw(n){if(!n)return null;const e=n.filter(rm);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if((0,no.k)(e))return Fd(e,null);if((0,Kb.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Fd(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return Fd(n=1===n.length&&(0,no.k)(n[0])?n[0]:n,null).pipe((0,ft.U)(t=>e(...t)))}return Fd(n,null)}(UD(t,e).map(Vd)).pipe((0,ft.U)(VD))}}function im(n){return null!=n?tw(Xb(n)):null}function BD(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function jD(n){return n._rawValidators}function nw(n){return n._rawAsyncValidators}function Ku(n){return n?Array.isArray(n)?n:[n]:[]}function Uf(n,e){return Array.isArray(n)?n.includes(e):n===e}function $D(n,e){const t=Ku(e);return Ku(n).forEach(a=>{Uf(t,a)||t.push(a)}),t}function HD(n,e){return Ku(e).filter(t=>!Uf(n,t))}let Ox=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=nv(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=im(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n}),n})(),gs=(()=>{class n extends Ox{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();class Ud extends Ox{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Px{constructor(e){this._cd=e}is(e){var t,r,a;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(a=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===a?void 0:a[e])}}let rv=(()=>{class n extends Px{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ud,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[d.qOj]}),n})(),iv=(()=>{class n extends Px{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(gs,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[d.qOj]}),n})();function m(n,e){D(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Z(n,e)})}(n,e),function(n,e){const t=(r,a)=>{e.valueAccessor.writeValue(r),a&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Z(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function y(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),N(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function E(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function D(n,e){const t=jD(n);null!==e.validator?n.setValidators(BD(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=nw(n);null!==e.asyncValidator?n.setAsyncValidators(BD(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const a=()=>n.updateValueAndValidity();E(e._rawValidators,a),E(e._rawAsyncValidators,a)}function N(n,e){let t=!1;if(null!==n){if(null!==e.validator){const a=jD(n);if(Array.isArray(a)&&a.length>0){const c=a.filter(f=>f!==e.validator);c.length!==a.length&&(t=!0,n.setValidators(c))}}if(null!==e.asyncValidator){const a=nw(n);if(Array.isArray(a)&&a.length>0){const c=a.filter(f=>f!==e.asyncValidator);c.length!==a.length&&(t=!0,n.setAsyncValidators(c))}}}const r=()=>{};return E(e._rawValidators,r),E(e._rawAsyncValidators,r),t}function Z(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function pc(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Za="VALID",Yu="INVALID",gc="PENDING",Bd="DISABLED";function om(n){return(Lx(n)?n.validators:n)||null}function sv(n){return Array.isArray(n)?nv(n):n||null}function Fx(n,e){return(Lx(e)?e.asyncValidators:n)||null}function E1(n){return Array.isArray(n)?im(n):n||null}function Lx(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Vx{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=sv(this._rawValidators),this._composedAsyncValidatorFn=E1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Za}get invalid(){return this.status===Yu}get pending(){return this.status==gc}get disabled(){return this.status===Bd}get enabled(){return this.status!==Bd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=sv(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=E1(e)}addValidators(e){this.setValidators($D(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($D(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(HD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(HD(e,this._rawAsyncValidators))}hasValidator(e){return Uf(this._rawValidators,e)}hasAsyncValidator(e){return Uf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=gc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Bd,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Za,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Za||this.status===gc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bd:Za}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=gc,this._hasOwnPendingAsyncValidator=!0;const t=Vd(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(a=>{r=r instanceof ov?r.controls.hasOwnProperty(a)?r.controls[a]:null:r instanceof Ux&&r.at(a)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Bd:this.errors?Yu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gc)?gc:this._anyControlsHaveStatus(Yu)?Yu:Za}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Lx(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Bf extends Vx{constructor(e=null,t,r){super(om(t),Fx(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){pc(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){pc(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class ov extends Vx{constructor(e,t,r){super(om(t),Fx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,a)=>{r.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof Bf?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((a,c)=>{r=t(r,a,c)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class Ux extends Vx{constructor(e,t,r){super(om(t),Fx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,a)=>{this.at(a)&&this.at(a).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,a)=>{r.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Bf?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let ow=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const kM={provide:qa,useExisting:(0,d.Gpc)(()=>aw),multi:!0};let aw=(()=>{class n extends Ld{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},features:[d._Bn([kM]),d.qOj]}),n})(),T1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const jx=new d.OlP("NgModelWithFormControlWarning"),BM={provide:gs,useExisting:(0,d.Gpc)(()=>am)};let am=(()=>{class n extends gs{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(N(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return m(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){y(t.control||null,t,!1),pc(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,a=this.form.get(t.path);r!==a&&(y(r||null,t),a instanceof Bf&&(m(a,t),t.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function(n,e){D(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function(n,e){return N(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){D(this.form,this),this._oldForm&&N(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Di,10),d.Y36(fc,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([BM]),d.qOj,d.TTD]}),n})();const HM={provide:Ud,useExisting:(0,d.Gpc)(()=>av)};let av=(()=>{class n extends Ud{constructor(t,r,a,c,f){super(),this._ngModelWarningConfig=f,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=function(n,e){if(!e)return null;let t,r,a;return Array.isArray(e),e.forEach(c=>{c.constructor===ps?t=c:function(n){return Object.getPrototypeOf(n.constructor)===Ld}(c)?r=c:a=c}),a||r||t||null}(0,c)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(gs,13),d.Y36(Di,10),d.Y36(fc,10),d.Y36(qa,10),d.Y36(jx,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([HM]),d.qOj,d.TTD]}),n._ngModelWarningSentOnce=!1,n})();const qM={provide:qa,useExisting:(0,d.Gpc)(()=>ZD),multi:!0};function x1(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let ZD=(()=>{class n extends Ld{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=this._getOptionId(t);null==r&&this.setProperty("selectedIndex",-1);const a=x1(r,t);this.setProperty("value",a)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&d.NdJ("change",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([qM]),d.qOj]}),n})(),N1=(()=>{class n{constructor(t,r,a){this._element=t,this._renderer=r,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(x1(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(ZD,9))},n.\u0275dir=d.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const ZM={provide:qa,useExisting:(0,d.Gpc)(()=>qx),multi:!0};function M1(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let qx=(()=>{class n extends Ld{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const a=t.map(c=>this._getOptionId(c));r=(c,f)=>{c._setSelected(a.indexOf(f.toString())>-1)}}else r=(a,c)=>{a._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const a=[];if(void 0!==r.selectedOptions){const c=r.selectedOptions;for(let f=0;f<c.length;f++){const _=c.item(f),w=this._getOptionValue(_.value);a.push(w)}}else{const c=r.options;for(let f=0;f<c.length;f++){const _=c.item(f);if(_.selected){const w=this._getOptionValue(_.value);a.push(w)}}}this.value=a,t(a)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&d.NdJ("change",function(c){return r.onChange(c.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([ZM]),d.qOj]}),n})(),O1=(()=>{class n{constructor(t,r,a){this._element=t,this._renderer=r,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(M1(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(M1(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(qx,9))},n.\u0275dir=d.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const YM={provide:Di,useExisting:(0,d.Gpc)(()=>zD),multi:!0};let zD=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?Jb(t):null}registerOnValidatorChange(t){this._onChange=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&d.uIk("required",r.required?"":null)},inputs:{required:"required"},features:[d._Bn([YM])]}),n})(),H1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[T1]]}),n})(),q1=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:jx,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[H1]}),n})(),Gx=(()=>{class n{group(t,r=null){const a=this._reduceControls(t);let _,c=null,f=null;return null!=r&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(c=null!=r.validators?r.validators:null,f=null!=r.asyncValidators?r.asyncValidators:null,_=null!=r.updateOn?r.updateOn:void 0):(c=null!=r.validator?r.validator:null,f=null!=r.asyncValidator?r.asyncValidator:null)),new ov(a,{asyncValidators:f,updateOn:_,validators:c})}control(t,r,a){return new Bf(t,r,a)}array(t,r,a){const c=t.map(f=>this._createControl(f));return new Ux(c,r,a)}_reduceControls(t){const r={};return Object.keys(t).forEach(a=>{r[a]=this._createControl(t[a])}),r}_createControl(t){return t instanceof Bf||t instanceof ov||t instanceof Ux?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,d.Yz7)({factory:function(){return new n},token:n,providedIn:q1}),n})();class iO{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new sO(e,this.dueTime,this.scheduler))}}class sO extends Vn.L{constructor(e,t,r){super(e),this.dueTime=t,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(oO,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function oO(n){n.debouncedNext()}var jf=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(jf||(jf={})),jf))();const G1="firebasestorage.googleapis.com",Z1="storageBucket";class _r extends wt.ZR{constructor(e,t){super(Zx(e),`Firebase Storage: ${t} (${Zx(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_r.prototype)}_codeEquals(e){return Zx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Zx(n){return"storage/"+n}function zx(){return new _r("unknown","An unknown error occurred, please check the error payload for server response.")}function z1(){return new _r("canceled","User canceled the upload/download.")}function W1(){return new _r("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function vO(){return new _r("no-download-url","The given file does not have any download URLs.")}function uv(n){return new _r("invalid-argument",n)}function K1(){return new _r("app-deleted","The Firebase app was deleted.")}function Y1(n){return new _r("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function uw(n,e){return new _r("invalid-format","String does not match format '"+n+"': "+e)}function WD(n){throw new _r("internal-error","Internal error: "+n)}class EO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=jf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=jf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=jf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,a){if(this.sent_)throw WD("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==a)for(const c in a)a.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,a[c].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw WD("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw WD("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponseText(){if(!this.sent_)throw WD("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class wO{createConnection(){return new EO}}class ys{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ys.makeFromUrl(e,t)}catch(a){return new ys(e,"")}if(""===r.path)return r;throw function(n){return new _r("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)",_=new RegExp("^gs://"+a+"(/(.*))?$","i");function S(lt){lt.path_=decodeURIComponent(lt.path)}const P=t.replace(/[.]/g,"\\."),Lt=[{regex:_,indices:{bucket:1,path:3},postModify:function(lt){"/"===lt.path.charAt(lt.path.length-1)&&(lt.path_=lt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${P}/v[A-Za-z0-9_]+/b/${a}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:S},{regex:new RegExp(`^https?://${t===G1?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${a}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:S}];for(let lt=0;lt<Lt.length;lt++){const _n=Lt[lt],si=_n.regex.exec(e);if(si){let fw=si[_n.indices.path];fw||(fw=""),r=new ys(si[_n.indices.bucket],fw),_n.postModify(r);break}}if(null==r)throw function(n){return new _r("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class IO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function KD(n){return"string"==typeof n||n instanceof String}function Q1(n){return Wx()&&n instanceof Blob}function Wx(){return"undefined"!=typeof Blob}function Kx(n,e,t,r){if(r<e)throw uv(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw uv(`Invalid value for '${n}'. Expected ${t} or less.`)}function $f(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function J1(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}class RO{constructor(e,t,r,a,c,f,_,w,S,x,P){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=c,this.additionalRetryCodes_=f,this.callback_=_,this.errorCallback_=w,this.timeout_=S,this.progressCallback_=x,this.pool_=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,K)=>{this.resolve_=H,this.reject_=K,this.start_()})}start_(){const t=(r,a)=>{const c=this.resolve_,f=this.reject_,_=a.connection;if(a.wasSuccessCode)try{const w=this.callback_(_,_.getResponseText());!function(n){return void 0!==n}(w)?c():c(w)}catch(w){f(w)}else if(null!==_){const w=zx();w.serverResponse=_.getResponseText(),f(this.errorCallback_?this.errorCallback_(_,w):w)}else f(a.canceled?this.appDelete_?K1():z1():new _r("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?t(0,new YD(!1,null,!0)):this.backoffId_=function(n,e,t){let r=1,a=null,c=!1,f=0;function _(){return 2===f}let w=!1;function S(...ye){w||(w=!0,e.apply(null,ye))}function x(ye){a=setTimeout(()=>{a=null,n(P,_())},ye)}function P(ye,...Fe){if(w)return;if(ye)return void S.call(null,ye,...Fe);if(_()||c)return void S.call(null,ye,...Fe);let _t;r<64&&(r*=2),1===f?(f=2,_t=0):_t=1e3*(r+Math.random()),x(_t)}let H=!1;function K(ye){H||(H=!0,!w&&(null!==a?(ye||(f=2),clearTimeout(a),x(0)):ye||(f=1)))}return x(0),setTimeout(()=>{c=!0,K(!0)},t),K}((r,a)=>{if(a)return void r(!1,new YD(!1,null,!0));const c=this.pool_.createConnection();this.pendingConnection_=c;const f=_=>{null!==this.progressCallback_&&this.progressCallback_(_.loaded,_.lengthComputable?_.total:-1)};null!==this.progressCallback_&&c.addUploadProgressListener(f),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&c.removeUploadProgressListener(f),this.pendingConnection_=null;const _=c.getErrorCode()===jf.NO_ERROR,w=c.getStatus();if(!_||this.isRetryStatusCode_(w)){const x=c.getErrorCode()===jf.ABORT;return void r(!1,new YD(!1,null,x))}const S=-1!==this.successCodes_.indexOf(w);r(!0,new YD(S,c))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,a=-1!==[408,429].indexOf(e),c=-1!==this.additionalRetryCodes_.indexOf(e);return t||a||c}}class YD{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function FO(...n){const e="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(Wx())return new Blob(n);throw new _r("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Wo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Yx{constructor(e,t){this.data=e,this.contentType=t||null}}function Qx(n,e){switch(n){case Wo.RAW:return new Yx(X1(e));case Wo.BASE64:case Wo.BASE64URL:return new Yx(eM(n,e));case Wo.DATA_URL:return new Yx(function(n){const e=new tM(n);return e.base64?eM(Wo.BASE64,e.rest):function(n){let e;try{e=decodeURIComponent(n)}catch(t){throw uw(Wo.DATA_URL,"Malformed data URL.")}return X1(e)}(e.rest)}(e),function(n){return new tM(n).contentType}(e))}throw zx()}function X1(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function eM(n,e){switch(n){case Wo.BASE64:{const a=-1!==e.indexOf("-"),c=-1!==e.indexOf("_");if(a||c)throw uw(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Wo.BASE64URL:{const a=-1!==e.indexOf("+"),c=-1!==e.indexOf("/");if(a||c)throw uw(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function(n){return atob(n)}(e)}catch(a){throw uw(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}class tM{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw uw(Wo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)}}class mc{constructor(e,t){let r=0,a="";Q1(e)?(this.data_=e,r=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(Q1(this.data_)){const a=function(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===a?null:new mc(a)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new mc(r,!0)}}static getBlob(...e){if(Wx()){const t=e.map(r=>r instanceof mc?r.data_:r);return new mc(FO.apply(null,t))}{const t=e.map(f=>KD(f)?Qx(Wo.RAW,f).data:f.data_);let r=0;t.forEach(f=>{r+=f.byteLength});const a=new Uint8Array(r);let c=0;return t.forEach(f=>{for(let _=0;_<f.length;_++)a[c++]=f[_]}),new mc(a,!0)}}uploadData(){return this.data_}}function Jx(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function nM(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function GO(n,e){return e}class qs{constructor(e,t,r,a){this.server=e,this.local=t||e,this.writable=!!r,this.xform=a||GO}}let QD=null;function lw(){if(QD)return QD;const n=[];n.push(new qs("bucket")),n.push(new qs("generation")),n.push(new qs("metageneration")),n.push(new qs("name","fullPath",!0));const t=new qs("name");t.xform=function(c,f){return function(n){return!KD(n)||n.length<2?n:nM(n)}(f)},n.push(t);const a=new qs("size");return a.xform=function(c,f){return void 0!==f?Number(f):f},n.push(a),n.push(new qs("timeCreated")),n.push(new qs("updated")),n.push(new qs("md5Hash",null,!0)),n.push(new qs("cacheControl",null,!0)),n.push(new qs("contentDisposition",null,!0)),n.push(new qs("contentEncoding",null,!0)),n.push(new qs("contentLanguage",null,!0)),n.push(new qs("contentType",null,!0)),n.push(new qs("metadata","customMetadata",!0)),QD=n,QD}function rM(n,e,t){const r=Jx(e);return null===r?null:function(n,e,t){const r={type:"file"},a=t.length;for(let c=0;c<a;c++){const f=t[c];r[f.local]=f.xform(r,e[f.server])}return function(n,e){Object.defineProperty(n,"ref",{get:function(){const c=new ys(n.bucket,n.fullPath);return e._makeStorageReference(c)}})}(r,n),r}(n,r,t)}function Xx(n,e){const t={},r=e.length;for(let a=0;a<r;a++){const c=e[a];c.writable&&(t[c.server]=n[c.local])}return JSON.stringify(t)}const iM="prefixes";class jd{constructor(e,t,r,a){this.url=e,this.method=t,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function yc(n){if(!n)throw zx()}function JD(n,e){return function(r,a){const c=rM(n,a,e);return yc(null!==c),c}}function lv(n){return function(t,r){let a;return a=401===t.getStatus()?t.getResponseText().includes("Firebase App Check token is invalid")?new _r("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new _r("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?function(n){return new _r("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function(n){return new _r("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,a.serverResponse=r.serverResponse,a}}function XD(n){const e=lv(n);return function(r,a){let c=e(r,a);return 404===r.getStatus()&&(c=function(n){return new _r("object-not-found","Object '"+n+"' does not exist.")}(n.path)),c.serverResponse=a.serverResponse,c}}function oM(n,e,t){const a=$f(e.fullServerUrl(),n.host,n._protocol),f=n.maxOperationRetryTime,_=new jd(a,"GET",JD(n,t),f);return _.errorHandler=XD(e),_}function eP(n,e,t,r,a){const c={};c.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(c.delimiter=t),r&&(c.pageToken=r),a&&(c.maxResults=a);const _=$f(e.bucketOnlyServerUrl(),n.host,n._protocol),S=n.maxOperationRetryTime,x=new jd(_,"GET",function(n,e){return function(r,a){const c=function(n,e,t){const r=Jx(t);return null===r?null:function(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[iM])for(const a of t[iM]){const c=a.replace(/\/$/,""),f=n._makeStorageReference(new ys(e,c));r.prefixes.push(f)}if(t.items)for(const a of t.items){const c=n._makeStorageReference(new ys(e,a.name));r.items.push(c)}return r}(n,e,r)}(n,e,a);return yc(null!==c),c}}(n,e.bucket),S);return x.urlParams=c,x.errorHandler=lv(e),x}function tP(n,e,t){const a=$f(e.fullServerUrl(),n.host,n._protocol),f=n.maxOperationRetryTime,_=new jd(a,"GET",function(n,e){return function(r,a){const c=rM(n,a,e);return yc(null!==c),function(n,e,t,r){const a=Jx(e);if(null===a||!KD(a.downloadTokens))return null;const c=a.downloadTokens;if(0===c.length)return null;const f=encodeURIComponent;return c.split(",").map(S=>{const P=n.fullPath;return $f("/b/"+f(n.bucket)+"/o/"+f(P),t,r)+J1({alt:"media",token:S})})[0]}(c,a,n.host,n._protocol)}}(n,t),f);return _.errorHandler=XD(e),_}function nP(n,e,t,r){const c=$f(e.fullServerUrl(),n.host,n._protocol),_=Xx(t,r),S=n.maxOperationRetryTime,x=new jd(c,"PATCH",JD(n,r),S);return x.headers={"Content-Type":"application/json; charset=utf-8"},x.body=_,x.errorHandler=XD(e),x}function rP(n,e){const r=$f(e.fullServerUrl(),n.host,n._protocol),_=new jd(r,"DELETE",function(w,S){},n.maxOperationRetryTime);return _.successCodes=[200,204],_.errorHandler=XD(e),_}function aM(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function(n,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}class eA{constructor(e,t,r,a){this.current=e,this.total=t,this.finalized=!!r,this.metadata=a||null}}function eN(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(a){yc(!1)}return yc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const uP={STATE_CHANGED:"state_changed"},Gs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function tN(n){switch(n){case"running":case"pausing":case"canceling":return Gs.RUNNING;case"paused":return Gs.PAUSED;case"success":return Gs.SUCCESS;case"canceled":return Gs.CANCELED;case"error":default:return Gs.ERROR}}class lP{constructor(e,t,r){if(function(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const c=e;this.next=c.next,this.error=c.error,this.complete=c.complete}}}function cv(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class cM{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=lw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{this._request=void 0,this._chunkMultiplier=1,a._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=a,this._transition("error"))},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals("canceled")?this.completeTransitions_():(this._error=a,this._transition("error"))},this._promise=new Promise((a,c)=>{this._resolve=a,this._reject=c,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function(n,e,t,r,a){const c=e.bucketOnlyServerUrl(),f=aM(e,r,a),_={name:f.fullPath},w=$f(c,n.host,n._protocol),x={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":f.contentType,"Content-Type":"application/json; charset=utf-8"},P=Xx(f,t),ye=new jd(w,"POST",function(Fe){let qe;eN(Fe);try{qe=Fe.getResponseHeader("X-Goog-Upload-URL")}catch(_t){yc(!1)}return yc(KD(qe)),qe},n.maxUploadRetryTime);return ye.urlParams=_,ye.headers=x,ye.body=P,ye.errorHandler=lv(e),ye}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,e,t);this._request=a,a.getPromise().then(c=>{this._request=void 0,this._uploadUrl=c,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const a=function(n,e,t,r){const w=new jd(t,"POST",function(S){const x=eN(S,["active","final"]);let P=null;try{P=S.getResponseHeader("X-Goog-Upload-Size-Received")}catch(K){yc(!1)}P||yc(!1);const H=Number(P);return yc(!isNaN(H)),new eA(H,r.size(),"final"===x)},n.maxUploadRetryTime);return w.headers={"X-Goog-Upload-Command":"query"},w.errorHandler=lv(e),w}(this._ref.storage,this._ref._location,e,this._blob),c=this._ref.storage._makeRequest(a,t,r);this._request=c,c.getPromise().then(f=>{f=f,this._request=void 0,this._updateProgress(f.current),this._needToFetchStatus=!1,f.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new eA(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((a,c)=>{let f;try{f=function(n,e,t,r,a,c,f,_){const w=new eA(0,0);if(f?(w.current=f.current,w.total=f.total):(w.current=0,w.total=r.size()),r.size()!==w.total)throw new _r("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const S=w.total-w.current;let x=S;a>0&&(x=Math.min(x,a));const P=w.current,ye={"X-Goog-Upload-Command":x===S?"upload, finalize":"upload","X-Goog-Upload-Offset":`${w.current}`},Fe=r.slice(P,P+x);if(null===Fe)throw W1();const Lt=new jd(t,"POST",function(lt,_n){const si=eN(lt,["active","final"]),hw=w.current+x,fw=r.size();let lN;return lN="final"===si?JD(e,c)(lt,_n):null,new eA(hw,fw,"final"===si,lN)},e.maxUploadRetryTime);return Lt.headers=ye,Lt.body=Fe.uploadData(),Lt.progressCallback=_||null,Lt.errorHandler=lv(n),Lt}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(w){return this._error=w,void this._transition("error")}const _=this._ref.storage._makeRequest(f,a,c);this._request=_,_.getPromise().then(w=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(w.current),w.finalized?(this._metadata=w.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=oM(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(r,e,t);this._request=a,a.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function(n,e,t,r,a){const c=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"},w=function(){let Lt="";for(let lt=0;lt<2;lt++)Lt+=Math.random().toString().slice(2);return Lt}();f["Content-Type"]="multipart/related; boundary="+w;const S=aM(e,r,a),x=Xx(S,t),K=mc.getBlob("--"+w+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+x+"\r\n--"+w+"\r\nContent-Type: "+S.contentType+"\r\n\r\n",r,"\r\n--"+w+"--");if(null===K)throw W1();const ye={name:S.fullPath},Fe=$f(c,n.host,n._protocol),_t=n.maxUploadRetryTime,Mt=new jd(Fe,"POST",JD(n,t),_t);return Mt.urlParams=ye,Mt.headers=f,Mt.body=K.uploadData(),Mt.errorHandler=lv(e),Mt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,e,t);this._request=a,a.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=z1(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=tN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,a){const c=new lP(t||void 0,r||void 0,a||void 0);return this._addObserver(c),()=>{this._removeObserver(c)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(tN(this._state)){case Gs.SUCCESS:cv(this._resolve.bind(null,this.snapshot))();break;case Gs.CANCELED:case Gs.ERROR:cv(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(tN(this._state)){case Gs.RUNNING:case Gs.PAUSED:e.next&&cv(e.next.bind(e,this.snapshot))();break;case Gs.SUCCESS:e.complete&&cv(e.complete.bind(e))();break;case Gs.CANCELED:case Gs.ERROR:e.error&&cv(e.error.bind(e,this._error))();break;default:e.error&&cv(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class um{constructor(e,t){this._service=e,this._location=t instanceof ys?t:ys.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new um(e,t)}get root(){const e=new ys(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nM(this._location.path)}get storage(){return this._service}get parent(){const e=function(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ys(this._location.bucket,e);return new um(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw Y1(e)}}function hM(n,e,t){return nN.apply(this,arguments)}function nN(){return(nN=(0,me.Z)(function*(n,e,t){const a=yield fM(n,{pageToken:t});e.prefixes.push(...a.prefixes),e.items.push(...a.items),null!=a.nextPageToken&&(yield hM(n,e,a.nextPageToken))})).apply(this,arguments)}function fM(n,e){return rN.apply(this,arguments)}function rN(){return(rN=(0,me.Z)(function*(n,e){null!=e&&"number"==typeof e.maxResults&&Kx("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=eP(n.storage,n._location,"/",t.pageToken,t.maxResults);return(yield n.storage.makeRequestWithTokens(r)).getPromise()})).apply(this,arguments)}function iN(){return(iN=(0,me.Z)(function*(n){n._throwIfRoot("getMetadata");const e=oM(n.storage,n._location,lw());return(yield n.storage.makeRequestWithTokens(e)).getPromise()})).apply(this,arguments)}function sN(){return(sN=(0,me.Z)(function*(n,e){n._throwIfRoot("updateMetadata");const t=nP(n.storage,n._location,e,lw());return(yield n.storage.makeRequestWithTokens(t)).getPromise()})).apply(this,arguments)}function oN(){return(oN=(0,me.Z)(function*(n){n._throwIfRoot("getDownloadURL");const e=tP(n.storage,n._location,lw());return(yield n.storage.makeRequestWithTokens(e)).getPromise().then(t=>{if(null===t)throw vO();return t})})).apply(this,arguments)}function aN(){return(aN=(0,me.Z)(function*(n){n._throwIfRoot("deleteObject");const e=rP(n.storage,n._location);return(yield n.storage.makeRequestWithTokens(e)).getPromise()})).apply(this,arguments)}function pM(n,e){const t=function(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new ys(n._location.bucket,t);return new um(n.storage,r)}function gM(n,e){if(n instanceof uN){const t=n;if(null==t._bucket)throw new _r("no-default-bucket","No default bucket found. Did you set the '"+Z1+"' property when initializing the app?");const r=new um(t,t._bucket);return null!=e?gM(r,e):r}return void 0!==e?pM(n,e):n}function vP(n,e){if(e&&function(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof uN)return function(n,e){return new um(n,e)}(n,e);throw uv("To use ref(service, url), the first argument must be a Storage instance.")}return gM(n,e)}function mM(n,e){const t=null==e?void 0:e[Z1];return null==t?null:ys.makeFromBucketSpec(t,n)}class uN{constructor(e,t,r,a,c,f){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._pool=a,this._url=c,this._firebaseVersion=f,this._bucket=null,this._host=G1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=c?ys.makeFromBucketSpec(c,this._host):mM(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ys.makeFromBucketSpec(this._url,e):mM(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Kx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Kx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,me.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,me.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new um(this,e)}_makeRequest(e,t,r){if(this._deleted)return new IO(K1());{const a=function(n,e,t,r,a,c){const f=J1(n.urlParams),_=n.url+f,w=Object.assign({},n.headers);return function(n,e){e&&(n["X-Firebase-GMPID"]=e)}(w,e),function(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(w,t),function(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(w,c),function(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(w,r),new RO(_,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a)}(e,this._appId,t,r,this._pool,this._firebaseVersion);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e){var t=this;return(0,me.Z)(function*(){const[r,a]=yield Promise.all([t._getAuthToken(),t._getAppCheckToken()]);return t._makeRequest(e,r,a)})()}}const yM="@firebase/storage";function EM(n,e){return vP(n=(0,wt.m9)(n),e)}(0,Sa._registerComponent)(new Oh.wA("storage",function(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new uN(t,r,a,new wO,e,Sa.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Sa.registerVersion)(yM,"0.8.4",""),(0,Sa.registerVersion)(yM,"0.8.4","esm2017");class tA{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class bM{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new tA(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new tA(r,this,this._ref))},t)}on(e,t,r,a){let c;return t&&(c="function"==typeof t?f=>t(new tA(f,this,this._ref)):{next:t.next?f=>t.next(new tA(f,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,c,r||void 0,a||void 0)}}class wM{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new $d(e,this._service))}get items(){return this._delegate.items.map(e=>new $d(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class $d{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(n,e){return pM(n,e)}(this._delegate,e);return new $d(t,this.storage)}get root(){return new $d(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new $d(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new bM(function(n,e,t){return function(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new cM(n,new mc(e),t)}(n=(0,wt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Wo.RAW,r){this._throwIfRoot("putString");const a=Qx(t,e),c=Object.assign({},r);return null==c.contentType&&null!=a.contentType&&(c.contentType=a.contentType),new bM(new cM(this._delegate,new mc(a.data,!0),c),this)}listAll(){return function(n){return function(n){const e={prefixes:[],items:[]};return hM(n,e).then(()=>e)}(n=(0,wt.m9)(n))}(this._delegate).then(e=>new wM(e,this.storage))}list(e){return function(n,e){return fM(n=(0,wt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new wM(t,this.storage))}getMetadata(){return function(n){return function(n){return iN.apply(this,arguments)}(n=(0,wt.m9)(n))}(this._delegate)}updateMetadata(e){return function(n,e){return function(n,e){return sN.apply(this,arguments)}(n=(0,wt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function(n){return function(n){return oN.apply(this,arguments)}(n=(0,wt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(n){return function(n){return aN.apply(this,arguments)}(n=(0,wt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw Y1(e)}}class IM{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(CM(e))throw uv("ref() expected a child path but got a URL, use refFromURL instead.");return new $d(EM(this._delegate,e),this)}refFromURL(e){if(!CM(e))throw uv("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ys.makeFromUrl(e,this._delegate.host)}catch(t){throw uv("refFromUrl() expected a valid full URL but got an invalid one.")}return new $d(EM(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function(n,e,t,r={}){!function(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken="string"==typeof a?a:(0,wt.Sg)(a,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function CM(n){return/^[A-Za-z]+:\/\//.test(n)}function kP(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new IM(t,r)}function TM(n){const e=function(n){return new Yr.y(e=>{const t=f=>e.next(f);t(n.snapshot);const c=n.on("state_changed",t);return n.then(f=>{t(f),e.complete()},f=>{t(n.snapshot),(f=>{e.error(f)})(f)}),function(){c()}}).pipe(function(n,e=ed.P){return t=>t.lift(new iO(n,e))}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,ft.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function nA(n){return{getDownloadURL:()=>(0,Je.of)(void 0).pipe(Dn.fc,Un(()=>n.getDownloadURL()),Dn.iC),getMetadata:()=>(0,Je.of)(void 0).pipe(Dn.fc,Un(()=>n.getMetadata()),Dn.iC),delete:()=>(0,Xt.D)(n.delete()),child:e=>nA(n.child(e)),updateMetadata:e=>(0,Xt.D)(n.updateMetadata(e)),put:(e,t)=>TM(n.put(e,t)),putString:(e,t,r)=>TM(n.putString(e,t,r)),list:e=>(0,Xt.D)(n.list(e)),listAll:()=>(0,Xt.D)(n.listAll())}}!function(n){const e={TaskState:Gs,TaskEvent:uP,StringFormat:Wo,Storage:IM,Reference:$d};n.INTERNAL.registerComponent(new Oh.wA("storage-compat",kP,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.4")}(pE.Z);const VP=new d.OlP("angularfire2.storageBucket"),UP=new d.OlP("angularfire2.storage.maxUploadRetryTime"),BP=new d.OlP("angularfire2.storage.maxOperationRetryTime"),jP=new d.OlP("angularfire2.storage.use-emulator");let rA=(()=>{class n{constructor(t,r,a,c,f,_,w,S,x,P){const H=(0,yi.on)(t,f,r);this.storage=(0,yi.cc)(`${H.name}.storage.${a}`,"AngularFireStorage",H.name,()=>{const K=f.runOutsideAngular(()=>H.storage(a||void 0)),ye=x;return ye&&K.useEmulator(...ye),w&&K.setMaxUploadRetryTime(w),S&&K.setMaxOperationRetryTime(S),K},[w,S])}ref(t){return nA(this.storage.ref(t))}refFromURL(t){return nA(this.storage.refFromURL(t))}upload(t,r,a){return nA(this.storage.ref(t)).put(r,a)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(yi.Dh),d.LFG(yi.xv,8),d.LFG(VP,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Dn.HU),d.LFG(UP,8),d.LFG(BP,8),d.LFG(jP,8),d.LFG(oy,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),$P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),HP=(()=>{class n{constructor(){uE.Z.registerVersion("angularfire",Dn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[rA],imports:[$P]}),n})(),cw=(()=>{class n{constructor(t){this.firestore=t,this.coleccionMensaje=t.collection("mensajes")}guardarMensajeFirestore(t){this.coleccionMensaje.add(t)}crear(t,r){return this.firestore.collection(t).add(r)}obtenerById(t,r){return this.firestore.collection(t).doc(r).snapshotChanges()}obtenerTodos(t){return this.firestore.collection(t).snapshotChanges()}actualizar(t,r,a){return this.firestore.collection(t).doc(r).set(a)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(hc))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qP(n,e){1&n&&(d.TgZ(0,"button",12),d._uU(1,"Aprobar cuenta"),d.qZA())}function GP(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",13),d.NdJ("click",function(){d.CHM(t);const a=d.oxw().$implicit;return d.oxw().aprobarEspecialista(a)}),d._uU(1,"Aprobar cuenta"),d.qZA()}}function ZP(n,e){if(1&n&&(d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d._uU(10),d.qZA(),d.TgZ(11,"td"),d.YNc(12,qP,2,0,"button",10),d.YNc(13,GP,2,0,"button",11),d.qZA(),d.qZA()),2&n){const t=e.$implicit;d.xp6(2),d.hij(" ",t.nombre," "),d.xp6(2),d.hij(" ",t.apellido," "),d.xp6(2),d.hij(" ",t.dni," "),d.xp6(2),d.hij(" ",t.edad," "),d.xp6(2),d.hij(" ",t.perfil," "),d.xp6(2),d.Q6J("ngIf","especialista"!=t.perfil),d.xp6(1),d.Q6J("ngIf","especialista"==t.perfil)}}let zP=(()=>{class n{constructor(t){this.firestore=t,this.listaUsuarios=[]}ngOnInit(){this.firestore.obtenerTodos("usuarios").subscribe(t=>{this.listaUsuarios=[],t.forEach(r=>{let a=r.payload.doc.data();this.listaUsuarios.push({id:a.id,nombre:a.nombre,apellido:a.apellido,edad:a.edad,dni:a.dni,perfil:a.perfil})})})}aprobarEspecialista(t){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(cw))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-usuarios"]],decls:30,vars:1,consts:[["role","main"],[1,"jumbotron"],[1,"container"],[1,"display-3"],[1,"row"],[1,"col"],["role","button",1,"btn","btn-primary","btn-lg"],[1,"col-md-10","offset-1"],[1,"table"],[4,"ngFor","ngForOf"],["class","btn btn-primary","disabled","",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],["disabled","",1,"btn","btn-primary"],[1,"btn","btn-primary",3,"click"]],template:function(t,r){1&t&&(d.TgZ(0,"main",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"h1",3),d._uU(4,"Panel de Administrador"),d.qZA(),d.TgZ(5,"div",4),d.TgZ(6,"div",5),d.TgZ(7,"p"),d.TgZ(8,"a",6),d._uU(9,"Dar de alta un administrador \xbb"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(10,"div",2),d.TgZ(11,"div",4),d.TgZ(12,"div",7),d.TgZ(13,"h2"),d._uU(14,"Listado de Usuarios"),d.qZA(),d.TgZ(15,"div"),d.TgZ(16,"table",8),d.TgZ(17,"tr"),d.TgZ(18,"td"),d._uU(19," Nombre "),d.qZA(),d.TgZ(20,"td"),d._uU(21," Apellido "),d.qZA(),d.TgZ(22,"td"),d._uU(23," DNI "),d.qZA(),d.TgZ(24,"td"),d._uU(25," Edad "),d.qZA(),d.TgZ(26,"td"),d._uU(27," Perfil "),d.qZA(),d.qZA(),d.YNc(28,ZP,14,7,"tr",9),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(29,"hr"),d.qZA(),d.qZA()),2&t&&(d.xp6(28),d.Q6J("ngForOf",r.listaUsuarios))},directives:[li,Gr],styles:[""]}),n})(),dw=(()=>{class n{constructor(t){this.afAuth=t}login(t,r){var a=this;return(0,me.Z)(function*(){try{return yield a.afAuth.signInWithEmailAndPassword(t,r)}catch(c){return console.log(c.code),a.manejarErroresFirebase(c.code)}})()}logout(){var t=this;return(0,me.Z)(function*(){try{return yield t.afAuth.signOut(),!0}catch(r){return console.log(r.code),t.manejarErroresFirebase(r.code)}})()}register(t,r){var a=this;return(0,me.Z)(function*(){try{const c=yield a.afAuth.createUserWithEmailAndPassword(t,r);return yield a.afAuth.signOut(),c}catch(c){return console.log(c.code),a.manejarErroresFirebase(c.code)}})()}getCurentUser(){return this.afAuth.authState.pipe(Ms()).toPromise()}manejarErroresFirebase(t){let r="";switch(t){case"auth/email-already-exists":case"auth/email-already-in-use":r="El mail ingresado ya pertenece a una cuenta!";break;case"auth/internal-error":r="Ocurri\xf3 un error inesperado!";break;case"auth/invalid-email":r="El formato del mail no es v\xe1lido!";break;case"auth/invalid-password":case"auth/weak-password":r="La contrase\xf1a debe terner al menos 6 caracteres!";break;case"auth/user-not-found":case"auth/wrong-password":r="Email y/o contrase\xf1a inv\xe1lidos!"}return r}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(uy))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WP(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"p",12),d.NdJ("click",function(){const c=d.CHM(t).$implicit;return d.oxw().seleccionarUsuario(c.mail,c.contrasenia)}),d._uU(1),d.qZA()}if(2&n){const t=e.$implicit;d.xp6(1),d.Oqu(t.mail)}}let KP=(()=>{class n{constructor(t,r,a){this.router=t,this.authSvc=r,this.firestore=a,this.loginForm=new ov({email:new Bf(""),password:new Bf("")}),this.users=[]}ngOnInit(){this.firestore.obtenerTodos("usuarios").subscribe(t=>{this.users=[],t.forEach(r=>{let a=r.payload.doc.data();console.info("usuario",a),this.users.push({mail:a.mail,contrasenia:a.contrasenia})})})}iniciarSesion(){var t=this;return(0,me.Z)(function*(){const{email:r,password:a}=t.loginForm.value;try{"string"!=typeof(yield t.authSvc.login(r,a))&&t.router.navigateByUrl("/bienvenida")}catch(c){console.log(c)}})()}seleccionarUsuario(t,r){this.loginForm.setValue({email:t,password:r})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(tr),d.Y36(dw),d.Y36(cw))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-login"]],decls:20,vars:2,consts:[[1,"wrapper"],[1,"container"],[1,"row"],[1,"col-12","col-md-2"],[1,"col-12","col-md-4"],[1,"form-signin",3,"formGroup","ngSubmit"],[1,"form-signin-heading"],["type","text","name","username","placeholder","Ingres\xe1 tu email","required","","autofocus","","formControlName","email",1,"form-control"],["type","password","name","password","placeholder","Ingres\xe1 tu contrase\xf1a","required","","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-lg","btn-primary","btn-block"],[1,"form-signin"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d._UZ(3,"div",3),d.TgZ(4,"div",4),d.TgZ(5,"form",5),d.NdJ("ngSubmit",function(){return r.iniciarSesion()}),d.TgZ(6,"h2",6),d._uU(7,"Inici\xe1 Sesi\xf3n!"),d.qZA(),d._UZ(8,"input",7),d._UZ(9,"input",8),d.TgZ(10,"button",9),d._uU(11,"Iniciar sesi\xf3n"),d.qZA(),d._UZ(12,"br"),d.qZA(),d.qZA(),d.TgZ(13,"div",4),d.TgZ(14,"div",10),d.TgZ(15,"h2",6),d._uU(16,"Inici\xe1 R\xe1pido!"),d.qZA(),d.TgZ(17,"div"),d.YNc(18,WP,2,1,"p",11),d.qZA(),d.qZA(),d.qZA(),d._UZ(19,"div",3),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(5),d.Q6J("formGroup",r.loginForm),d.xp6(13),d.Q6J("ngForOf",r.users))},directives:[ow,iv,am,ps,zD,rv,av,li],styles:[""]}),n})();function YP(n,e){1&n&&(d.TgZ(0,"small",31),d._uU(1,"El nombre es requerido"),d.qZA())}function QP(n,e){1&n&&(d.TgZ(0,"small",31),d._uU(1,"El Apellido es requerido"),d.qZA())}function JP(n,e){1&n&&(d.TgZ(0,"small",31),d._uU(1,"La edad es requerido"),d.qZA())}function XP(n,e){1&n&&(d.TgZ(0,"small",31),d._uU(1,"Debe estar entre 18 y 100"),d.qZA())}function ek(n,e){1&n&&(d.TgZ(0,"small",31),d._uU(1,"El DNI es requerido"),d.qZA())}function tk(n,e){1&n&&(d.TgZ(0,"small",31),d._uU(1,"Debe tener un rango numerico valido"),d.qZA())}function nk(n,e){1&n&&(d.TgZ(0,"small",31),d._uU(1,"El Email es requerido"),d.qZA())}function rk(n,e){1&n&&(d.TgZ(0,"small",31),d._uU(1,"Debe ser un formato de mail valido"),d.qZA())}function ik(n,e){1&n&&(d.TgZ(0,"small",31),d._uU(1,"La contrasenia es requerida"),d.qZA())}function sk(n,e){1&n&&(d.TgZ(0,"small",31),d._uU(1,"la Obra Social es requerida"),d.qZA())}function ok(n,e){1&n&&(d.TgZ(0,"small",31),d._uU(1,"La foto es requerida"),d.qZA())}function ak(n,e){1&n&&(d.TgZ(0,"small",31),d._uU(1,"La foto es requerida"),d.qZA())}let uk=(()=>{class n{constructor(t,r,a,c,f,_){this.auth=t,this.fb=r,this.firestore=a,this.router=c,this.firestorage=f,this.afs=_,this.paciente={id:"",nombre:"",apellido:"",edad:0,DNI:0,mail:"",contrasenia:"",obraSocial:"",foto:"",foto2:"",perfil:"paciente",verificado:!1}}ngOnInit(){this.formGroup=this.fb.group({nombre:["",Nt.required],apellido:["",Nt.required],edad:["",[Nt.required,Nt.min(18),Nt.max(150)]],dni:["",[Nt.required,Nt.min(1e6),Nt.max(99999999)]],mail:["",[Nt.required,Nt.email]],contrasenia:[""],foto1:[null,Nt.required],foto2:[null,Nt.required],obraSocial:["",Nt.required]})}onSelecFoto(t,r){t.target.files&&t.target.files[0]&&("foto1"==r?this.foto1=t.target.files[0]:this.foto2=t.target.files[0])}enviar(){this.paciente.nombre=this.formGroup.controls.nombre.value,this.paciente.apellido=this.formGroup.controls.apellido.value,this.paciente.edad=this.formGroup.controls.edad.value,this.paciente.DNI=this.formGroup.controls.dni.value,this.paciente.mail=this.formGroup.controls.mail.value,this.paciente.contrasenia=this.formGroup.controls.contrasenia.value,this.paciente.obraSocial=this.formGroup.controls.obraSocial.value,this.paciente.perfil="paciente";let t="fotos/"+this.paciente.nombre+this.paciente.DNI+"/1";const r=this.firestorage.ref(t),a=this.firestorage.upload(t,this.foto1);a.snapshotChanges().toPromise().then(()=>{r.getDownloadURL().toPromise().then(c=>{let f="fotos/"+this.paciente.nombre+this.paciente.DNI+"/2";const _=this.firestorage.ref(f);this.firestorage.upload(f,this.foto2),a.snapshotChanges().toPromise().then(()=>{_.getDownloadURL().toPromise().then(S=>{this.paciente.foto=c,this.paciente.foto2=S,this.paciente.id=this.afs.createId(),this.firestore.actualizar("usuarios",this.paciente.id,this.paciente).then(()=>{this.auth.register(this.paciente.mail,this.paciente.contrasenia),this.router.navigate(["/bienvenida"])})})})})})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(dw),d.Y36(Gx),d.Y36(cw),d.Y36(tr),d.Y36(rA),d.Y36(hc))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-paciente"]],decls:70,vars:14,consts:[[1,"container"],[1,"py-5","text-center"],[1,"row","g-5"],[1,"col-md-7","col-lg-8"],[1,"mb-3"],[3,"formGroup","ngSubmit"],[1,"row","g-3"],[1,"col-sm-6"],["for","firstName",1,"form-label"],["type","text","formControlName","nombre","placeholder","Ingrese nombre",1,"form-control"],["class","invalid",4,"ngIf"],["for","lastName",1,"form-label"],["type","text","formControlName","apellido","placeholder","Ingrese Apellido",1,"form-control"],[1,"col-12"],["for","username",1,"form-label"],["type","number","formControlName","edad","placeholder","Ingrese edad",1,"form-control"],["type","number","formControlName","dni","placeholder","Ingrese DNI",1,"form-control"],["type","text","formControlName","mail","placeholder","Ingrese Email",1,"form-control"],["type","password","formControlName","contrasenia","placeholder","Ingrese Contrase\xf1a",1,"form-control"],[1,"col-md-6","mb-3"],["for","sexo",1,"form-label"],["formControlName","obraSocial",1,"form-control"],["value",""],["value","pami"],["value","osecac"],["value","ioma"],["for","dni",1,"form-label"],["type","file","formControlName","foto1","placeholder","Seleccione Foto",1,"form-control",3,"change"],["type","file","formControlName","foto2","placeholder","Seleccione Foto",1,"form-control",3,"change"],[1,"my-4"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"invalid"]],template:function(t,r){if(1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"main"),d.TgZ(2,"div",1),d.TgZ(3,"h2"),d._uU(4,"Alta de Pacientes"),d.qZA(),d.qZA(),d.TgZ(5,"div",2),d.TgZ(6,"div",3),d.TgZ(7,"h4",4),d._uU(8,"Datos del Paciente"),d.qZA(),d.TgZ(9,"form",5),d.NdJ("ngSubmit",function(){return r.enviar()}),d.TgZ(10,"div",6),d.TgZ(11,"div",7),d.TgZ(12,"label",8),d._uU(13,"Nombre"),d.qZA(),d._UZ(14,"input",9),d.YNc(15,YP,2,0,"small",10),d.qZA(),d.TgZ(16,"div",7),d.TgZ(17,"label",11),d._uU(18,"Apellido"),d.qZA(),d._UZ(19,"input",12),d.YNc(20,QP,2,0,"small",10),d.qZA(),d.TgZ(21,"div",13),d.TgZ(22,"label",14),d._uU(23,"Edad"),d.qZA(),d._UZ(24,"input",15),d.YNc(25,JP,2,0,"small",10),d.YNc(26,XP,2,0,"small",10),d.qZA(),d.TgZ(27,"div",13),d.TgZ(28,"label",14),d._uU(29,"DNI"),d.qZA(),d._UZ(30,"input",16),d.YNc(31,ek,2,0,"small",10),d.YNc(32,tk,2,0,"small",10),d.qZA(),d.TgZ(33,"div",7),d.TgZ(34,"label",8),d._uU(35,"Email"),d.qZA(),d._UZ(36,"input",17),d.YNc(37,nk,2,0,"small",10),d.YNc(38,rk,2,0,"small",10),d.qZA(),d.TgZ(39,"div",7),d.TgZ(40,"label",11),d._uU(41,"Contrase\xf1a"),d.qZA(),d._UZ(42,"input",18),d.YNc(43,ik,2,0,"small",10),d.qZA(),d.TgZ(44,"div",19),d.TgZ(45,"label",20),d._uU(46,"Obra Solcial"),d.qZA(),d.TgZ(47,"select",21),d.TgZ(48,"option",22),d._uU(49,"Seleccione uno"),d.qZA(),d.TgZ(50,"option",23),d._uU(51,"PAMI"),d.qZA(),d.TgZ(52,"option",24),d._uU(53,"OSECAC"),d.qZA(),d.TgZ(54,"option",25),d._uU(55,"IOMA"),d.qZA(),d.qZA(),d.YNc(56,sk,2,0,"small",10),d.qZA(),d.TgZ(57,"div",19),d.TgZ(58,"label",26),d._uU(59,"Foto 1"),d.qZA(),d.TgZ(60,"input",27),d.NdJ("change",function(c){return r.onSelecFoto(c,"foto1")}),d.qZA(),d.YNc(61,ok,2,0,"small",10),d.qZA(),d.TgZ(62,"div",19),d.TgZ(63,"label",26),d._uU(64,"Foto 2"),d.qZA(),d.TgZ(65,"input",28),d.NdJ("change",function(c){return r.onSelecFoto(c,"foto2")}),d.qZA(),d.YNc(66,ak,2,0,"small",10),d.qZA(),d._UZ(67,"hr",29),d.TgZ(68,"button",30),d._uU(69," Aceptar "),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t){let a;d.xp6(9),d.Q6J("formGroup",r.formGroup),d.xp6(6),d.Q6J("ngIf",(null==r.formGroup.controls.nombre.errors?null:r.formGroup.controls.nombre.errors.required)&&r.formGroup.controls.nombre.touched),d.xp6(5),d.Q6J("ngIf",(null==r.formGroup.controls.apellido.errors?null:r.formGroup.controls.apellido.errors.required)&&r.formGroup.controls.apellido.touched),d.xp6(5),d.Q6J("ngIf",null==r.formGroup.controls.edad.errors?null:r.formGroup.controls.edad.errors.required),d.xp6(1),d.Q6J("ngIf",(null==r.formGroup.controls.edad.errors?null:r.formGroup.controls.edad.errors.min)||(null==r.formGroup.controls.edad.errors?null:r.formGroup.controls.edad.errors.max)),d.xp6(5),d.Q6J("ngIf",null==r.formGroup.controls.dni.errors?null:r.formGroup.controls.dni.errors.required),d.xp6(1),d.Q6J("ngIf",(null==r.formGroup.controls.dni.errors?null:r.formGroup.controls.dni.errors.min)||(null==r.formGroup.controls.dni.errors?null:r.formGroup.controls.dni.errors.max)),d.xp6(5),d.Q6J("ngIf",(null==r.formGroup.controls.mail.errors?null:r.formGroup.controls.mail.errors.required)&&r.formGroup.controls.mail.touched),d.xp6(1),d.Q6J("ngIf",null==r.formGroup.controls.mail.errors?null:r.formGroup.controls.mail.errors.email),d.xp6(5),d.Q6J("ngIf",(null==r.formGroup.controls.contrasenia.errors?null:r.formGroup.controls.contrasenia.errors.required)&&r.formGroup.controls.contrasenia.touched),d.xp6(13),d.Q6J("ngIf",(null==(a=r.formGroup.get("obraSocial"))?null:a.errors)&&r.formGroup.controls.obraSocial.touched),d.xp6(5),d.Q6J("ngIf",(null==r.formGroup.controls.foto1.errors?null:r.formGroup.controls.foto1.errors.required)&&r.formGroup.controls.foto1.touched),d.xp6(5),d.Q6J("ngIf",(null==r.formGroup.controls.foto2.errors?null:r.formGroup.controls.foto2.errors.required)&&r.formGroup.controls.foto2.touched),d.xp6(2),d.Q6J("disabled",r.formGroup.invalid)}},directives:[ow,iv,am,ps,rv,av,Gr,aw,ZD,N1,O1],styles:[""]}),n})();function lk(n,e){1&n&&(d.TgZ(0,"small",25),d._uU(1,"El nombre es requerido"),d.qZA())}function ck(n,e){1&n&&(d.TgZ(0,"small",25),d._uU(1,"El Apellido es requerido"),d.qZA())}function dk(n,e){1&n&&(d.TgZ(0,"small",25),d._uU(1,"La edad es requerido"),d.qZA())}function hk(n,e){1&n&&(d.TgZ(0,"small",25),d._uU(1,"Debe estar entre 18 y 100"),d.qZA())}function fk(n,e){1&n&&(d.TgZ(0,"small",25),d._uU(1,"El DNI es requerido"),d.qZA())}function pk(n,e){1&n&&(d.TgZ(0,"small",25),d._uU(1,"Debe tener un rango numerico valido"),d.qZA())}function gk(n,e){1&n&&(d.TgZ(0,"small",25),d._uU(1,"El Email es requerido"),d.qZA())}function mk(n,e){1&n&&(d.TgZ(0,"small",25),d._uU(1,"Debe ser un formato de mail valido"),d.qZA())}function yk(n,e){1&n&&(d.TgZ(0,"small",25),d._uU(1,"La contrasenia es requerida"),d.qZA())}function _k(n,e){1&n&&(d.TgZ(0,"small",25),d._uU(1,"La especialidad es requerida"),d.qZA())}function vk(n,e){1&n&&(d.TgZ(0,"small",25),d._uU(1,"La foto es requerida"),d.qZA())}let Ek=(()=>{class n{constructor(t,r,a,c,f,_){this.auth=t,this.fb=r,this.firestore=a,this.router=c,this.firestorage=f,this.afs=_,this.especialista={id:"",nombre:"",apellido:"",edad:0,DNI:0,mail:"",contrasenia:"",especialidad:"",foto:"",perfil:"especialista",verificado:!1,aprobado:!1}}ngOnInit(){this.formGroup=this.fb.group({nombre:["",Nt.required],apellido:["",Nt.required],edad:["",[Nt.required,Nt.min(18),Nt.max(150)]],dni:["",[Nt.required,Nt.min(1e6),Nt.max(99999999)]],mail:["",[Nt.required,Nt.email]],contrasenia:[""],foto:[null,Nt.required],especialidad:["",Nt.required]})}onSelecFoto(t){t.target.files&&t.target.files[0]&&(this.foto=t.target.files[0])}enviar(){this.especialista.nombre=this.formGroup.controls.nombre.value,this.especialista.apellido=this.formGroup.controls.apellido.value,this.especialista.edad=this.formGroup.controls.edad.value,this.especialista.DNI=this.formGroup.controls.dni.value,this.especialista.mail=this.formGroup.controls.mail.value,this.especialista.contrasenia=this.formGroup.controls.contrasenia.value,this.especialista.especialidad=this.formGroup.controls.especialidad.value;let t="fotos/"+this.especialista.nombre+this.especialista.DNI+"/1";const r=this.firestorage.ref(t);this.firestorage.upload(t,this.foto).snapshotChanges().toPromise().then(()=>{r.getDownloadURL().toPromise().then(c=>{this.especialista.foto=c,this.especialista.id=this.afs.createId(),this.firestore.actualizar("usuarios",this.especialista.id,this.especialista).then(()=>{this.auth.register(this.especialista.mail,this.especialista.contrasenia),this.router.navigate(["/bienvenida"])})})})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(dw),d.Y36(Gx),d.Y36(cw),d.Y36(tr),d.Y36(rA),d.Y36(hc))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-especialista"]],decls:57,vars:13,consts:[[1,"container"],[1,"py-5","text-center"],[1,"row","g-5"],[1,"col-md-7","col-lg-8"],[1,"mb-3"],[3,"formGroup","ngSubmit"],[1,"row","g-3"],[1,"col-sm-6"],["for","firstName",1,"form-label"],["type","text","formControlName","nombre","placeholder","Ingrese nombre",1,"form-control"],["class","invalid",4,"ngIf"],["for","lastName",1,"form-label"],["type","text","formControlName","apellido","placeholder","Ingrese Apellido",1,"form-control"],[1,"col-12"],["for","username",1,"form-label"],["type","number","formControlName","edad","placeholder","Ingrese edad",1,"form-control"],["type","number","formControlName","dni","placeholder","Ingrese DNI",1,"form-control"],["type","text","formControlName","mail","placeholder","Ingrese Email",1,"form-control"],["type","password","formControlName","contrasenia","placeholder","Ingrese Contrase\xf1a",1,"form-control"],["type","text","formControlName","especialidad","placeholder","Ingrese Especialidad",1,"form-control"],[1,"col-md-6","mb-3"],["for","dni",1,"form-label"],["type","file","formControlName","foto","placeholder","Seleccione Foto",1,"form-control",3,"change"],[1,"my-4"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"invalid"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"main"),d.TgZ(2,"div",1),d.TgZ(3,"h2"),d._uU(4,"Alta de Especialista"),d.qZA(),d.qZA(),d.TgZ(5,"div",2),d.TgZ(6,"div",3),d.TgZ(7,"h4",4),d._uU(8,"Datos del Especialista"),d.qZA(),d.TgZ(9,"form",5),d.NdJ("ngSubmit",function(){return r.enviar()}),d.TgZ(10,"div",6),d.TgZ(11,"div",7),d.TgZ(12,"label",8),d._uU(13,"Nombre"),d.qZA(),d._UZ(14,"input",9),d.YNc(15,lk,2,0,"small",10),d.qZA(),d.TgZ(16,"div",7),d.TgZ(17,"label",11),d._uU(18,"Apellido"),d.qZA(),d._UZ(19,"input",12),d.YNc(20,ck,2,0,"small",10),d.qZA(),d.TgZ(21,"div",13),d.TgZ(22,"label",14),d._uU(23,"Edad"),d.qZA(),d._UZ(24,"input",15),d.YNc(25,dk,2,0,"small",10),d.YNc(26,hk,2,0,"small",10),d.qZA(),d.TgZ(27,"div",13),d.TgZ(28,"label",14),d._uU(29,"DNI"),d.qZA(),d._UZ(30,"input",16),d.YNc(31,fk,2,0,"small",10),d.YNc(32,pk,2,0,"small",10),d.qZA(),d.TgZ(33,"div",7),d.TgZ(34,"label",8),d._uU(35,"Email"),d.qZA(),d._UZ(36,"input",17),d.YNc(37,gk,2,0,"small",10),d.YNc(38,mk,2,0,"small",10),d.qZA(),d.TgZ(39,"div",7),d.TgZ(40,"label",11),d._uU(41,"Contrase\xf1a"),d.qZA(),d._UZ(42,"input",18),d.YNc(43,yk,2,0,"small",10),d.qZA(),d.TgZ(44,"div",7),d.TgZ(45,"label",8),d._uU(46,"Especialidad"),d.qZA(),d._UZ(47,"input",19),d.YNc(48,_k,2,0,"small",10),d.qZA(),d.TgZ(49,"div",20),d.TgZ(50,"label",21),d._uU(51,"Foto"),d.qZA(),d.TgZ(52,"input",22),d.NdJ("change",function(c){return r.onSelecFoto(c)}),d.qZA(),d.YNc(53,vk,2,0,"small",10),d.qZA(),d._UZ(54,"hr",23),d.TgZ(55,"button",24),d._uU(56," Aceptar "),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(9),d.Q6J("formGroup",r.formGroup),d.xp6(6),d.Q6J("ngIf",(null==r.formGroup.controls.nombre.errors?null:r.formGroup.controls.nombre.errors.required)&&r.formGroup.controls.nombre.touched),d.xp6(5),d.Q6J("ngIf",(null==r.formGroup.controls.apellido.errors?null:r.formGroup.controls.apellido.errors.required)&&r.formGroup.controls.apellido.touched),d.xp6(5),d.Q6J("ngIf",null==r.formGroup.controls.edad.errors?null:r.formGroup.controls.edad.errors.required),d.xp6(1),d.Q6J("ngIf",(null==r.formGroup.controls.edad.errors?null:r.formGroup.controls.edad.errors.min)||(null==r.formGroup.controls.edad.errors?null:r.formGroup.controls.edad.errors.max)),d.xp6(5),d.Q6J("ngIf",null==r.formGroup.controls.dni.errors?null:r.formGroup.controls.dni.errors.required),d.xp6(1),d.Q6J("ngIf",(null==r.formGroup.controls.dni.errors?null:r.formGroup.controls.dni.errors.min)||(null==r.formGroup.controls.dni.errors?null:r.formGroup.controls.dni.errors.max)),d.xp6(5),d.Q6J("ngIf",(null==r.formGroup.controls.mail.errors?null:r.formGroup.controls.mail.errors.required)&&r.formGroup.controls.mail.touched),d.xp6(1),d.Q6J("ngIf",null==r.formGroup.controls.mail.errors?null:r.formGroup.controls.mail.errors.email),d.xp6(5),d.Q6J("ngIf",(null==r.formGroup.controls.contrasenia.errors?null:r.formGroup.controls.contrasenia.errors.required)&&r.formGroup.controls.contrasenia.touched),d.xp6(5),d.Q6J("ngIf",(null==r.formGroup.controls.especialidad.errors?null:r.formGroup.controls.especialidad.errors.required)&&r.formGroup.controls.especialidad.touched),d.xp6(5),d.Q6J("ngIf",(null==r.formGroup.controls.foto.errors?null:r.formGroup.controls.foto.errors.required)&&r.formGroup.controls.foto.touched),d.xp6(2),d.Q6J("disabled",r.formGroup.invalid))},directives:[ow,iv,am,ps,rv,av,Gr,aw],styles:[""]}),n})();function wk(n,e){1&n&&(d.TgZ(0,"small",24),d._uU(1,"El nombre es requerido"),d.qZA())}function Ik(n,e){1&n&&(d.TgZ(0,"small",24),d._uU(1,"El Apellido es requerido"),d.qZA())}function Ck(n,e){1&n&&(d.TgZ(0,"small",24),d._uU(1,"La edad es requerido"),d.qZA())}function Tk(n,e){1&n&&(d.TgZ(0,"small",24),d._uU(1,"Debe estar entre 18 y 100"),d.qZA())}function Dk(n,e){1&n&&(d.TgZ(0,"small",24),d._uU(1,"El DNI es requerido"),d.qZA())}function Ak(n,e){1&n&&(d.TgZ(0,"small",24),d._uU(1,"Debe tener un rango numerico valido"),d.qZA())}function Sk(n,e){1&n&&(d.TgZ(0,"small",24),d._uU(1,"El Email es requerido"),d.qZA())}function Rk(n,e){1&n&&(d.TgZ(0,"small",24),d._uU(1,"Debe ser un formato de mail valido"),d.qZA())}function xk(n,e){1&n&&(d.TgZ(0,"small",24),d._uU(1,"La contrasenia es requerida"),d.qZA())}function Nk(n,e){1&n&&(d.TgZ(0,"small",24),d._uU(1,"La foto es requerida"),d.qZA())}const Mk=[{path:"bienvenida",component:(()=>{class n{constructor(t){this.router=t}ngOnInit(){}registrarPaciente(){this.router.navigateByUrl("auth/registro/paciente")}registrarEspecialista(){this.router.navigateByUrl("auth/registro/especialista")}listaUsuarios(){this.router.navigateByUrl("admin/usuarios")}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(tr))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-bienvenida"]],decls:6,vars:0,consts:[[1,"btn","btn-primary",3,"click"]],template:function(t,r){1&t&&(d.TgZ(0,"a",0),d.NdJ("click",function(){return r.registrarPaciente()}),d._uU(1,"Registrar un paciente"),d.qZA(),d.TgZ(2,"a",0),d.NdJ("click",function(){return r.registrarEspecialista()}),d._uU(3,"Registrar un especialista"),d.qZA(),d.TgZ(4,"a",0),d.NdJ("click",function(){return r.listaUsuarios()}),d._uU(5,"Ver usuarios (admin)"),d.qZA())},styles:[""]}),n})()},{path:"auth/login",component:KP},{path:"auth/registro/paciente",component:uk},{path:"auth/registro/especialista",component:Ek},{path:"auth/registro/administrador",component:(()=>{class n{constructor(t,r,a,c,f,_){this.auth=t,this.fb=r,this.firestore=a,this.router=c,this.firestorage=f,this.afs=_,this.administrador={id:"",nombre:"",apellido:"",edad:0,DNI:0,mail:"",contrasenia:"",foto:"",perfil:"administrador"}}ngOnInit(){this.formGroup=this.fb.group({nombre:["",Nt.required],apellido:["",Nt.required],edad:["",[Nt.required,Nt.min(18),Nt.max(150)]],dni:["",[Nt.required,Nt.min(1e6),Nt.max(99999999)]],mail:["",[Nt.required,Nt.email]],contrasenia:[""],foto:[null,Nt.required]})}onSelecFoto(t){t.target.files&&t.target.files[0]&&(this.foto=t.target.files[0])}enviar(){this.administrador.nombre=this.formGroup.controls.nombre.value,this.administrador.apellido=this.formGroup.controls.apellido.value,this.administrador.edad=this.formGroup.controls.edad.value,this.administrador.DNI=this.formGroup.controls.dni.value,this.administrador.mail=this.formGroup.controls.mail.value,this.administrador.contrasenia=this.formGroup.controls.contrasenia.value;let t="fotos/"+this.administrador.nombre+this.administrador.DNI+"/1";const r=this.firestorage.ref(t);this.firestorage.upload(t,this.foto).snapshotChanges().toPromise().then(()=>{r.getDownloadURL().toPromise().then(c=>{this.administrador.foto=c,this.administrador.id=this.afs.createId(),this.firestore.actualizar("usuarios",this.administrador.id,this.administrador).then(()=>{this.auth.register(this.administrador.mail,this.administrador.contrasenia),this.router.navigate(["/bienvenida"])})})})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(dw),d.Y36(Gx),d.Y36(cw),d.Y36(tr),d.Y36(rA),d.Y36(hc))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-administrador"]],decls:52,vars:12,consts:[[1,"container"],[1,"py-5","text-center"],[1,"row","g-5"],[1,"col-md-7","col-lg-8"],[1,"mb-3"],[3,"formGroup","ngSubmit"],[1,"row","g-3"],[1,"col-sm-6"],["for","firstName",1,"form-label"],["type","text","formControlName","nombre","placeholder","Ingrese nombre",1,"form-control"],["class","invalid",4,"ngIf"],["for","lastName",1,"form-label"],["type","text","formControlName","apellido","placeholder","Ingrese Apellido",1,"form-control"],[1,"col-12"],["for","username",1,"form-label"],["type","number","formControlName","edad","placeholder","Ingrese edad",1,"form-control"],["type","number","formControlName","dni","placeholder","Ingrese DNI",1,"form-control"],["type","text","formControlName","mail","placeholder","Ingrese Email",1,"form-control"],["type","password","formControlName","contrasenia","placeholder","Ingrese Contrase\xf1a",1,"form-control"],[1,"col-md-6","mb-3"],["for","dni",1,"form-label"],["type","file","formControlName","foto","placeholder","Seleccione Foto",1,"form-control",3,"change"],[1,"my-4"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"invalid"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"main"),d.TgZ(2,"div",1),d.TgZ(3,"h2"),d._uU(4,"Alta de Administrador"),d.qZA(),d.qZA(),d.TgZ(5,"div",2),d.TgZ(6,"div",3),d.TgZ(7,"h4",4),d._uU(8,"Datos del Administrador"),d.qZA(),d.TgZ(9,"form",5),d.NdJ("ngSubmit",function(){return r.enviar()}),d.TgZ(10,"div",6),d.TgZ(11,"div",7),d.TgZ(12,"label",8),d._uU(13,"Nombre"),d.qZA(),d._UZ(14,"input",9),d.YNc(15,wk,2,0,"small",10),d.qZA(),d.TgZ(16,"div",7),d.TgZ(17,"label",11),d._uU(18,"Apellido"),d.qZA(),d._UZ(19,"input",12),d.YNc(20,Ik,2,0,"small",10),d.qZA(),d.TgZ(21,"div",13),d.TgZ(22,"label",14),d._uU(23,"Edad"),d.qZA(),d._UZ(24,"input",15),d.YNc(25,Ck,2,0,"small",10),d.YNc(26,Tk,2,0,"small",10),d.qZA(),d.TgZ(27,"div",13),d.TgZ(28,"label",14),d._uU(29,"DNI"),d.qZA(),d._UZ(30,"input",16),d.YNc(31,Dk,2,0,"small",10),d.YNc(32,Ak,2,0,"small",10),d.qZA(),d.TgZ(33,"div",7),d.TgZ(34,"label",8),d._uU(35,"Email"),d.qZA(),d._UZ(36,"input",17),d.YNc(37,Sk,2,0,"small",10),d.YNc(38,Rk,2,0,"small",10),d.qZA(),d.TgZ(39,"div",7),d.TgZ(40,"label",11),d._uU(41,"Contrase\xf1a"),d.qZA(),d._UZ(42,"input",18),d.YNc(43,xk,2,0,"small",10),d.qZA(),d.TgZ(44,"div",19),d.TgZ(45,"label",20),d._uU(46,"Foto"),d.qZA(),d.TgZ(47,"input",21),d.NdJ("change",function(c){return r.onSelecFoto(c)}),d.qZA(),d.YNc(48,Nk,2,0,"small",10),d.qZA(),d._UZ(49,"hr",22),d.TgZ(50,"button",23),d._uU(51," Aceptar "),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(9),d.Q6J("formGroup",r.formGroup),d.xp6(6),d.Q6J("ngIf",(null==r.formGroup.controls.nombre.errors?null:r.formGroup.controls.nombre.errors.required)&&r.formGroup.controls.nombre.touched),d.xp6(5),d.Q6J("ngIf",(null==r.formGroup.controls.apellido.errors?null:r.formGroup.controls.apellido.errors.required)&&r.formGroup.controls.apellido.touched),d.xp6(5),d.Q6J("ngIf",null==r.formGroup.controls.edad.errors?null:r.formGroup.controls.edad.errors.required),d.xp6(1),d.Q6J("ngIf",(null==r.formGroup.controls.edad.errors?null:r.formGroup.controls.edad.errors.min)||(null==r.formGroup.controls.edad.errors?null:r.formGroup.controls.edad.errors.max)),d.xp6(5),d.Q6J("ngIf",null==r.formGroup.controls.dni.errors?null:r.formGroup.controls.dni.errors.required),d.xp6(1),d.Q6J("ngIf",(null==r.formGroup.controls.dni.errors?null:r.formGroup.controls.dni.errors.min)||(null==r.formGroup.controls.dni.errors?null:r.formGroup.controls.dni.errors.max)),d.xp6(5),d.Q6J("ngIf",(null==r.formGroup.controls.mail.errors?null:r.formGroup.controls.mail.errors.required)&&r.formGroup.controls.mail.touched),d.xp6(1),d.Q6J("ngIf",null==r.formGroup.controls.mail.errors?null:r.formGroup.controls.mail.errors.email),d.xp6(5),d.Q6J("ngIf",(null==r.formGroup.controls.contrasenia.errors?null:r.formGroup.controls.contrasenia.errors.required)&&r.formGroup.controls.contrasenia.touched),d.xp6(5),d.Q6J("ngIf",(null==r.formGroup.controls.foto.errors?null:r.formGroup.controls.foto.errors.required)&&r.formGroup.controls.foto.touched),d.xp6(2),d.Q6J("disabled",r.formGroup.invalid))},directives:[ow,iv,am,ps,rv,av,Gr,aw],styles:[""]}),n})()},{path:"admin/usuarios",component:zP},{path:"**",redirectTo:"bienvenida",pathMatch:"full"}];let Ok=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Jm.forRoot(Mk)],Jm]}),n})();const DM=function(){return["auth/login"]};function Pk(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"li",11),d.TgZ(1,"a",13),d.NdJ("click",function(){return d.CHM(t),d.oxw(2).onLogout()}),d._uU(2,"LogOut"),d.qZA(),d.qZA()}2&n&&(d.xp6(1),d.Q6J("routerLink",d.DdM(1,DM)))}const kk=function(){return["/"]};function Fk(n,e){if(1&n&&(d.TgZ(0,"ul",9),d.YNc(1,Pk,3,2,"li",10),d.TgZ(2,"li",11),d.TgZ(3,"a",12),d._uU(4),d.qZA(),d.qZA(),d.qZA()),2&n){const t=e.ngIf;d.xp6(1),d.Q6J("ngIf",t),d.xp6(2),d.Q6J("routerLink",d.DdM(3,kk)),d.xp6(1),d.Oqu(null==t?null:t.email)}}function Lk(n,e){1&n&&(d.TgZ(0,"ul",9),d.TgZ(1,"li",11),d.TgZ(2,"a",12),d._uU(3,"Login"),d.qZA(),d.qZA(),d.qZA()),2&n&&(d.xp6(2),d.Q6J("routerLink",d.DdM(1,DM)))}const Vk=function(){return["/bienvenida"]};let Uk=(()=>{class n{constructor(t,r){this.authSvc=t,this.router=r,this.user$=this.authSvc.afAuth.user}ngOnInit(){console.log("carga")}onLogout(){var t=this;return(0,me.Z)(function*(){try{yield t.authSvc.logout(),t.router.navigateByUrl("/login")}catch(r){console.log(r)}})()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(dw),d.Y36(tr))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-nav"]],decls:12,vars:6,consts:[[1,"navbar","navbar-expand-md","navbar-dark","fixed-top","bg-dark"],[1,"navbar-brand",3,"routerLink"],["type","button","data-toggle","collapse","data-target","#navbarsExampleDefault","aria-controls","navbarsExampleDefault","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExampleDefault",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"float-right"],["class","navbar-nav mx-auto",4,"ngIf","ngIfElse"],["login",""],[1,"navbar-nav","mx-auto"],["class","nav-item",4,"ngIf"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],[1,"nav-link",3,"routerLink","click"]],template:function(t,r){if(1&t&&(d.TgZ(0,"nav",0),d.TgZ(1,"a",1),d._uU(2,"Clinica"),d.qZA(),d.TgZ(3,"button",2),d._UZ(4,"span",3),d.qZA(),d.TgZ(5,"div",4),d._UZ(6,"ul",5),d.TgZ(7,"div",6),d.YNc(8,Fk,5,4,"ul",7),d.ALo(9,"async"),d.YNc(10,Lk,4,2,"ng-template",null,8,d.W1O),d.qZA(),d.qZA(),d.qZA()),2&t){const a=d.MAs(11);d.xp6(1),d.Q6J("routerLink",d.DdM(5,Vk)),d.xp6(7),d.Q6J("ngIf",d.lcZ(9,3,r.user$))("ngIfElse",a)}},directives:[bp,Gr],pipes:[nl],styles:[""]}),n})(),Bk=(()=>{class n{constructor(){this.title="tp-clinica"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,consts:[[2,"margin-top","3.5rem"]],template:function(t,r){1&t&&(d._UZ(0,"app-nav"),d._UZ(1,"div",0),d._UZ(2,"router-outlet"))},directives:[Uk,Qm],styles:[""]}),n})(),jk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[Bk]}),n.\u0275inj=d.cJS({providers:[],imports:[[su,Ok,Jm,yi.hO.initializeApp(nm_firebaseConfig),MN,ND,q1,HP]]}),n})();(0,d.G48)(),Mc().bootstrapModule(jk).catch(n=>console.error(n))},4762:(et,Ae,V)=>{"use strict";function le(ne,oe){var fe={};for(var ue in ne)Object.prototype.hasOwnProperty.call(ne,ue)&&oe.indexOf(ue)<0&&(fe[ue]=ne[ue]);if(null!=ne&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(ue=Object.getOwnPropertySymbols(ne);Pe<ue.length;Pe++)oe.indexOf(ue[Pe])<0&&Object.prototype.propertyIsEnumerable.call(ne,ue[Pe])&&(fe[ue[Pe]]=ne[ue[Pe]])}return fe}function ce(ne,oe,fe,ue){return new(fe||(fe=Promise))(function(ge,nt){function Zt(Yt){try{Et(ue.next(Yt))}catch(Ln){nt(Ln)}}function Fn(Yt){try{Et(ue.throw(Yt))}catch(Ln){nt(Ln)}}function Et(Yt){Yt.done?ge(Yt.value):function(ge){return ge instanceof fe?ge:new fe(function(nt){nt(ge)})}(Yt.value).then(Zt,Fn)}Et((ue=ue.apply(ne,oe||[])).next())})}function z(ne,oe){var ue,Pe,ge,nt,fe={label:0,sent:function(){if(1&ge[0])throw ge[1];return ge[1]},trys:[],ops:[]};return nt={next:Zt(0),throw:Zt(1),return:Zt(2)},"function"==typeof Symbol&&(nt[Symbol.iterator]=function(){return this}),nt;function Zt(Et){return function(Yt){return function(Et){if(ue)throw new TypeError("Generator is already executing.");for(;fe;)try{if(ue=1,Pe&&(ge=2&Et[0]?Pe.return:Et[0]?Pe.throw||((ge=Pe.return)&&ge.call(Pe),0):Pe.next)&&!(ge=ge.call(Pe,Et[1])).done)return ge;switch(Pe=0,ge&&(Et=[2&Et[0],ge.value]),Et[0]){case 0:case 1:ge=Et;break;case 4:return fe.label++,{value:Et[1],done:!1};case 5:fe.label++,Pe=Et[1],Et=[0];continue;case 7:Et=fe.ops.pop(),fe.trys.pop();continue;default:if(!(ge=(ge=fe.trys).length>0&&ge[ge.length-1])&&(6===Et[0]||2===Et[0])){fe=0;continue}if(3===Et[0]&&(!ge||Et[1]>ge[0]&&Et[1]<ge[3])){fe.label=Et[1];break}if(6===Et[0]&&fe.label<ge[1]){fe.label=ge[1],ge=Et;break}if(ge&&fe.label<ge[2]){fe.label=ge[2],fe.ops.push(Et);break}ge[2]&&fe.ops.pop(),fe.trys.pop();continue}Et=oe.call(ne,fe)}catch(Yt){Et=[6,Yt],Pe=0}finally{ue=ge=0}if(5&Et[0])throw Et[1];return{value:Et[0]?Et[1]:void 0,done:!0}}([Et,Yt])}}}function J(ne){var oe="function"==typeof Symbol&&Symbol.iterator,fe=oe&&ne[oe],ue=0;if(fe)return fe.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&ue>=ne.length&&(ne=void 0),{value:ne&&ne[ue++],done:!ne}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}function Y(ne,oe){var fe="function"==typeof Symbol&&ne[Symbol.iterator];if(!fe)return ne;var Pe,nt,ue=fe.call(ne),ge=[];try{for(;(void 0===oe||oe-- >0)&&!(Pe=ue.next()).done;)ge.push(Pe.value)}catch(Zt){nt={error:Zt}}finally{try{Pe&&!Pe.done&&(fe=ue.return)&&fe.call(ue)}finally{if(nt)throw nt.error}}return ge}function de(ne,oe,fe){if(fe||2===arguments.length)for(var ge,ue=0,Pe=oe.length;ue<Pe;ue++)(ge||!(ue in oe))&&(ge||(ge=Array.prototype.slice.call(oe,0,ue)),ge[ue]=oe[ue]);return ne.concat(ge||Array.prototype.slice.call(oe))}V.d(Ae,{_T:()=>le,mG:()=>ce,Jh:()=>z,XA:()=>J,CR:()=>Y,ev:()=>de})},8239:(et,Ae,V)=>{"use strict";function d(F,le,te,ie,we,ce,z){try{var k=F[ce](z),L=k.value}catch(J){return void te(J)}k.done?le(L):Promise.resolve(L).then(ie,we)}function ee(F){return function(){var le=this,te=arguments;return new Promise(function(ie,we){var ce=F.apply(le,te);function z(L){d(ce,ie,we,z,k,"next",L)}function k(L){d(ce,ie,we,z,k,"throw",L)}z(void 0)})}}V.d(Ae,{Z:()=>ee})}},et=>{et(et.s=7273)}]);